(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[179],{255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=255,t.exports=e},759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r,i,o=n(762),s=n(685),a=n(34),u=n(300),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_);const w=_},34:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(762),i=n(685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>f});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>c,LL:()=>S,r3:()=>E,Sg:()=>l,ne:()=>C,p$:()=>a,ZB:()=>u,m9:()=>P,z$:()=>h,jU:()=>p,ru:()=>g,d:()=>v,w1:()=>y,uI:()=>d,UG:()=>f,b$:()=>m,G6:()=>_,Mn:()=>b});var r=n(762),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function a(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return h().indexOf("Electron/")>=0}function y(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function _(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var w=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,S.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),S=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?k(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new w(i,a,r);return u},t}();function k(t,e){return t.replace(A,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var A=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function C(t,e){var n=new T(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();var T=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=x),void 0===r.error&&(r.error=x),void 0===r.complete&&(r.complete=x);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function x(){}function P(t){return t&&t._delegate?t._delegate:t}},329:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r.Z});var r=n(759),i="8.10.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},336:(t,e,n)=>{"use strict";n.r(e);var r=n(759);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Ra(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Ra(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function m(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++y)}var v="closure_uid_"+(1e9*Math.random()>>>0),y=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var k=Date.now;function A(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function C(t,e,n){this.code=P+t,this.message=e||I[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new C(e.substring(P.length),t.message,t.serverResponse):null}A(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var x,P="auth/",I={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in O)if(O[e].id===t)return{firebaseEndpoint:(t=O[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function F(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function j(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,A(N,Error),N.prototype.name="CustomError",A(L,N),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new F(function(){return new q},function(t){t.reset()});function B(){var t=ye,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},z=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},K=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function $(t,e){return 0<=H(t,e)}function X(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ut(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function gt(t){var e,n={};for(e in t)n[e]=t[e];return n}var mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<mt.length;o++)n=mt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(g(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===kt&&e||"",this.b=St}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===St?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.ta=!0,bt.prototype.sa=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,St={},kt={};function At(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function Et(t,e){this.a=e===It?t:""}function Ct(t){return t instanceof Et&&t.constructor===Et?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=_t(t);if(!Pt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=At();return new Et(t=e?e.createScriptURL(t):t,It)}(t=n.replace(xt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))}))}Et.prototype.ta=!0,Et.prototype.sa=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Pt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={};function Ot(t,e){this.a=e===jt?t:""}function Rt(t){return t instanceof Ot&&t.constructor===Ot?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Ot.prototype.ta=!0,Ot.prototype.sa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Ot)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t))t=new Ot(t,jt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Nt);t=e&&Dt.test(e[1])?new Ot(t,jt):null}return t}function Ft(t){return t instanceof Ot?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Ot(t,jt))}var jt={},Vt=new Ot("about:invalid#zClosurez",jt);function Ut(t,e,n){this.a=n===Bt?t:""}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function qt(t,e,n,r){return t=t instanceof Ot?t:Ft(t),e=e||a,n=n instanceof bt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function zt(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var Gt,Kt,$t=dt("Opera"),Xt=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Yt=Qt||Xt,Jt=dt("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Kt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Kt):Qt?/Edge\/([\d\.]+)/.exec(Kt):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Kt):Zt?/WebKit\/(\S+)/.exec(Kt):$t?/(?:Version)[ \/]?(\S+)/.exec(Kt):void 0);if(ne&&(ee=ne?ne[1]:""),Xt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ct(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ct(0==s[2].length,0==a[2].length)||ct(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&Xt&&(te()||parseInt(Gt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Kt){}var ae=!Xt||9<=Number(se);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||g(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(g(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}z(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){a.setTimeout(function(){throw t},0)}function me(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),ye.add(t,e)}var ve=!1,ye=new V;function be(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){ge(e)}j(U,t)}ve=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Ne(n,Se,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,ke,t)})}catch(r){Ne(this,ke,r)}}var we=0,Se=2,ke=3;function Ae(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ae.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new F(function(){return new Ae},function(t){t.reset()});function Ce(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,Se,t),e}function xe(t){return new _e(function(e,n){n(t)})}function Pe(t,e,n){Le(t,e,n,null)||me(S(e,t))}function Ie(t){return new _e(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Pe(t[o],S(i,o,!0),S(i,o,!1));else e(r)})}function Oe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Oe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Fe(n),je(n,i,ke,e)))}t.c=null}else Ne(t,ke,e)}function Re(t,e){t.b||t.a!=Se&&t.a!=ke||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=Ce(null,null,null);return i.a=new _e(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,Re(t,i),i.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=ke,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=ke||n instanceof Be||function(t,e){t.g=!0,me(function(){t.g&&Ue.call(null,e)})}(t,n)))}function Le(t,e,n,r){if(t instanceof _e)return Re(t,Ce(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(g(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function je(t,e,n,r){if(n==ke&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Ue.call(null,i)}j(Ee,e)}function Ve(t,e,n){e==Se?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return De(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Ce(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return De(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);me(function(){Oe(this,e)},this)}},t.$c=function(t){this.a=we,Ne(this,Se,t)},t.ad=function(t){this.a=we,Ne(this,ke,t)},t.gc=function(){for(var t;t=Fe(this);)je(this,t,this.a,this.i);this.h=!1};var Ue=ge;function Be(t){N.call(this,t)}function qe(){0!=He&&(ze[m(this)]=this),this.ya=this.ya,this.pa=this.pa}A(Be,N),Be.prototype.name="cancel";var He=0,ze={};function We(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=He)){var e=m(t);if(0!=He&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}qe.prototype.ya=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ge=Object.freeze||function(t){return t},Ke=!Xt||9<=Number(se),$e=Xt&&!oe("9"),Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},A(Ye,Qe);var Je=Ge({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++tn,this.wa=this.Qa=!1}function nn(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new en(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=_n(n),t&&t[Ze]?Sn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=yn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ke?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[Ze]?kn(t,e,n,g(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=_n(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=yn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=yn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=yn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function vn(t,e){if(t.wa)return!0;if(!Ke){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ye(e,this))}function yn(t){return(t=t[an])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function wn(){qe.call(this),this.v=new rn(this),this.bc=this,this.hb=null}function Sn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function kn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function An(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&on(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function Cn(t){var e=null;return new _e(function(n,r){-1==(e=En(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function Tn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function xn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Pn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];On(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)On(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function On(t,e){return Object.prototype.hasOwnProperty.call(t,e)}A(wn,qe),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;vt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=An(s,r,!0,t)&&i}if(i=An(s=t.b=n,r,!0,t)&&i,i=An(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=An(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Pn.prototype).X=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return On(this.b,t)?this.b[t]:e},t.set=function(t,e){On(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Nn(this,t.c),this.l=t.l,this.a=t.a,Ln(this,t.g),this.f=t.f,Mn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Ln(this,n[4]),this.f=Bn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Xn(null,this.i))}function Nn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Ln(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Xn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Kn)),t.b=new Xn(e,t.i))}function Fn(t,e,n){t.b.set(e,n)}function jn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Un(t,e,n,r){var i=new Dn(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Ln(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Gn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,$n)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Nn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Ln(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Mn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Gn=/[#\?]/g,Kn=/[#\?@]/g,$n=/#/g;function Xn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=xn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Xn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Qn(t),e=nr(t,e),On(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,On((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Zn(t,e){return Qn(t),e=nr(t,e),On(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Xn;return e.c=t.c,t.a&&(e.a=new Pn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Xn.prototype).add=function(t,e){Qn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){z(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=Y(e,this.a.get(nr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function cr(){var t=Pr();return Xt&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Rt(Mt(t)||Vt)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Pr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Pr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Cr(Pr())==Ar&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ot?n:Mt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(yt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Ot?e:Ft(e),s.href=Rt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Rt(e),s&&(Yt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+zt(t)+'">',t=new Ut(t=(r=At())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function yr(){var t=null;return new _e(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function br(t){return t=t||Pr(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Sr(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function kr(){var t=Sr();return"ReactNative"===t||"Node"===t}var Ar="Firefox",Er="Chrome";function Cr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Ar:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Er:"Safari"}var Tr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xr(t,e){e=e||[];var n,r=[],i={};for(n in Tr)i[Tr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Sr())?r=Cr(i=Pr()):"Worker"===r&&(r=Cr(i=Pr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Pr(){return a.navigator&&a.navigator.userAgent||""}function Ir(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Or(){try{var t=a.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!a.indexedDB}catch(n){return wr()&&!!a.indexedDB}return!1}function Rr(){return(Dr()||"chrome-extension:"===Nr()||br())&&!kr()&&Or()&&!wr()}function Dr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return a.location&&a.location.protocol||null}function Lr(t){return!fr(t=t||Pr())&&Cr(t)!=Ar}function Mr(t){return void 0===t?null:rr(t)}function Fr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function jr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Cr(t=t||Pr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Pr(),e=Sr(),this.b=fr(t)||"ReactNative"===e}function Hr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!Ir("fireauth.oauthhelper",a)&&!Ir("fireauth.iframe",a))}qr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Dr()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Gr,Kr={};function $r(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Gr=2==Xr.abcd}catch(Kt){Gr=!1}function Qr(t,e,n){Gr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Jr(t){var e={};return Yr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ii]),Qr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Qr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[fi],i=t[pi];if(t=ei(t[di]),!i||i!=ci&&i!=li&&!n||i==li&&!r||i==ui&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[mi]=n||null,e[yi]=n||null,e[gi]=r):(e[mi]=r||null,e[yi]=r||null,e[gi]=n||null),e[vi]=t||null,Qr(this,_i,i),Qr(this,bi,Zr(e))}A(si,ti),si.prototype.w=function(){var t=si.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ui="REVERT_SECOND_FACTOR_ADDITION",ci="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",di="mfaInfo",fi="newEmail",pi="requestType",gi="email",mi="fromEmail",vi="multiFactorInfo",yi="previousEmail",bi="data",_i="operation";function wi(t){var e=jn(t=Vn(t),Si)||null,n=jn(t,ki)||null,r=jn(t,Ci)||null;if(r=r&&xi[r]||null,!e||!n||!r)throw new C("argument-error",Si+", "+ki+"and "+Ci+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:jn(t,Ai)||null,languageCode:jn(t,Ei)||null,tenantId:jn(t,Ti)||null})}var Si="apiKey",ki="oobCode",Ai="continueUrl",Ei="languageCode",Ci="mode",Ti="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ui,signIn:ci,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Pi(t){try{return new wi(t)}catch(e){return null}}function Ii(t){var e=t[Li];if(void 0===e)throw new C("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Oi];if(n&&"object"==typeof n){e=n[ji];var r=n[Mi];if(n=n[Fi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new C("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new C("argument-error",Fi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new C("argument-error",ji+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new C("missing-android-pkg-name")}}else if(void 0!==n)throw new C("argument-error",Oi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Vi])&&e.length)this.f=e;else if(void 0!==e)throw new C("argument-error",Vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new C("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Di])&&"boolean"!=typeof e)throw new C("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ri])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new C("argument-error",Ri+" property must be a non empty string when specified.");this.i=t||null}var Oi="android",Ri="dynamicLinkDomain",Di="handleCodeInApp",Ni="iOS",Li="url",Mi="installApp",Fi="minimumVersion",ji="packageName",Vi="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function qi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Hi(t){try{return new qi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(u){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Gi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Gi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Gi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Gi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Wi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function $i(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function Xi(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Qi])return new Ji(t)}catch(r){}return null}var Qi="idToken",Yi="providerId";function Ji(t){var e=t[Yi];if(!e&&t[Qi]){var n=Hi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Qr(this,"profile",Zr((t=jr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function io(t){var e=Vn(t),n=jn(e,"link"),r=jn(Vn(n),"link");return e=jn(e,"deep_link_id"),jn(Vn(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}A(Zi,Ji),A(to,Zi),A(eo,Zi),A(no,Zi),A(ro,Zi);var so="enroll",ao="signin";function uo(){}function co(t,e){return t.then(function(t){if(t[Qs]){var n=Hi(t[Qs]);if(!n||e!=n.i)throw new C("user-mismatch");return t}throw new C("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==P+"user-not-found"?new C("user-mismatch"):t})}function lo(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function go(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function mo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=($i(t)||{}).Ja||null,this.pb=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function bo(t){vo.call(this,t,Gi),this.a=[]}function _o(){bo.call(this,"facebook.com")}function wo(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function So(){bo.call(this,"github.com")}function ko(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return g(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function Ao(){bo.call(this,"google.com"),this.Ca("profile")}function Eo(t,e){var n=t;return g(t)&&(n=t.idToken,e=t.accessToken),(new Ao).credential({idToken:n,accessToken:e})}function Co(){vo.call(this,"twitter.com",Wi)}function To(t,e){var n=t;if(g(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function xo(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Io.EMAIL_LINK_SIGN_IN_METHOD?Io.EMAIL_LINK_SIGN_IN_METHOD:Io.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new xo(t.email,t.password,t.signInMethod):null}function Io(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Oo(t,e){if(!(e=Ro(e)))throw new C("argument-error","Invalid email link!");return new xo(t,e.code,Io.EMAIL_LINK_SIGN_IN_METHOD)}function Ro(t){return(t=Pi(t=io(t)))&&t.operation===ci?t:null}function Do(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new C("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Do(e)}return null}function Lo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||r.Z.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Do({fb:t,eb:e})}function jo(t){if(t.temporaryProof&&t.phoneNumber)return new Do({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return Eo(o,n);case"facebook.com":return wo(n);case"github.com":return ko(n);case"twitter.com":return To(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new bo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Vo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return Te(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},uo.prototype.ka=function(){},uo.prototype.b=function(){},uo.prototype.c=function(){},uo.prototype.w=function(){},lo.prototype.ka=function(t){return va(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ya(t,n)},lo.prototype.c=function(t,e){return co(ba(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return va(t,go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,ya(t,n)},po.prototype.c=function(t,e){return co(ba(t,go(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Jb=gt(t),this},A(yo,vo),A(bo,vo),bo.prototype.Ca=function(t){return $(this.a,t)||this.a.push(t),this},bo.prototype.Rb=function(){return J(this.a)},bo.prototype.credential=function(t,e){var n;if(!(n=g(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},A(_o,bo),Qr(_o,"PROVIDER_ID","facebook.com"),Qr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),A(So,bo),Qr(So,"PROVIDER_ID","github.com"),Qr(So,"GITHUB_SIGN_IN_METHOD","github.com"),A(Ao,bo),Qr(Ao,"PROVIDER_ID","google.com"),Qr(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),A(Co,vo),Qr(Co,"PROVIDER_ID","twitter.com"),Qr(Co,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ka=function(t){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?tu(t,Ta,{email:this.a,oobCode:this.f}):tu(t,Xa,{email:this.a,password:this.f})},xo.prototype.b=function(t,e){return this.signInMethod==Io.EMAIL_LINK_SIGN_IN_METHOD?tu(t,xa,{idToken:e,email:this.a,oobCode:this.f}):tu(t,Ba,{idToken:e,email:this.a,password:this.f})},xo.prototype.c=function(t,e){return co(this.ka(t),e)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(Io,{PROVIDER_ID:"password"}),Yr(Io,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(Io,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Do.prototype.ka=function(t){return t.gb(Lo(this))},Do.prototype.b=function(t,e){var n=Lo(this);return n.idToken=e,tu(t,Ya,n)},Do.prototype.c=function(t,e){var n=Lo(this);return n.operation="REAUTH",co(t=tu(t,Ja,n),e)},Do.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return Te(e.verify()).then(function(r){if("string"!=typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=g(t)?t.session:null,o=g(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tu(t,Ha,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tu(t,za,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tu(t,Va,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Mo,{PROVIDER_ID:"phone"}),Yr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,zo=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Go(t,e,n){C.call(this,t,n),(t=e||{}).Kb&&Qr(this,"email",t.Kb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.$b&&Qr(this,"tenantId",t.$b)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(P)&&(e=e.substring(P.length));var n={credential:jo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Go(e,n,t.message)}return null}function $o(){}function Xo(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Tb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}A(Wo,C),A(Go,C),Go.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Go.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,A(Xo,$o),Xo.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Xo.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},Ho=new Xo,A(Yo,$o),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||k(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(M("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var us={},cs=null;function ls(t){var e;if(cs||(cs=new es(""),us[""]=cs,cs.c=os),!(e=us[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,us[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function ds(t){this.f=t}function fs(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}A(ds,$o),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),A(fs,wn);var ps=0;function gs(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function ms(t){t.readyState=4,t.g=null,t.c=null,t.m=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ys(t){wn.call(this),this.headers=new Pn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=bs,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ms(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,gs(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?ms(this):vs(this),3==this.readyState&&gs(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,ms(this))},t.sc=function(t){this.a&&(this.response=t,ms(this))},t.Va=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&ms(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),A(ys,wn);var bs="";ys.prototype.b=ls("goog.net.XhrIo");var _s=/^https?$/i,ws=["POST","PUT"];function Ss(t){return"content-type"==t.toLowerCase()}function ks(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,As(t),Cs(t)}function As(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Es(t){if(t.c&&void 0!==s)if(t.C[1]&&4==xs(t)&&2==Ps(t))hs(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==xs(t))En(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==xs(t)){hs(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Ps(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&a.self&&a.self.location){var u=a.self.location.protocol;o=u.substr(0,u.length-1)}i=!_s.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<xs(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ps(t)+"]",As(t)}}finally{Cs(t)}}}function Cs(t,e){if(t.a){Ts(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ts(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function xs(t){return t.a?t.a.readyState:0}function Ps(t){try{return 2<xs(t)?t.a.status:-1}catch(e){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Ps(t)+"]"}function Os(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Rs(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Ds(t){if(t.a){if(!t.v)throw new Fs(t);t.v=!1}}function Ns(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ls(t){return K(t.g,function(t){return p(t[1])})}function Ms(t){if(t.h&&t.a&&Ls(t)){var e=t.h,n=Us[e];n&&(a.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ls(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Os?(Ns(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Vs(e),Us[e.a]=e,t.h=e.a)}function Fs(){N.call(this)}function js(){N.call(this)}function Vs(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=ys.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Cs(this,!0)),ys.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Es(this):this.Jc())},t.Jc=function(){Es(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case bs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Os.prototype.cancel=function(t){if(this.a)this.c instanceof Os&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new js(this),Ds(this),Rs(this,!1,t))}},Os.prototype.m=function(t,e){this.i=!1,Rs(this,t,e)},Os.prototype.then=function(t,e,n){var r,i,o=new _e(function(t,e){r=t,i=e});return Ns(this,r,function(t){t instanceof js?o.cancel():i(t)}),o.then(t,e,n)},Os.prototype.$goog_Thenable=!0,A(Fs,N),Fs.prototype.message="Deferred has already fired",Fs.prototype.name="AlreadyCalledError",A(js,N),js.prototype.message="Deferred was canceled",js.prototype.name="CanceledError",Vs.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function Bs(t){var e={},n=e.document||document,r=Ct(t).toString(),i=pe(document,"SCRIPT"),o={Xb:i,Ma:void 0},s=new Os(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){Hs(i,!0);var t=new Gs(Ws,"Timeout reached for loading script "+r);Ds(s),Rs(s,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Hs(i,e.xd||!1,u),Ds(s),Rs(s,!0,null))},i.onerror=function(){Hs(i,!0,u);var t=new Gs(zs,"Error while loading script "+r);Ds(s),Rs(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){yt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===c&&(c=l(a.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Hs(t,!0,this.Ma)}}function Hs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var zs=0,Ws=1;function Gs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Ks(t){this.f=t}function $s(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ys,this.g=gt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=gt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Sr(),!(n=a.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!wr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new ds(self):kr()?new Ks(n):new Yo,this.b=null}A(Gs,N),A(Ks,$o),Ks.prototype.a=function(){return new this.f},Ks.prototype.b=function(){return{}};var Xs,Qs="idToken",Ys=new qr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new qr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Nn(t,e.c),t.a=e.a,Ln(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=Pr();return!((t=Cr(t)!=Er?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Xt&&se&&!(9<se))})()||wr()?t=w(t.u,t):(Xs||(Xs=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ns(t,null,e,void 0)}(Bs(Tt(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}$s.prototype.T=function(){return this.b},$s.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new ys(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}Sn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),kn(s,"ready",function(){u&&clearTimeout(u),We(this)}),kn(s,"timeout",function(){u&&clearTimeout(u),We(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ho.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Ho),t.a.onreadystatechange=w(t.Wb,t);try{hs(t.b,Is(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(s){return hs(t.b,Is(t,"Error opening Xhr: "+s.message)),void ks(t,s)}e=r||"";var o=new Pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)z(t,e,void 0);else for(var n=xn(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Ss,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!$(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ts(t),0<t.g&&(t.u=function(t){return Xt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=En(t.Ma,t.g,t)),hs(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,Is(t,"Send error: "+s.message)),ks(t,s)}}(s,t,n,r,i)};var sa=new bt(kt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ua(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new C("invalid-email")}function ca(t){"email"in t&&ua(t)}function la(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,gt(t));throw new C("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}$s.prototype.s=function(t,e,n,r,i){var o=this;Xs.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},$s.prototype.Ab=function(){return tu(this,qa,{})},$s.prototype.Cb=function(t,e){return tu(this,Ua,{idToken:t,email:e})},$s.prototype.Db=function(t,e){return tu(this,Ba,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function ga(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new Xn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ma(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=eu(t.errorMessage)),e)throw e;la(t)}function va(t,e){return e.returnIdpCredential=!0,tu(t,Wa,e)}function ya(t,e){return e.returnIdpCredential=!0,tu(t,Ka,e)}function ba(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tu(t,Ga,e)}function _a(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=$s.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ft(da,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tu(this,Ua,n)},t.wb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),tu(this,La,t)},t.xb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),tu(this,Ra,t)},t.vb=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tu(this,Da,t)},t.Fb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tu(this,Na,t)},t.gb=function(t){return tu(this,Qa,t)},t.ob=function(t,e){return tu(this,ja,{oobCode:t,newPassword:e})},t.Sa=function(t){return tu(this,Sa,{oobCode:t})},t.kb=function(t){return tu(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Sa={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},B:!0},ka={endpoint:"signupNewUser",A:function(t){if(ua(t),!t.password)throw new C("weak-password")},G:la,V:!0,B:!0},Aa={endpoint:"createAuthUri",B:!0},Ea={endpoint:"deleteAccount",O:["idToken"]},Ca={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},Ta={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ua,G:la,V:!0,B:!0},xa={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ua,G:la,V:!0},Pa={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Ia={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Oa={endpoint:"getAccountInfo"},Ra={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ua(t)},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Na={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ua(t)},Z:"email",B:!0},Ma={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Fa={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},ja={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Va={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ua={endpoint:"setAccountInfo",O:["idToken"],A:ca,V:!0},Ba={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ca(t),!t.password)throw new C("weak-password")},G:la,V:!0},qa={endpoint:"signupNewUser",G:la,V:!0,B:!0},Ha={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},za={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Wa={endpoint:"verifyAssertion",A:pa,Za:ga,G:ma,V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:pa,Za:ga,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw eu(t.errorMessage);la(t)},V:!0,B:!0},Ka={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new C("internal-error")},Za:ga,G:ma,V:!0},$a={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:la,V:!0,B:!0},Xa={endpoint:"verifyPassword",A:function(t){if(ua(t),!t.password)throw new C("wrong-password")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Ya={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);la(t)}},Ja={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function tu(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return xe(new C("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Te(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Vn(e+n);Fn(a,"key",t.c),s&&Fn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Fn(a,c,i[c]);return new _e(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nu(t,o||{})):e(t):n(new C("network-request-failed"))},r,u?void 0:rr(Fr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]})}function eu(t){return nu({error:{errors:[{message:t}],code:400,message:t}})}function nu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=Mr(t)),new C("internal-error",e)}function ru(t){this.b=t,this.a=null,this.sb=function(t){return(au||(au=new _e(function(t,e){function n(){Br(),Ir("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:ou.get()})}if(Ir("gapi.iframes.Iframe"))t();else if(Ir("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Ir("gapi.load")?n():e(Error("Network Error"))},Te(Bs(r=Tt(iu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new _e(function(e,n){Ir("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},su.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var iu=new bt(kt,"https://apis.google.com/js/api.js?onload=%{onload}"),ou=new qr(3e4,6e4),su=new qr(5e3,15e3),au=null;function uu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Fn(this.a,"apiKey",this.h),Fn(this.a,"appName",this.i),this.b=null,this.c=[]}function cu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lu(t){try{return r.Z.app(t).auth().Ga()}catch(e){return[]}}function hu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function du(t){var e=lr();return function(t){return tu(t,Ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Vn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:mr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Wo(lr())})}function fu(t){return t.m||(t.m=yr().then(function(){if(!t.u){var e=t.c,n=t.i,r=lu(t.b),i=new uu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new ru(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)})}(t)})),t.m}function pu(t){return t.l||(t.C=t.c?xr(t.c,lu(t.b)):null,t.l=new $s(t.g,R(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function gu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new cu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=gt(u||null),t.f=c,t.zb(l).toString()}function mu(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=w(this.c,this)}uu.prototype.toString=function(){return this.f?Fn(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Fn(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Fn(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},cu.prototype.zb=function(t){return this.h=t,this},cu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Fn(t,"apiKey",this.s),Fn(t,"appName",this.c),Fn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Fn(t,"providerId",this.a.providerId),e=Fr((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=gt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),pt(e)||Fn(t,"customParameters",Mr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Fn(t,"scopes",n.join(",")),this.l?Fn(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Fn(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Fn(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!jn(t,a)&&Fn(t,a,this.b[a]);return this.h?Fn(t,"tid",this.h):Jn(t.b,"tid"),this.f?Fn(t,"eid",this.f):Jn(t.b,"eid"),(a=lu(this.c)).length&&Fn(t,"fw",a.join(",")),t.toString()},(t=hu.prototype).Pb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.sb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,Ir("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new _e(function(e){return function n(){Cn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return Cn(n).then(function(){e(r)})})},t.Yb=function(){var t=Pr();return!Lr(t)&&!Ur(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return xe(new C("popup-blocked"));if(s&&!Lr())return this.ma().o(function(e){pr(t),i(e)}),r(),Te();this.a||(this.a=du(pu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Vo(n),s||hr(gu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=du(pu(this)));var i=this;return this.a.then(function(){Vo(e),hr(gu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new C("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Q(this.h,function(e){return e==t})},(t=mu.prototype).get=function(t){return Te(this.a.getItem(t)).then(function(t){return t&&jr(t)})},t.set=function(t,e){return Te(this.a.setItem(t,Mr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,bu=[];function _u(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wu(t){this.a=t}function Su(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return xe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Au(t,c),e}).o(function(e){throw Au(t,c),e})}function Au(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Eu(){if(!Pu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(z(bu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);bu.push(e)}return e}(),_u(this.v,"keyChanged",function(e,n){return Nu(t).then(function(e){return 0<e.length&&z(t.a,function(t){t(e)}),{keyProcessed:$(e,n.key)}})}),_u(this.v,"ping",function(){return Te(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Te().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Te(null)}().then(function(e){(t.h=e)&&(t.g=new Su(new wu(e)),ku(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&$(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Cu(t){return new _e(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Cu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Tu(t){return t.i||(t.i=Cu(t)),t.i}function xu(t,e){var n=0;return new _e(function r(i,o){Tu(t).then(e).then(i).o(function(e){if(!(3<++n))return Tu(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Pu(){try{return!!a.indexedDB}catch(Kt){return!1}}function Iu(t){return t.objectStore("firebaseLocalStorage")}function Ou(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Ru(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Du(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Te()}function Nu(t){return Tu(t).then(function(t){var e=Iu(Ou(t,!1));return e.getAll?Ru(e.getAll()):new _e(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r})}function Lu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then(function(){if(Pu()){var t=Vr(),r="__sak"+t;return yu||(yu=new Eu),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){z(e.a,function(e){e(t)})}),t})}function Fu(){this.a={},this.type="inMemory"}function ju(){if(!function(){var t="Node"==Sr();if(!(t=Vu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Sr())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Vu()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Vu(){try{var t=a.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){this.type="nullStorage"}function Bu(){if(!function(){var t="Node"==Sr();if(!(t=qu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Sr())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=qu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var t=a.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Hu(){var t={};t.Browser=Gu,t.Node=Ku,t.ReactNative=$u,t.Worker=Xu,this.a=t[Sr()]}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];z(r,function(e){i.push(Te().then(function(){return e(t.origin,t.data.data)}))}),Ie(i).then(function(r){var i=[];z(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),z(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Su.prototype.close=function(){for(;0<this.a.length;)Au(this,this.a[0]);this.b=!0},(t=Eu.prototype).set=function(t,e){var n=this,r=!1;return xu(this,function(e){return Ru((e=Iu(Ou(e,!0))).get(t))}).then(function(i){return xu(n,function(o){if(o=Iu(Ou(o,!0)),i)return i.value=e,Ru(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Ru(o.add(s))})}).then(function(){return n.c[t]=e,Du(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return xu(this,function(e){return Ru(Iu(Ou(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return xu(this,function(r){return n=!0,e.b++,Ru(Iu(Ou(r,!0)).delete(t))}).then(function(){return delete e.c[t],Du(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Lu(t),function e(){t.f=setTimeout(function(){t.l=Nu(t).then(function(e){0<e.length&&z(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Lu(this)},(t=Mu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Fu.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(t){var e=this;return Te().then(function(){return jr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&cn(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Uu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Bu.prototype).get=function(t){var e=this;return Te().then(function(){return jr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zu,Wu,Gu={F:ju,cb:Bu},Ku={F:ju,cb:Bu},$u={F:mu,cb:Uu},Xu={F:ju,cb:Uu},Qu={rd:"local",NONE:"none",td:"session"};function Yu(){var t=!(Ur(Pr())||!_r()),e=Lr(),n=Or();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new Hu),t=zu;try{this.g=!cr()&&Wr()||!a.indexedDB?new t.a.F:new Mu(wr()?new Fu:new t.a.F)}catch(r){this.g=new Fu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Fu}this.v=new Fu,this.f=w(this.Zb,this),this.b={}}function Ju(){return Wu||(Wu=new Yu),Wu}function Zu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ec(t,e,n){return n=tc(e,n),"local"==e.F&&(t.b[n]=null),Zu(t,e.F).U(n)}function nc(t){t.c&&(clearInterval(t.c),t.c=null)}function rc(t){this.a=t,this.b=Ju()}(t=Yu.prototype).get=function(t,e){return Zu(this,t.F).get(tc(t,e))},t.set=function(t,e,n){var r=tc(t,n),i=this,o=Zu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zu(this,"local").ca(this.f),this.h||(cr()||!Wr())&&a.indexedDB||!this.l||function(t){nc(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tc(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zu(this,"local").ia(this.f),nc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zu(this,"local").ia(this.f):nc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.nb(e))},Xt&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else z(t,w(this.nb,this))},t.nb=function(t){this.a[t]&&z(this.a[t],function(t){t()})};var ic,oc={name:"authEvent",F:"local"};function sc(){this.a=Ju()}function ac(t,e){this.b=uc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ic&&(ic=a.Int32Array?new Int32Array(gc):gc),this.reset()}A(ac,function(){this.b=-1});for(var uc=64,cc=uc-1,lc=[],hc=0;hc<cc;hc++)lc[hc]=0;var dc=Y(128,lc);function fc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var gc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mc(){ac.call(this,8,vc)}A(mc,ac);var vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new sc,this.g=new rc(this.h),this.f=null,this.b=[],this.a=this.c=null}function bc(t){return new C("invalid-cordova-configuration",t)}function _c(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wc(t){return t.f||(t.f=t.ma().then(function(){return new _e(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Sc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(jn(o=Vn(i),"firebaseError")||null))?T(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_c(t,i)})}var n=new Uo("unknown",null,null,null,new C("no-auth-event")),r=!1,i=Cn(500).then(function(){return Sc(t).then(function(){r||_c(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ir("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new qo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ir("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Sc(t){var e=null;return function(t){return t.b.get(oc,t.a).then(function(t){return Bo(t)})}(t.g).then(function(n){return e=n,ec((n=t.g).b,oc,n.a)}).then(function(){return e})}function kc(t){this.a=t,this.b=Ju()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?yr().then(function(){return new _e(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):xe(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ir("universalLinks.subscribe",a))throw bc("cordova-universal-links-plugin-fix is not installed");if(void 0===Ir("BuildInfo.packageName",a))throw bc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ir("cordova.plugins.browsertab.openUrl",a))throw bc("cordova-plugin-browsertab is not installed");if("function"!=typeof Ir("cordova.InAppBrowser.open",a))throw bc("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})},t.Pb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),Te()},t.Nb=function(){return xe(new C("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return xe(new C("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Te().then(function(){return Vo(e),wc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Uo(e,r,null,o,new C("no-auth-event"),null,i),u=Ir("BuildInfo.packageName",a);if("string"!=typeof u)throw new C("invalid-cordova-configuration");var c=Ir("BuildInfo.displayName",a),l={};if(Pr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Pr().toLowerCase().match(/android/))return xe(new C("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new mc;pc(e,t),t=[];var n=8*e.g;pc(e,dc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=gu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(oc,s.w(),e)}).then(function(){var e=Ir("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new C("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ir("cordova.plugins.browsertab.openUrl",a)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ir("cordova.InAppBrowser.open",a)))throw new C("invalid-cordova-configuration");e=Pr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new _e(function(t,e){u=function(){var e=Ir("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Hr()&&c()},o.addEventListener("resume",c=function(){s||(s=Cn(2e3).then(function(){e(new C("redirect-cancelled-by-user"))}))},!1),Pr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Sc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),wc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new C("no-auth-event")),t(e))})},t.Ta=function(t){Q(this.b,function(e){return e==t})};var Ac={name:"pendingRedirect",F:"session"};function Ec(t){return ec(t.b,Ac,t.a)}function Cc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Bc,this.C=new Gc,this.g=new kc(Vc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Tc(this.D,this.v,this.m,x,this.J)}function Tc(t,e,n,i,o){var s=r.Z.SDK_VERSION||null;return br()?new yc(t,e,n,s,i,o):new hu(t,e,n,s,i,o)}function xc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Pc(t){t.a.Yb()&&xc(t).o(function(e){var n=new Uo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Lc(e)&&t.s(n)}),t.a.Ub()||qc(t.b)}function Ic(t,e){$(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Ac,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Ec(t.g).then(function(){xc(t).o(function(e){var n=new Uo("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));Lc(e)&&t.s(n)})}):Pc(t)}).o(function(){Pc(t)})}function Oc(t,e){Q(t.h,function(t){return t==e})}Cc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Tc(this.D,this.v,this.m,null,this.J),this.i={}},Cc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return qc(this.b),e};var Rc=new qr(2e3,1e4),Dc=new qr(3e4,6e4);function Nc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Lc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Mc(t,e,n,r,i){var o;return function(t){return t.b.set(Ac,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Lc(e))throw new C("operation-not-supported-in-this-environment");return o=e,Ec(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new _e(function(){}):Ec(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Fc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Rc.get())}Cc.prototype.ra=function(){return this.b.ra()};var jc={};function Vc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Uc(t,e,n,r){var i=Vc(e,n,r);return jc[i]||(jc[i]=new Cc(t,e,n,r)),jc[i]}function Bc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qc(t){t.g||(t.g=!0,Wc(t,!1,null,null))}function Hc(t){t.g&&!t.i&&Wc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return xe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Gc(){}function Kc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function $c(t,e){this.a=e,Qr(this,"verificationId",t)}function Xc(t,e,n,r){return new Mo(t).gb(e,n).then(function(t){return new $c(t,r)})}function Qc(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Yc(t,e,n){var r=e&&e[Zc];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=gt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;z(e[Jc]||[],function(t){(t=ei(t))&&i.b.push(t)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Bc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Wc(t,a,e,null)}).o(function(e){Wc(t,a,null,e)})}(this,t,e):xe(new C("invalid-auth-event")):(Wc(this,!1,null,null),Te())}else xe(new C("invalid-auth-event"))},Bc.prototype.ra=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=Cn(Dc.get()).then(function(){t.b||(t.g=!0,Wc(t,!0,null,e))})}(t))})},Gc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):xe(new C("invalid-auth-event"))}else xe(new C("invalid-auth-event"))},$c.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var Jc="mfaInfo",Zc="mfaPendingCredential";function tl(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new Yc(t,e,n),Qr(this,"resolver",this.b)}function el(t,e,n){if(t&&g(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Qr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&z(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function ul(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function cl(t,e){t.stop(),t.b=Cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Hr()||!t?Te():new _e(function(n){e=function(){Hr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).o(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function dl(t,e){t.b=Hi(e[Qs]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function pl(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function gl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION):null;this.a=new $s(this.l,R(x),i),(this.u=t.emulatorConfig||null)&&na(this.a,this.u),this.h=new ll(this.a),Al(this,e[Qs]),dl(this.h,e),Qr(this,"refreshToken",this.h.a),Tl(this,n||{}),wn.call(this),this.P=!1,this.s&&Rr()&&(this.b=Uc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ul(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=w(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){ml(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){bl(o,t.f)},this.ja=null,this.S=new sl(this,n),Qr(this,"multiFactor",this.S)}function ml(t,e){t.u=e,na(t.a,e),t.b&&(e=t.b,t.b=Uc(t.s,t.l,t.m,t.u),t.P&&(Oc(e,t),Ic(t.b,t)))}function vl(t,e){t.qa&&dn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&cn(e,"languageCodeChanged",t.Pa)}function yl(t,e){t.$&&dn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&cn(e,"emulatorConfigChanged",t.Ba)}function bl(t,e){t.aa=e,ia(t.a,r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,t.aa):null)}function _l(t,e){t.ja&&dn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&cn(e,"frameworkChanged",t.Oa)}function wl(t){try{return r.Z.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Sl(t){t.J||t.D.b||(t.D.start(),dn(t,"tokenChanged",t.ba),cn(t,"tokenChanged",t.ba))}function kl(t){dn(t,"tokenChanged",t.ba),t.D.stop()}function Al(t,e){t.Aa=e,Qr(t,"_lat",e)}function El(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Ie(e).then(function(){return t})}function Cl(t){t.b&&!t.P&&(t.P=!0,Ic(t.b,t))}function Tl(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function Pl(t){return Te().then(function(){if(t.J)throw new C("app-deleted")})}function Il(t){return G(t.providerData,function(t){return t.providerId})}function Ol(t,e){e&&(Rl(t,e.providerId),t.providerData.push(e))}function Rl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Dl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Nl(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),z(e.providerData,function(e){Ol(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Qr(t,"refreshToken",t.h.a),al(t.S,e.S.b))}function Ll(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tu(t.a,Oa,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Dl(t,"isAnonymous",!1),e})})}function Ml(t,e){e[Qs]&&t.Aa!=e[Qs]&&(dl(t.h,e),t.dispatchEvent(new ol("tokenChanged")),Al(t,e[Qs]),Dl(t,"refreshToken",t.h.a))}function Fl(t,e){return Ll(t).then(function(){if($(Il(t),e))return El(t).then(function(){throw new C("provider-already-linked")})})}function jl(t,e,n){return Jr({user:t,credential:jo(e),additionalUserInfo:e=Xi(e),operationType:n})}function Vl(t,e){return Ml(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!Rr())return xe(new C("operation-not-supported-in-this-environment"));if(t.i&&!o)return xe(t.i);var s=$i(n.providerId),a=Vr(t.uid+":::"),u=null;(!Lr()||_r())&&t.s&&n.isOAuthProvider&&(u=gu(t.s,t.l,t.m,e,n,null,a,r.Z.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=gr(u,s&&s.va,s&&s.ua);return i=i().then(function(){if(ql(t),!o)return t.I().then(function(){})}).then(function(){return Nc(t.b,c,e,n,a,!!u,t.tenantId)}).then(function(){return new _e(function(n,r){t.na(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Fc(t.b,t,e,c,a)})}).then(function(t){return c&&pr(c),t?Jr(t):null}).o(function(t){throw c&&pr(c),t}),Hl(t,i,o)}function Bl(t,e,n,r,i){if(!Rr())return xe(new C("operation-not-supported-in-this-environment"));if(t.i&&!i)return xe(t.i);var o=null,s=Vr(t.uid+":::");return r=r().then(function(){if(ql(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,El(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Gl,t.w(),e.a)),e}).then(function(){return Mc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Kl(t.ha);throw o}).then(function(){if(o)throw o}),Hl(t,r,i)}function ql(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Hl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),xe(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new ol("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){X(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),wl(t),w(t.jc,t))),n||e})}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new gl(e,n,t);return t.providerData&&z(t.providerData,function(t){t&&Ol(i,Jr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Wl(t){this.a=t,this.b=Ju()}Yc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=gt(e.f);return delete n[Jc],delete n[Zc],vt(n,t),e.g(n)})},A(tl,C),nl.prototype.tb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Lo(t.a)}),tu(e,Pa,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Lo(t.a)}),tu(e,Ia,n)})}(this,t,e)},A(rl,nl),A(il,rl),A(ol,Qe),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return z(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ml(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tu(r,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=W(e.b,function(t){return t.uid!=n});return al(e,r),Ml(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},ul.prototype.start=function(){this.a=this.c,cl(this,!0)},ul.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?xe(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nu(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))})}(t.f,e).then(function(e){return t.b=Hi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},A(gl,wn),gl.prototype.xa=function(t){this.za=t,ea(this.a,t)},gl.prototype.la=function(){return this.za},gl.prototype.Ga=function(){return J(this.aa)},gl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Qr(gl.prototype,"providerId","firebase"),(t=gl.prototype).reload=function(){var t=this;return Hl(this,Pl(this).then(function(){return Ll(t).then(function(){return El(t)}).then(xl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Qc(t)})},t.I=function(t){var e=this;return Hl(this,Pl(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.Aa&&(Al(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Dl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");Tl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Ol(this,e[n]);Dl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Hl(this,t.c(this.a,this.uid).then(function(t){return Ml(e,t),n=jl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Hl(this,Fl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=jl(e,t,"link"),Vl(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Hl(this,Fl(this,"phone").then(function(){return Xc(wl(n),t,e,w(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Hl(this,Te().then(function(){return Xc(wl(n),t,e,w(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.ed=function(t){var e=this;return Hl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ml(e,t),e.reload()}))},t.Db=function(t){var e=this;return Hl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Pl(this);var e=this;return Hl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ml(e,t),Dl(e,"displayName",t.displayName||null),Dl(e,"photoURL",t.photoUrl||null),z(e.providerData,function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))}),El(e)}).then(xl))},t.cd=function(t){var e=this;return Hl(this,Ll(this).then(function(n){return $(Il(e),t)?function(t,e,n){return tu(t,Ca,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return z(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),z(Il(e),function(t){n[t]||Rl(e,t)}),n[Mo.PROVIDER_ID]||Qr(e,"phoneNumber",null),El(e)}):El(e).then(function(){throw new C("no-such-provider")})}))},t.delete=function(){var t=this;return Hl(this,this.I().then(function(e){return tu(t.a,Ea,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");vl(t,null),yl(t,null),_l(t,null),t.N=[],t.J=!0,kl(t),Qr(t,"refreshToken",null),t.b&&Oc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Mb,this):null},t.Ec=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Fl(e,t.providerId).then(function(){return El(e)})},!1)},t.Nc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Te()},!0)},t.Fc=function(t){var e=this;return Bl(this,"linkViaRedirect",t,function(){return Fl(e,t.providerId)},!1)},t.Oc=function(t){return Bl(this,"reauthViaRedirect",t,function(){return Te()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,this.I().then(function(n){return ya(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=jl(i,t,"link"),Vl(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Hl(this,Te().then(function(){return co(ba(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=jl(i,t,"reauthenticate"),Ml(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Hl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Ui(new Ii(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Hl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Ui(new Ii(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Hl(this,t=co(Te(t),n.uid).then(function(t){return e=jl(n,t,"reauthenticate"),Ml(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),z(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.S.w()),t};var Gl={name:"redirectUser",F:"session"};function Kl(t){return ec(t.b,Gl,t.a)}function $l(t){this.a=t,this.b=Ju(),this.c=null,this.f=function(t){var e=Yl("local"),n=Yl("session"),r=Yl("none");return function(t,e,n){var r=tc(e,n),i=Zu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=jr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ql,t.a).then(function(t){return t?Yl(t):e})})})}).then(function(e){return t.c=e,Xl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Yl("local"),this.a,w(this.g,this))}function Xl(t,e){var n,r=[];for(n in Qu)Qu[n]!==e&&r.push(ec(t.b,Yl(Qu[n]),t.a));return r.push(ec(t.b,Ql,t.a)),function(t){return new _e(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Pe(t[a],S(o,a),s);else e(i)})}(r)}$l.prototype.g=function(){var t=this,e=Yl("local");eh(this,function(){return Te().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Xl(t,"local").then(function(){t.c=e})})})};var Ql={name:"persistence",F:"session"};function Yl(t){return{name:"authUser",F:t}}function Jl(t,e){return eh(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Zl(t){return eh(t,function(){return ec(t.b,t.c,t.a)})}function th(t,e,n){return eh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})})})}function eh(t,e){return t.f=t.f.then(e,e),t.f}function nh(t){if(this.l=!1,Qr(this,"settings",new Kc),Qr(this,"app",t),!lh(this).options||!lh(this).options.apiKey)throw new C("invalid-api-key");t=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION):null,this.a=new $s(lh(this).options&&lh(this).options.apiKey,R(x),t),this.P=[],this.s=[],this.N=[],this.Pa=r.Z.INTERNAL.createSubscribe(w(this.zc,this)),this.W=void 0,this.ib=r.Z.INTERNAL.createSubscribe(w(this.Ac,this)),uh(this,null),this.i=new $l(lh(this).options.apiKey+":"+lh(this).name),this.D=new Wl(lh(this).options.apiKey+":"+lh(this).name),this.$=ph(this,function(t){var e=lh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Gl,t.a).then(function(t){return t&&e&&(t.authDomain=e),zl(t||{})})}(t.D,lh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Kl(t.D)});return ph(t,e)}(t).then(function(){return th(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Jl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Zl(t.i)})):null}).then(function(e){uh(t,e||null)});return ph(t,n)}(this)),this.h=ph(this,function(t){return t.$.then(function(){return ah(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Yl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.qa=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=lh(t).options.authDomain,n=lh(t).options.apiKey;e&&Rr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Uc(e,n,lh(t).name,t.R),Ic(t.b,t),hh(t)&&Cl(hh(t)),t.m){Cl(t.m);var r=t.m;r.xa(t.la()),vl(r,t),bl(r=t.m,t.J),_l(r,t),ml(r=t.m,t.R),yl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function rh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function ih(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function oh(t){Qe.call(this,"frameworkChanged"),this.f=t}function sh(t){return t.Oa||xe(new C("auth-domain-config-required"))}function ah(t){if(!Rr())return xe(new C("operation-not-supported-in-this-environment"));var e=sh(t).then(function(){return t.b.ra()}).then(function(t){return t?Jr(t):null});return ph(t,e)}function uh(t,e){hh(t)&&(function(t,e){Q(t.W,function(t){return t==e})}(hh(t),t.Ba),dn(hh(t),"tokenChanged",t.qa),dn(hh(t),"userDeleted",t.za),dn(hh(t),"userInvalidated",t.Aa),kl(hh(t))),e&&(e.W.push(t.Ba),cn(e,"tokenChanged",t.qa),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&Sl(e)),Qr(t,"currentUser",e),e&&(e.xa(t.la()),vl(e,t),bl(e,t.J),_l(e,t),ml(e,t.R),yl(e,t))}function ch(t,e){var n=null,r=null;return ph(t,e.then(function(e){return n=jo(e),r=Xi(e),function(t,e){var n={};return n.apiKey=lh(t).options.apiKey,n.authDomain=lh(t).options.authDomain,n.appName=lh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new gl(t,e);return n&&(i.ha=n),r&&bl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return hh(t)&&e.uid==hh(t).uid?(Nl(hh(t),e),t.da(e)):(uh(t,e),Cl(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Jr({user:hh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function lh(t){return t.app}function hh(t){return t.currentUser}function dh(t){return hh(t)&&hh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](dh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](dh(t))}}function ph(t,e){return t.P.push(e),e.oa(function(){X(t.P,e)}),e}function gh(){}function mh(){this.a={},this.b=1e12}$l.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in Qu)if(Qu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Sr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Pu()&&"none"!==t)throw n;break;default:if(!Or()&&"none"!==t)throw n}}(t),eh(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Xl(n,t)}).then(function(){if(n.c=Yl(t),e)return n.b.set(n.c,e,n.a)}):Te()})},A(nh,wn),A(rh,Qe),A(ih,Qe),A(oh,Qe),(t=nh.prototype).yb=function(t){return ph(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new rh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&yr().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,na(this.a,this.R),this.dispatchEvent(new ih(this.R))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new oh(this.J))},t.Ga=function(){return J(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:lh(this).options.apiKey,authDomain:lh(this).options.authDomain,appName:lh(this).name,currentUser:hh(this)&&hh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,va(i.a,o))})},t.Xc=function(t){if(!Rr())return xe(new C("operation-not-supported-in-this-environment"));var e=this,n=$i(t.providerId),i=Vr(),o=null;(!Lr()||_r())&&lh(this).options.authDomain&&t.isOAuthProvider&&(o=gu(lh(this).options.authDomain,lh(this).options.apiKey,lh(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.R));var s=gr(o,n&&n.va,n&&n.ua);return ph(this,n=sh(this).then(function(n){return Nc(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new _e(function(t,n){e.na("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Fc(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Jr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Rr())return xe(new C("operation-not-supported-in-this-environment"));var e=this;return ph(this,sh(this).then(function(){return function(t){return eh(t,function(){return t.b.set(Ql,t.c.F,t.a)})}(e.i)}).then(function(){return Mc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return ah(this).then(function(e){return t.b&&Hc(t.b.b),e}).o(function(e){throw t.b&&Hc(t.b.b),e})},t.dd=function(t){if(!t)return xe(new C("null-user"));if(this.S!=t.tenantId)return xe(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=lh(this).options.apiKey,n.authDomain=lh(this).options.authDomain,n.appName=lh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new gl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&bl(e,r),Nl(e,t),e}(t,n,e.D,e.Ga());return ph(this,this.h.then(function(){if(lh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return hh(e)&&t.uid==hh(e).uid?(Nl(hh(e),t),e.da(t)):(uh(e,r),Cl(r),e.da(r))}).then(function(){fh(e)}))},t.Bb=function(){var t=this;return ph(this,this.h.then(function(){return t.b&&Hc(t.b.b),hh(t)?(uh(t,null),Zl(t.i).then(function(){fh(t)})):Te()}))},t.Zc=function(){var t=this;return th(this.i,lh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=hh(t)&&e){n=hh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Nl(hh(t),e),hh(t).I();(hh(t)||e)&&(uh(t,e),e&&(Cl(e),e.ha=t.D),t.b&&Ic(t.b,t),fh(t))}})},t.da=function(t){return Jl(this.i,t)},t.mc=function(){fh(this),this.da(hh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,Te(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(hh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),ph(t,t.h.then(function(){!t.l&&$(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(dh(t)))}))}(this,function(){t.next(hh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(hh(r)):"function"==typeof t.next&&t.next(hh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return ph(this,this.h.then(function(){return hh(e)?hh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,tu(e.a,$a,{token:t}))}).then(function(t){var n=t.user;return Dl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,Xa,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tu(n.a,ka,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=hh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.Ab()).then(function(e){var n=e.user;return Dl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return hh(this)&&hh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&hh(this)&&Sl(hh(this))},t.Pc=function(t){var e=this;z(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&hh(this)&&kl(hh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),ph(this,this.h.then(function(){e.l||$(e.s,t)&&t(dh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Yl("local"),t.a,this.ja),this.b&&(Oc(this.b,this),Hc(this.b.b)),Promise.resolve()},t.hc=function(t){return ph(this,function(t,e){return tu(t,Aa,{identifier:e,continueUri:Dr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Ro(t)},t.xb=function(t,e){var n=this;return ph(this,Te().then(function(){var t=new Ii(e);if(!t.c)throw new C("argument-error",Di+" must be true when sending sign in link to email");return Ui(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return ph(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return ph(this,this.a.Sa(t).then(function(t){return new ai(t)}))},t.kb=function(t){return ph(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return ph(this,Te().then(function(){return void 0===e||pt(e)?{}:Ui(new Ii(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return ph(this,Xc(this,t,e,w(this.ab,this)))},t.Vc=function(t,e){var n=this;return ph(this,Te().then(function(){var r=e||lr(),i=Oo(t,r);if(!(r=Ro(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)}))},gh.prototype.render=function(){},gh.prototype.reset=function(){},gh.prototype.getResponse=function(){},gh.prototype.execute=function(){};var vh=null;function yh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function _h(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function wh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Sh(){}function kh(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new _h(t,e),this.b++},mh.prototype.reset=function(t){var e=yh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=yh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=yh(this,t))&&t.execute()},_h.prototype.getResponse=function(){return wh(this),this.b},_h.prototype.execute=function(){wh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},_h.prototype.delete=function(){wh(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(Sh,"FACTOR_ID","phone"),kh.prototype.g=function(){return vh||(vh=new mh),Te(vh)},kh.prototype.c=function(){};var Ah=null;function Eh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ch=new bt(kt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Th=new qr(3e4,6e4);Eh.prototype.g=function(t){var e=this;return new _e(function(n,r){var i=setTimeout(function(){r(new C("network-request-failed"))},Th.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete a[e.a]},Te(Bs(Tt(Ch,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Eh.prototype.c=function(){this.b--};var xh=null;function Ph(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,s?(Ah||(Ah=new kh),s=Ah):(xh||(xh=new Eh),s=xh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Rh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dh],!a.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new $s(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ih];this.a[Ih]=function(t){if(Nh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Ir(c,a);"function"==typeof e&&e(t)}};var l=this.a[Oh];this.a[Oh]=function(){if(Nh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ir(l,a);"function"==typeof t&&t()}}}var Ih="callback",Oh="expired-callback",Rh="sitekey",Dh="size";function Nh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Lh(t,e){return t.h.push(e),e.oa(function(){X(t.h,e)}),e}function Mh(t){if(t.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function Fh(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(a){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.Z.SDK_VERSION?xr(r.Z.SDK_VERSION,s):null,Ph.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,R(x),i)}function jh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Vh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Vh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=Ph.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Lh(this,Te().then(function(){if(Dr()&&!wr())return yr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tu(t.s,Fa,{})}).then(function(e){t.a[Rh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Mh(this);var t=this;return Lh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',zt(s.name),'"'),s.type){o.push(' type="',zt(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ce(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Mh(this);var t=this;return Lh(this,this.render().then(function(e){return new _e(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Mh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},A(Fh,Ph);var Vh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function qh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:g}}function Hh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Wh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Gh(t,e){return g(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kh(t){return g(t)&&"string"==typeof t.uid}function $h(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Xh(t,e){for(var n in e){var r=e[n].name;t[r]=Jh(r,t[n],e[n].j)}}function Qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,r){jh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Yh(t,e,n,r){t[e]=Jh(e,n,r)}function Jh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return jh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Xh(nh.prototype,{kb:{name:"applyActionCode",j:[Uh("code")]},Sa:{name:"checkActionCode",j:[Uh("code")]},ob:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(qh(),Hh(),"nextOrObserver"),Hh("opt_error",!0),Hh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Uh("email"),$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Uh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Wh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Wh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof gl)}},zh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Qh(nh.prototype,{lc:{name:"languageCode",lb:$h(Uh(),zh(),"languageCode")},ti:{name:"tenantId",lb:$h(Uh(),zh(),"tenantId")}}),(nh.Persistence=Qu).LOCAL="local",nh.Persistence.SESSION="session",nh.Persistence.NONE="none",Xh(gl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Wh()]},rb:{name:"linkWithCredential",j:[Wh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Wh()]},ub:{name:"reauthenticateWithCredential",j:[Wh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Cb:{name:"updateEmail",j:[Uh("email")]},Db:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[Wh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),$h(qh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Xh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xh(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Xh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qh(Kc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Bh("appVerificationDisabledForTesting")}}),Xh($c.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Yh(uo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[mo,Po,No,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[$h(Uh(),qh(),"json")]),Yh(Io,"credential",function(t,e){return new xo(t,e)},[Uh("email"),Uh("password")]),Xh(xo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(_o.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(_o,"credential",wo,[$h(Uh(),qh(),"token")]),Yh(Io,"credentialWithLink",Oo,[Uh("email"),Uh("emailLink")]),Xh(So.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(So,"credential",ko,[$h(Uh(),qh(),"token")]),Xh(Ao.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Ao,"credential",Eo,[$h(Uh(),$h(qh(),zh()),"idToken"),$h(Uh(),zh(),"accessToken",!0)]),Xh(Co.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(Co,"credential",To,[$h(Uh(),qh(),"token"),Uh("secret",!0)]),Xh(bo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[$h(Uh(),$h(qh(),zh()),"optionsOrIdToken"),$h(Uh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Xh(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Mo,"credential",Fo,[Uh("verificationId"),Uh("verificationCode")]),Xh(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Gh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Gh(t.session,ao)&&Kh(t.multiFactorHint):t.session&&t.multiFactorUid?Gh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Xh(Do.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(C.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(Go.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(Wo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Xh(Yc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),Xh(sl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kh},Uh(),"multiFactorInfoIdentifier")]}}),Xh(Fh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(wi,"parseLink",Pi,[Uh("link")]),Yh(Sh,"assertion",function(t){return new il(t)},[Wh("phone")]),function(){if(void 0===r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ci,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ui,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:nh,AuthCredential:uo,Error:C};Yh(t,"EmailAuthProvider",Io,[]),Yh(t,"FacebookAuthProvider",_o,[]),Yh(t,"GithubAuthProvider",So,[]),Yh(t,"GoogleAuthProvider",Ao,[]),Yh(t,"TwitterAuthProvider",Co,[]),Yh(t,"OAuthProvider",bo,[Uh("providerId")]),Yh(t,"SAMLAuthProvider",yo,[Uh("providerId")]),Yh(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof nh)}}]),Yh(t,"RecaptchaVerifier",Fh,[$h(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}]),Yh(t,"ActionCodeURL",wi,[]),Yh(t,"PhoneMultiFactorGenerator",Sh,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new nh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.8"),r.Z.INTERNAL.extendNamespace({User:gl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},318:(t,e,n)=>{"use strict";n.r(e);var r=n(759),i=n(762),o=n(685),s=n(300),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},h=h||{},d=l||self;function f(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function g(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function S(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function k(){this.s=this.s,this.o=this.o}var A={};k.prototype.s=!1,k.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)}(this);delete A[t]}},k.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},C=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function P(t){return/^[\s\xa0]*$/.test(t)}var I,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var N=d.navigator;if(N){var L=N.userAgent;if(L){I=L;break t}}I=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function F(t){var e={};for(var n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=f;var B,q,H=R(I,"Opera"),z=R(I,"Trident")||R(I,"MSIE"),W=R(I,"Edge"),G=W||z,K=R(I,"Gecko")&&!(R(I.toLowerCase(),"webkit")&&!R(I,"Edge"))&&!(R(I,"Trident")||R(I,"MSIE"))&&!R(I,"Edge"),$=R(I.toLowerCase(),"webkit")&&!R(I,"Edge");function X(){var t=d.document;return t?t.documentMode:void 0}t:{var Q="",Y=(q=I,K?/rv:([^\);]+)(\)|;)/.exec(q):W?/Edge\/([\d\.]+)/.exec(q):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):$?/WebKit\/(\S+)/.exec(q):H?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(Q=Y?Y[1]:""),z){var J=X();if(null!=J&&J>parseFloat(Q)){B=String(J);break t}}B=Q}var Z={};var tt=d.document&&z&&(X()||parseInt(B,10))||void 0,et=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",f,e),d.removeEventListener("test",f,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(K){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rt.Z.h.call(this)}}nt.prototype.h=function(){this.defaultPrevented=!0},S(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ot="closure_listenable_"+(1e6*Math.random()|0),st=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++st,this.ca=this.fa=!1}function ut(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ct(t){this.src=t,this.g={},this.h=0}function lt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=ht(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new at(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,r,i){if(r&&r.once)return mt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ot]?t.N(e,n,g(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=g(i)?!!i.capture:!!i,a=wt(t);if(a||(t[dt]=a=new ct(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=_t;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function mt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=kt(n),t&&t[ot]?t.O(e,n,g(r)?!!r.capture:!!r,i):gt(t,e,n,!0,r,i)}function vt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=kt(n),t&&t[ot]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=ht(o=t.g[e],n,r,i))&&(ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=wt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ht(e,n,r,i)),(n=-1<t?e[t]:null)&&yt(n))}function yt(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ot])lt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wt(e))?(lt(n,t),0==n.h&&(n.src=null,e[dt]=null)):ut(t)}}}function bt(t){return t in ft?ft[t]:ft[t]="on"+t}function _t(t,e){if(t.ca)t=!0;else{e=new rt(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&yt(t),t=n.call(r,e)}return t}function wt(t){return(t=t[dt])instanceof ct?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"==typeof t?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function At(){k.call(this),this.i=new ct(this),this.P=this,this.I=null}function Et(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;V(e=new nt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ct(s,r,!0,e)&&i}if(i=Ct(s=e.g=t,r,!0,e)&&i,i=Ct(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ct(s=e.g=n[o],r,!1,e)&&i}function Ct(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&lt(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}S(At,k),At.prototype[ot]=!0,At.prototype.removeEventListener=function(t,e,n,r){vt(this,t,e,n,r)},At.prototype.M=function(){if(At.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ut(n[r]);delete e.g[t],e.h--}}this.I=null},At.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Tt=d.JSON.stringify;function xt(){var t=Mt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Pt,It=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Ot.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Ot=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Rt},function(t){return t.reset()}),Rt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Dt(t){d.setTimeout(function(){throw t},0)}function Nt(t,e){Pt||function(){var t=d.Promise.resolve(void 0);Pt=function(){t.then(Ft)}}(),Lt||(Pt(),Lt=!0),Mt.add(t,e)}var Lt=!1,Mt=new It;function Ft(){for(var t;t=xt();){try{t.h.call(t.g)}catch(n){Dt(n)}var e=Ot;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Lt=!1}function jt(t,e){At.call(this),this.h=t||1,this.g=e||d,this.j=_(this.kb,this),this.l=Date.now()}function Vt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ut(t,e,n){if("function"==typeof t)n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:d.setTimeout(t,e||0)}function Bt(t){t.g=Ut(function(){t.g=null,t.i&&(t.i=!1,Bt(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}S(jt,At),(c=jt.prototype).da=!1,c.S=null,c.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Et(this,"tick"),this.da&&(Vt(this),this.start()))}},c.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){jt.Z.M.call(this),Vt(this),delete this.g};var qt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Bt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(k);function Ht(t){k.call(this),this.h=t,this.g={}}S(Ht,k);var zt=[];function Wt(t,e,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Gt(t){M(t.g,function(t,e){this.g.hasOwnProperty(e)&&yt(t)},t),t.g={}}function Kt(){this.g=!0}function $t(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Tt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ht.prototype.M=function(){Ht.Z.M.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kt.prototype.Aa=function(){this.g=!1},Kt.prototype.info=function(){};var Xt={},Qt=null;function Yt(){return Qt=Qt||new At}function Jt(t){nt.call(this,Xt.Ma,t)}function Zt(t){var e=Yt();Et(e,new Jt(e,t))}function te(t,e){nt.call(this,Xt.STAT_EVENT,t),this.stat=e}function ee(t){var e=Yt();Et(e,new te(e,t))}function ne(t,e){nt.call(this,Xt.Na,t),this.size=e}function re(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){t()},e)}Xt.Ma="serverreachability",S(Jt,nt),Xt.STAT_EVENT="statevent",S(te,nt),Xt.Na="timingevent",S(ne,nt);var ie={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oe={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function se(){}function ae(){}se.prototype.h=null;var ue,ce={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function le(){nt.call(this,"d")}function he(){nt.call(this,"c")}function de(){}function fe(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ht(this),this.P=ge,this.W=new jt(t=G?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pe}function pe(){this.i=null,this.g="",this.h=!1}S(le,nt),S(he,nt),S(de,se),de.prototype.g=function(){return new XMLHttpRequest},de.prototype.i=function(){return{}},ue=new de;var ge=45e3,me={},ve={};function ye(t,e,n){t.K=1,t.v=Be(Le(e)),t.s=n,t.U=!0,be(t,null)}function be(t,e){t.F=Date.now(),ke(t),t.A=Le(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),tn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new pe,t.g=nr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new qt(_(t.Ia,t,t.g),t.O)),Wt(t.V,t.g,"readystatechange",t.gb),e=t.H?F(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Zt(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function _e(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function we(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Se(t,n))==ve){4==e&&(t.o=4,ee(14),i=!1),$t(t.j,t.m,null,"[Incomplete Response]");break}if(r==me){t.o=4,ee(15),$t(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}$t(t.j,t.m,r,null),xe(t,r)}_e(t)&&r!=ve&&r!=me&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ee(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),$n(e),e.L=!0,ee(11))):($t(t.j,t.m,n,"[Invalid Chunked Response]"),Te(t),Ce(t))}function Se(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?me:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.C=r+n,e))}function ke(t){t.Y=Date.now()+t.P,Ae(t,t.P)}function Ae(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=re(_(t.eb,t),e)}function Ee(t){t.B&&(d.clearTimeout(t.B),t.B=null)}function Ce(t){0==t.l.G||t.I||Yn(t.l,t)}function Te(t){Ee(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Vt(t.W),Gt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function xe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||un(n.i,t)))if(n.I=t.N,!t.J&&un(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Qn(n),Vn(n)}Kn(n),ee(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=re(_(n.ab,n),6e3));if(1>=an(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Zn(n,11)}else if((t.J||n.g==t)&&Qn(n),!P(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(cn(h,h.h),h.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ue(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var f=t;if((r=n).oa=er(r,r.H?r.la:null,r.W),f.J){ln(r.i,f);var p=f,g=r.K;g&&p.setTimeout(g),p.B&&(Ee(p),ke(p)),r.g=f}else Gn(r);0<n.l.length&&qn(n)}else"stop"!=o[0]&&"close"!=o[0]||Zn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Zn(n,7):jn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Zt(4)}catch(o){}}function Pe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)C(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Oe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Re(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Re(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Re(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=fe.prototype).setTimeout=function(t){this.P=t},c.gb=function(t){t=t.target;var e=this.L;e&&3==Dn(t)?e.l():this.Ia(t)},c.Ia=function(t){try{if(t==this.g)t:{var e=Dn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||G||this.g&&(this.h.h||this.g.ga()||Nn(this.g)))){this.I||4!=e||7==n||Zt(8==n||0>=r?3:2),Ee(this);var i=this.g.ba();this.N=i;e:if(_e(this)){var o=Nn(this.g);t="";var s=o.length,a=4==Dn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Te(this),Ce(this);var u="";break e}this.h.i=new d.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,ee(12),Te(this),Ce(this);break t}$t(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xe(this,i)}this.U?(we(this,e,u),G&&this.i&&3==e&&(Wt(this.V,this.W,"tick",this.fb),this.W.start())):($t(this.j,this.m,u,null),xe(this,u)),4==e&&Te(this),this.i&&!this.I&&(4==e?Yn(this.l,this):(this.i=!1,ke(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ee(12)):(this.o=0,ee(13)),Te(this),Ce(this)}}}catch(e){}},c.fb=function(){if(this.g){var t=Dn(this.g),e=this.g.ga();this.C<e.length&&(Ee(this),we(this,t,e),this.i&&4!=t&&ke(this))}},c.cancel=function(){this.I=!0,Te(this)},c.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Zt(3),ee(17)),Te(this),this.o=2,Ce(this)):Ae(this,this.Y-t)},(c=Ie.prototype).R=function(){Oe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},c.T=function(){return Oe(this),this.g.concat()},c.get=function(t,e){return Re(this.h,t)?this.h[t]:e},c.set=function(t,e){Re(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},c.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ne){this.g=void 0!==e?e:t.g,Me(this,t.j),this.s=t.s,Fe(this,t.i),je(this,t.m),this.l=t.l,e=t.h;var n=new Qe;n.i=e.i,e.g&&(n.g=new Ie(e.g),n.h=e.h),Ve(this,n),this.o=t.o}else t&&(n=String(t).match(De))?(this.g=!!e,Me(this,n[1]||"",!0),this.s=qe(n[2]||""),Fe(this,n[3]||"",!0),je(this,n[4]),this.l=qe(n[5]||"",!0),Ve(this,n[6]||"",!0),this.o=qe(n[7]||"")):(this.g=!!e,this.h=new Qe(null,this.g))}function Le(t){return new Ne(t)}function Me(t,e,n){t.j=n?qe(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fe(t,e,n){t.i=n?qe(e,!0):e}function je(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ve(t,e,n){e instanceof Qe?(t.h=e,function(t,e){e&&!t.j&&(Ye(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),tn(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=He(e,$e)),t.h=new Qe(e,t.g))}function Ue(t,e,n){t.h.set(e,n)}function Be(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qe(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function He(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.j;e&&t.push(He(e,We,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(He(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(He(n,"/"==n.charAt(0)?Ke:Ge,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",He(n,Xe)),t.join("")};var We=/[#\/\?@]/g,Ge=/[#\?:]/g,Ke=/[#\?]/g,$e=/[#\?@]/g,Xe=/#/g;function Qe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ye(t){t.g||(t.g=new Ie,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Ye(t),e=en(t,e),Re(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Re((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Oe(t)))}function Ze(t,e){return Ye(t),e=en(t,e),Re(t.g.h,e)}function tn(t,e,n){Je(t,e),0<n.length&&(t.i=null,t.g.set(en(t,e),x(n)),t.h+=n.length)}function en(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(c=Qe.prototype).add=function(t,e){Ye(this),this.i=null,t=en(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},c.forEach=function(t,e){Ye(this),this.g.forEach(function(n,r){C(n,function(n){t.call(e,n,r,this)},this)},this)},c.T=function(){Ye(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.R=function(t){Ye(this);var e=[];if("string"==typeof t)Ze(this,t)&&(e=T(e,this.g.get(en(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},c.set=function(t,e){return Ye(this),this.i=null,Ze(this,t=en(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},c.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var nn=function(t,e){this.h=t,this.g=e};function rn(t){this.l=t||on,t=d.PerformanceNavigationTiming?0<(t=d.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(d.g&&d.g.Ea&&d.g.Ea()&&d.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var on=10;function sn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function an(t){return t.h?1:t.g?t.g.size:0}function un(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function cn(t,e){t.g?t.g.add(e):t.h=e}function ln(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function hn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=u(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return x(t.i)}function dn(){}function fn(){this.g=new dn}function pn(t,e,n){var r=n||"";try{Pe(t,function(t,n){var i=t;g(t)&&(i=Tt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Af){throw e.push(r+"type="+encodeURIComponent("_badmap")),Af}}function gn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function mn(t){this.l=t.$b||null,this.j=t.ib||!1}function vn(t,e){At.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=yn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rn.prototype.cancel=function(){var t,e;if(this.i=hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=u(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},dn.prototype.stringify=function(t){return d.JSON.stringify(t,void 0)},dn.prototype.parse=function(t){return d.JSON.parse(t,void 0)},S(mn,se),mn.prototype.g=function(){return new vn(this.l,this.j)},mn.prototype.i=function(t){return function(){return t}}({}),S(vn,At);var yn=0;function bn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function _n(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wn(t)}function wn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(c=vn.prototype).open=function(t,e){if(this.readyState!=yn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wn(this)},c.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||d).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_n(this)),this.readyState=yn},c.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==d.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},c.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_n(this):wn(this),3==this.readyState&&bn(this)}},c.Ua=function(t){this.g&&(this.response=this.responseText=t,_n(this))},c.Ta=function(t){this.g&&(this.response=t,_n(this))},c.ha=function(){this.g&&_n(this)},c.setRequestHeader=function(t,e){this.v.append(t,e)},c.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(vn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sn=d.JSON.parse;function kn(t){At.call(this),this.headers=new Ie,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=An,this.K=this.L=!1}S(kn,At);var An="",En=/^https?$/i,Cn=["POST","PUT"];function Tn(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Pn(t),On(t)}function Pn(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}function In(t){if(t.h&&void 0!==h&&(!t.C[1]||4!=Dn(t)||2!=t.ba()))if(t.v&&4==Dn(t))Ut(t.Fa,0,t);else if(Et(t,"readystatechange"),4==Dn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(De)[1]||null;if(!o&&d.self&&d.self.location){var s=d.self.location.protocol;o=s.substr(0,s.length-1)}i=!En.test(o?o.toLowerCase():"")}e=i}if(e)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var a=2<Dn(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Pn(t)}}finally{On(t)}}}function On(t,e){if(t.g){Rn(t);var n=t.g,r=t.C[0]?f:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch(Af){}}}function Rn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(d.clearTimeout(t.A),t.A=null)}function Dn(t){return t.g?t.g.readyState:0}function Nn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case An:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ln(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return M(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ue(t,e,n))}function Mn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Fn(t){this.za=0,this.l=[],this.h=new Kt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Mn("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Mn("baseRetryDelayMs",5e3,t),this.$a=Mn("retryDelaySeedMs",1e4,t),this.Ya=Mn("forwardChannelMaxRetries",2,t),this.ra=Mn("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new rn(t&&t.concurrentRequestLimit),this.Ca=new fn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function jn(t){if(Un(t),3==t.G){var e=t.V++,n=Le(t.F);Ue(n,"SID",t.J),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),zn(t,n),(e=new fe(t,t.h,e,void 0)).K=2,e.v=Be(Le(n)),n=!1,d.navigator&&d.navigator.sendBeacon&&(n=d.navigator.sendBeacon(e.v.toString(),"")),!n&&d.Image&&((new Image).src=e.v,n=!0),n||(e.g=nr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ke(e)}tr(t)}function Vn(t){t.g&&($n(t),t.g.cancel(),t.g=null)}function Un(t){Vn(t),t.u&&(d.clearTimeout(t.u),t.u=null),Qn(t),t.i.cancel(),t.m&&("number"==typeof t.m&&d.clearTimeout(t.m),t.m=null)}function Bn(t,e){t.l.push(new nn(t.Za++,e)),3==t.G&&qn(t)}function qn(t){sn(t.i)||t.m||(t.m=!0,Nt(t.Ha,t),t.C=0)}function Hn(t,e){var n;n=e?e.m:t.V++;var r=Le(t.F);Ue(r,"SID",t.J),Ue(r,"RID",n),Ue(r,"AID",t.U),zn(t,r),t.o&&t.s&&Ln(r,t.o,t.s),n=new fe(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Wn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),cn(t.i,n),ye(n,r,e)}function zn(t,e){t.j&&Pe({},function(t,n){Ue(e,n,t)})}function Wn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?_(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{pn(l,s,"req"+c+"_")}catch(Nr){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Gn(t){t.g||t.u||(t.Y=1,Nt(t.Ga,t),t.A=0)}function Kn(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=re(_(t.Ga,t),Jn(t,t.A)),t.A++,0))}function $n(t){null!=t.B&&(d.clearTimeout(t.B),t.B=null)}function Xn(t){t.g=new fe(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Le(t.oa);Ue(e,"RID","rpc"),Ue(e,"SID",t.J),Ue(e,"CI",t.N?"0":"1"),Ue(e,"AID",t.U),zn(t,e),Ue(e,"TYPE","xmlhttp"),t.o&&t.s&&Ln(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Be(Le(e)),n.s=null,n.U=!0,be(n,t)}function Qn(t){null!=t.v&&(d.clearTimeout(t.v),t.v=null)}function Yn(t,e){var n=null;if(t.g==e){Qn(t),$n(t),t.g=null;var r=2}else{if(!un(t.i,e))return;n=e.D,ln(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Et(r=Yt(),new ne(r,n,e,i)),qn(t)}else Gn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(an(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=re(_(t.Ha,t,e),Jn(t,t.C)),t.C++,0)))}(t,e)||2==r&&Kn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Zn(t,5);break;case 4:Zn(t,10);break;case 3:Zn(t,6);break;default:Zn(t,2)}}function Jn(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Zn(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=_(t.jb,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),d.location&&"http"==d.location.protocol||Me(n,"https"),Be(n)),function(t,e){var n=new Kt;if(d.Image){var r=new Image;r.onload=w(gn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=w(gn,n,r,"TestLoadImage: error",!1,e),r.onabort=w(gn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=w(gn,n,r,"TestLoadImage: timeout",!1,e),d.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ee(2);t.G=0,t.j&&t.j.va(e),tr(t),Un(t)}function tr(t){t.G=0,t.I=-1,t.j&&(0==hn(t.i).length&&0==t.l.length||(t.i.i.length=0,x(t.l),t.l.length=0),t.j.ua())}function er(t,e,n){var r=function(t){return t instanceof Ne?Le(t):new Ne(t,void 0)}(n);if(""!=r.i)e&&Fe(r,e+"."+r.i),je(r,r.m);else{var i=d.location;r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&Me(i,t),e&&Fe(i,e),n&&je(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&M(t.aa,function(t,e){Ue(r,e,t)}),n=t.sa,(e=t.D)&&n&&Ue(r,e,n),Ue(r,"VER",t.ma),zn(t,r),r}function nr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new kn(n&&t.Ba&&!t.qa?new mn({ib:!0}):t.qa)).L=t.H,e}function rr(){}function ir(){if(z&&!(10<=Number(tt)))throw Error("Environmental error: no available transport.")}function or(t,e){At.call(this),this.g=new Fn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!P(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!P(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new ur(this)}function sr(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ar(){he.call(this),this.status=1}function ur(t){this.g=t}(c=kn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ue.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:ue),this.g.onreadystatechange=_(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void xn(this,o)}t=n||"";var i=new Ie(this.headers);r&&Pe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Tn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=d.FormData&&t instanceof d.FormData,!(0<=E(Cn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rn(this),0<this.B&&((this.K=function(t){return z&&function(){return t=Z,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=O(String(B)).split("."),n=O("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=D(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==o[2].length,0==s[2].length)||D(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_(this.pa,this)):this.A=Ut(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){xn(this,o)}},c.pa=function(){void 0!==h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},c.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),On(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),On(this,!0)),kn.Z.M.call(this)},c.Fa=function(){this.s||(this.F||this.v||this.l?In(this):this.cb())},c.cb=function(){In(this)},c.ba=function(){try{return 2<Dn(this)?this.g.status:-1}catch(q){return-1}},c.ga=function(){try{return this.g?this.g.responseText:""}catch(q){return""}},c.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},c.Da=function(){return this.m},c.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(c=Fn.prototype).ma=8,c.G=1,c.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},c.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new fe(this,this.h,t,void 0),n=this.s;if(this.P&&(n?V(n=F(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Wn(this,e,r),Ue(i=Le(this.F),"RID",t),Ue(i,"CVER",22),this.D&&Ue(i,"X-HTTP-Session-Id",this.D),zn(this,i),this.o&&n&&Ln(i,this.o,n),cn(this.i,e),this.Ra&&Ue(i,"TYPE","init"),this.ja?(Ue(i,"$req",r),Ue(i,"SID","null"),e.$=!0,ye(e,i,null)):ye(e,i,r),this.G=2}}else 3==this.G&&(t?Hn(this,t):0==this.l.length||sn(this.i)||Hn(this))},c.Ga=function(){if(this.u=null,Xn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=re(_(this.bb,this),t)}},c.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ee(10),Vn(this),Xn(this))},c.ab=function(){null!=this.v&&(this.v=null,Vn(this),Kn(this),ee(19))},c.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ee(2)):(this.h.info("Failed to ping google.com"),ee(1))},(c=rr.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Oa=function(){},ir.prototype.g=function(t,e){return new or(t,e)},S(or,At),or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Nt(_(t.hb,t,e))),ee(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=er(t,null,t.W),qn(t)},or.prototype.close=function(){jn(this.g)},or.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Bn(this.g,e)}else this.v?((e={}).__data__=Tt(t),Bn(this.g,e)):Bn(this.g,t)},or.prototype.M=function(){this.g.j=null,delete this.j,jn(this.g),delete this.g,or.Z.M.call(this)},S(sr,le),S(ar,he),S(ur,rr),ur.prototype.xa=function(){Et(this.g,"a")},ur.prototype.wa=function(t){Et(this.g,new sr(t))},ur.prototype.va=function(t){Et(this.g,new ar(t))},ur.prototype.ua=function(){Et(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,oe.COMPLETE="complete",ae.EventType=ce,ce.OPEN="a",ce.CLOSE="b",ce.ERROR="c",ce.MESSAGE="d",At.prototype.listen=At.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.La,kn.prototype.getLastErrorCode=kn.prototype.Da,kn.prototype.getStatus=kn.prototype.ba,kn.prototype.getResponseJson=kn.prototype.Qa,kn.prototype.getResponseText=kn.prototype.ga,kn.prototype.send=kn.prototype.ea;var cr=ie,lr=oe,hr=Xt,dr=mn,fr=ae,pr=kn,gr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();gr.o=-1;var mr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},vr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,i.ZT)(e,t),e}(Error),yr=new s.Yd("@firebase/firestore");function br(){return yr.logLevel}function _r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yr.logLevel<=s.in.DEBUG){var r=e.map(kr);yr.debug.apply(yr,(0,i.ev)(["Firestore (8.10.1): "+t],r))}}function wr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yr.logLevel<=s.in.ERROR){var r=e.map(kr);yr.error.apply(yr,(0,i.ev)(["Firestore (8.10.1): "+t],r))}}function Sr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(yr.logLevel<=s.in.WARN){var r=e.map(kr);yr.warn.apply(yr,(0,i.ev)(["Firestore (8.10.1): "+t],r))}}function kr(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Af){return t}}function Ar(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw wr(e),new Error(e)}function Er(t,e){t||Ar()}function Cr(t,e){return t}function Tr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var xr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Tr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Pr(t,e){return t<e?-1:t>e?1:0}function Ir(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Or(t){return t+"\0"}var Rr=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vr(mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vr(mr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new vr(mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vr(mr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Pr(this.nanoseconds,t.nanoseconds):Pr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Dr=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Rr(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Nr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Mr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ar(),void 0===n?n=t.length-e:n>t.length-e&&Ar(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),jr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new vr(mr.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Fr),Vr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ur=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Vr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new vr(mr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new vr(mr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new vr(mr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new vr(mr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Fr),Br=function(){function t(t){this.fields=t,t.sort(Ur.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Ir(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),qr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Pr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();qr.EMPTY_BYTE_STRING=new qr("");var Hr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(t){if(Er(!!t),"string"==typeof t){var e=0,n=Hr.exec(t);if(Er(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wr(t.seconds),nanos:Wr(t.nanos)}}function Wr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gr(t){return"string"==typeof t?qr.fromBase64String(t):qr.fromUint8Array(t)}function Kr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $r(t){var e=t.mapValue.fields.__previous_value__;return Kr(e)?$r(e):e}function Xr(t){var e=zr(t.mapValue.fields.__local_write_time__.timestampValue);return new Rr(e.seconds,e.nanos)}function Qr(t){return null==t}function Yr(t){return 0===t&&1/t==-1/0}function Jr(t){return"number"==typeof t&&Number.isInteger(t)&&!Yr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Zr=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(jr.fromString(e))},t.fromName=function(e){return new t(jr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===jr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return jr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new jr(e.slice()))},t}();function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kr(t)?4:10:Ar()}function ei(t,e){var n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xr(t).isEqual(Xr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=zr(t.timestampValue),r=zr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Gr(t.bytesValue).isEqual(Gr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Wr(t.geoPointValue.latitude)===Wr(e.geoPointValue.latitude)&&Wr(t.geoPointValue.longitude)===Wr(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Wr(t.integerValue)===Wr(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Wr(t.doubleValue),r=Wr(e.doubleValue);return n===r?Yr(n)===Yr(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ir(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Nr(n)!==Nr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ei(n[i],r[i])))return!1;return!0}(t,e);default:return Ar()}}function ni(t,e){return void 0!==(t.values||[]).find(function(t){return ei(t,e)})}function ri(t,e){var n=ti(t),r=ti(e);if(n!==r)return Pr(n,r);switch(n){case 0:return 0;case 1:return Pr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Wr(t.integerValue||t.doubleValue),r=Wr(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ii(t.timestampValue,e.timestampValue);case 4:return ii(Xr(t),Xr(e));case 5:return Pr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Gr(t),r=Gr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Pr(n[i],r[i]);if(0!==o)return o}return Pr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Pr(Wr(t.latitude),Wr(e.latitude));return 0!==n?n:Pr(Wr(t.longitude),Wr(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=ri(n[i],r[i]);if(o)return o}return Pr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Pr(r[s],o[s]);if(0!==a)return a;var u=ri(n[r[s]],i[o[s]]);if(0!==u)return u}return Pr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ar()}}function ii(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Pr(t,e);var n=zr(t),r=zr(e),i=Pr(n.seconds,r.seconds);return 0!==i?i:Pr(n.nanos,r.nanos)}function oi(t){return si(t)}function si(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=zr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gr(t.bytesValue).toBase64():"referenceValue"in t?Zr.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=si(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+si(t.fields[o])}return e+"}"}(t.mapValue):Ar();var e}function ai(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function ui(t){return!!t&&"integerValue"in t}function ci(t){return!!t&&"arrayValue"in t}function li(t){return!!t&&"nullValue"in t}function hi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function di(t){return!!t&&"mapValue"in t}function fi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Lr(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=fi(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=fi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var pi=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!di(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=fi(e)},t.prototype.setAll=function(t){var e=this,n=Ur.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=fi(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());di(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ei(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];di(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){Lr(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(fi(this.value))},t}();function gi(t){var e=[];return Lr(t.fields,function(t,n){var r=new Ur([t]);if(di(n)){var i=gi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new Br(e)}var mi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Dr.min(),pi.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,pi.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,pi.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=pi.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=pi.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),vi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function yi(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new vi(t,e,n,r,i,o,s)}function bi(t){var e=Cr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+oi(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Qr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ri(e.startAt)),e.endAt&&(n+="|ub:",n+=Ri(e.endAt)),e.h=n}return e.h}function _i(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ni(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ei(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mi(t.startAt,e.startAt)&&Mi(t.endAt,e.endAt)}function wi(t){return Zr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Si=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,i.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ki(t,n,r):"array-contains"===n?new Ti(t,r):"in"===n?new xi(t,r):"not-in"===n?new Pi(t,r):"array-contains-any"===n?new Ii(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ai(t,n):new Ei(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(ri(e,this.value)):null!==e&&ti(this.value)===ti(e)&&this.m(ri(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ar()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ki=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Zr.fromName(r.referenceValue),i}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=Zr.comparator(t.key,this.key);return this.m(e)},e}(Si),Ai=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ci(0,n),r}return(0,i.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Si),Ei=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ci(0,n),r}return(0,i.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Si);function Ci(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Zr.fromName(t.referenceValue)})}var Ti=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return ci(e)&&ni(e.arrayValue,this.value)},e}(Si),xi=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ni(this.value.arrayValue,e)},e}(Si),Pi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){if(ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ni(this.value.arrayValue,e)},e}(Si),Ii=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!ci(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ni(e.value.arrayValue,t)})},e}(Si),Oi=function(t,e){this.position=t,this.before=e};function Ri(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return oi(t)}).join(",")}var Di=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ni(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Li(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Zr.comparator(Zr.fromName(s.referenceValue),n.key):ri(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Mi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}var Fi=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ji(t,e,n,r,i,o,s,a){return new Fi(t,e,n,r,i,o,s,a)}function Vi(t){return new Fi(t)}function Ui(t){return!Qr(t.limit)&&"F"===t.limitType}function Bi(t){return!Qr(t.limit)&&"L"===t.limitType}function qi(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Hi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function zi(t){return null!==t.collectionGroup}function Wi(t){var e=Cr(t);if(null===e.p){e.p=[];var n=Hi(e),r=qi(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Di(n)),e.p.push(new Di(Ur.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Di(Ur.keyField(),u))}}}return e.p}function Gi(t){var e=Cr(t);if(!e.T)if("F"===e.limitType)e.T=yi(e.path,e.collectionGroup,Wi(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Wi(e);r<i.length;r++){var o=i[r];n.push(new Di(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Oi(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Oi(e.startAt.position,!e.startAt.before):null;e.T=yi(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Ki(t,e,n){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $i(t,e){return _i(Gi(t),Gi(e))&&t.limitType===e.limitType}function Xi(t){return bi(Gi(t))+"|lt:"+t.limitType}function Qi(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+oi(e.value);var e}).join(", ")+"]"),Qr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ri(t.startAt)),t.endAt&&(e+=", endAt: "+Ri(t.endAt)),"Target("+e+")"}(Gi(t))+"; limitType="+t.limitType+")"}function Yi(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Zr.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Li(t.startAt,Wi(t),e)||t.endAt&&Li(t.endAt,Wi(t),e))}(t,e)}function Ji(t){return function(e,n){for(var r=!1,i=0,o=Wi(t);i<o.length;i++){var s=o[i],a=Zi(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Zi(t,e,n){var r=t.field.isKeyField()?Zr.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?ri(r,i):Ar()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ar()}}function to(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yr(e)?"-0":e}}function eo(t){return{integerValue:""+t}}function no(t,e){return Jr(e)?eo(e):to(t,e)}var ro=function(){this._=void 0};function io(t,e,n){return t instanceof ao?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof uo?co(t,e):t instanceof lo?ho(t,e):function(t,e){var n=so(t,e),r=po(n)+po(t.A);return ui(n)&&ui(t.A)?eo(r):to(t.R,r)}(t,e)}function oo(t,e,n){return t instanceof uo?co(t,e):t instanceof lo?ho(t,e):n}function so(t,e){return t instanceof fo?ui(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e}(ro),uo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.ZT)(e,t),e}(ro);function co(t,e){for(var n=go(e),r=function(t){n.some(function(e){return ei(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.ZT)(e,t),e}(ro);function ho(t,e){for(var n=go(e),r=function(t){n=n.filter(function(e){return!ei(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var fo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,i.ZT)(e,t),e}(ro);function po(t){return Wr(t.integerValue||t.doubleValue)}function go(t){return ci(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mo=function(t,e){this.field=t,this.transform=e},vo=function(t,e){this.version=t,this.transformResults=e},yo=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function bo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var _o=function(){};function wo(t,e,n){t instanceof Co?function(t,e,n){var r=t.value.clone(),i=Po(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof To?function(t,e,n){if(bo(t.precondition,e)){var r=Po(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(xo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function So(t,e,n){t instanceof Co?function(t,e,n){if(bo(t.precondition,e)){var r=t.value.clone(),i=Io(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Eo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof To?function(t,e,n){if(bo(t.precondition,e)){var r=Io(t.fieldTransforms,n,e),i=e.data;i.setAll(xo(t)),i.setAll(r),e.convertToFoundDocument(Eo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){bo(t.precondition,e)&&e.convertToNoDocument(Dr.min())}(t,e)}function ko(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=so(o.transform,s||null);null!=a&&(null==n&&(n=pi.empty()),n.set(o.field,a))}return n||null}function Ao(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ir(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof uo&&e instanceof uo||t instanceof lo&&e instanceof lo?Ir(t.elements,e.elements,ei):t instanceof fo&&e instanceof fo?ei(t.A,e.A):t instanceof ao&&e instanceof ao}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Eo(t){return t.isFoundDocument()?t.version:Dr.min()}var Co=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,i.ZT)(e,t),e}(_o),To=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,i.ZT)(e,t),e}(_o);function xo(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Po(t,e,n){var r=new Map;Er(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,oo(s,a,n[i]))}return r}function Io(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,io(a,u,e))}return r}var Oo,Ro,Do=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,i.ZT)(e,t),e}(_o),No=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,i.ZT)(e,t),e}(_o),Lo=function(t){this.count=t};function Mo(t){switch(t){case mr.OK:return Ar();case mr.CANCELLED:case mr.UNKNOWN:case mr.DEADLINE_EXCEEDED:case mr.RESOURCE_EXHAUSTED:case mr.INTERNAL:case mr.UNAVAILABLE:case mr.UNAUTHENTICATED:return!1;case mr.INVALID_ARGUMENT:case mr.NOT_FOUND:case mr.ALREADY_EXISTS:case mr.PERMISSION_DENIED:case mr.FAILED_PRECONDITION:case mr.ABORTED:case mr.OUT_OF_RANGE:case mr.UNIMPLEMENTED:case mr.DATA_LOSS:return!0;default:return Ar()}}function Fo(t){if(void 0===t)return wr("GRPC error has no .code"),mr.UNKNOWN;switch(t){case Oo.OK:return mr.OK;case Oo.CANCELLED:return mr.CANCELLED;case Oo.UNKNOWN:return mr.UNKNOWN;case Oo.DEADLINE_EXCEEDED:return mr.DEADLINE_EXCEEDED;case Oo.RESOURCE_EXHAUSTED:return mr.RESOURCE_EXHAUSTED;case Oo.INTERNAL:return mr.INTERNAL;case Oo.UNAVAILABLE:return mr.UNAVAILABLE;case Oo.UNAUTHENTICATED:return mr.UNAUTHENTICATED;case Oo.INVALID_ARGUMENT:return mr.INVALID_ARGUMENT;case Oo.NOT_FOUND:return mr.NOT_FOUND;case Oo.ALREADY_EXISTS:return mr.ALREADY_EXISTS;case Oo.PERMISSION_DENIED:return mr.PERMISSION_DENIED;case Oo.FAILED_PRECONDITION:return mr.FAILED_PRECONDITION;case Oo.ABORTED:return mr.ABORTED;case Oo.OUT_OF_RANGE:return mr.OUT_OF_RANGE;case Oo.UNIMPLEMENTED:return mr.UNIMPLEMENTED;case Oo.DATA_LOSS:return mr.DATA_LOSS;default:return Ar()}}(Ro=Oo||(Oo={}))[Ro.OK=0]="OK",Ro[Ro.CANCELLED=1]="CANCELLED",Ro[Ro.UNKNOWN=2]="UNKNOWN",Ro[Ro.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ro[Ro.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ro[Ro.NOT_FOUND=5]="NOT_FOUND",Ro[Ro.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ro[Ro.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ro[Ro.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ro[Ro.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ro[Ro.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ro[Ro.ABORTED=10]="ABORTED",Ro[Ro.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ro[Ro.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ro[Ro.INTERNAL=13]="INTERNAL",Ro[Ro.UNAVAILABLE=14]="UNAVAILABLE",Ro[Ro.DATA_LOSS=15]="DATA_LOSS";var jo=function(){function t(t,e){this.comparator=t,this.root=e||Uo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Uo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Uo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Vo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Vo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Vo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Vo(this.root,t,this.comparator,!0)},t}(),Vo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Uo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Ar();if(this.right.isRed())throw Ar();var t=this.left.check();if(t!==this.right.check())throw Ar();return t+(this.isRed()?0:1)},t}();Uo.EMPTY=null,Uo.RED=!0,Uo.BLACK=!1,Uo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ar()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Uo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Bo=function(){function t(t){this.comparator=t,this.data=new jo(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new qo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new qo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),qo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ho=new jo(Zr.comparator);function zo(){return Ho}var Wo=new jo(Zr.comparator);function Go(){return Wo}var Ko=new jo(Zr.comparator);function $o(){return Ko}var Xo=new Bo(Zr.comparator);function Qo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Xo,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Yo=new Bo(Pr);function Jo(){return Yo}var Zo=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,ts.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Dr.min(),r,Jo(),zo(),Qo())},t}(),ts=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(qr.EMPTY_BYTE_STRING,n,Qo(),Qo(),Qo())},t}(),es=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ns=function(t,e){this.targetId=t,this.V=e},rs=function(t,e,n,r){void 0===n&&(n=qr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},is=function(){function t(){this.S=0,this.D=as(),this.C=qr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Qo(),e=Qo(),n=Qo();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ar()}}),new ts(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=as()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),os=function(){function t(t){this.W=t,this.G=new Map,this.H=zo(),this.J=ss(),this.Y=new Bo(Pr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Ar()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(wi(i))if(0===n){var o=new Zr(i.path);this.tt(e,o,mi.newNoDocument(o,Dr.min()))}else Er(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&wi(o.target)){var s=new Zr(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,mi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=Qo();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Zo(t,n,this.Y,this.H,r);return this.H=zo(),this.J=ss(),this.Y=new Bo(Pr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new is,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Bo(Pr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||_r("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new is),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ss(){return new jo(Zr.comparator)}function as(){return new jo(Zr.comparator)}var us={asc:"ASCENDING",desc:"DESCENDING"},cs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ls=function(t,e){this.databaseId=t,this.I=e};function hs(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ds(t,e){return t.I?e.toBase64():e.toUint8Array()}function fs(t,e){return hs(t,e.toTimestamp())}function ps(t){return Er(!!t),Dr.fromTimestamp(function(t){var e=zr(t);return new Rr(e.seconds,e.nanos)}(t))}function gs(t,e){return function(t){return new jr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function ms(t){var e=jr.fromString(t);return Er(Us(e)),e}function vs(t,e){return gs(t.databaseId,e.path)}function ys(t,e){var n=ms(e);if(n.get(1)!==t.databaseId.projectId)throw new vr(mr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new vr(mr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Zr(Ss(n))}function bs(t,e){return gs(t.databaseId,e)}function _s(t){var e=ms(t);return 4===e.length?jr.emptyPath():Ss(e)}function ws(t){return new jr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ss(t){return Er(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function ks(t,e,n){return{name:vs(t,e),fields:n.value.mapValue.fields}}function As(t,e,n){var r=ys(t,e.name),i=ps(e.updateTime),o=new pi({mapValue:{fields:e.fields}}),s=mi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Es(t,e){var n;if(e instanceof Co)n={update:ks(t,e.key,e.value)};else if(e instanceof Do)n={delete:vs(t,e.key)};else if(e instanceof To)n={update:ks(t,e.key,e.data),updateMask:Vs(e.fieldMask)};else{if(!(e instanceof No))return Ar();n={verify:vs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ao)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof uo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof lo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Ar()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:fs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ar()}(t,e.precondition)),n}function Cs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?yo.updateTime(ps(t.updateTime)):void 0!==t.exists?yo.exists(t.exists):yo.none()}(e.currentDocument):yo.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Er("REQUEST_TIME"===e.setToServerValue),n=new ao):"appendMissingElements"in e?n=new uo(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new lo(e.removeAllFromArray.values||[]):"increment"in e?n=new fo(t,e.increment):Ar();var r=Ur.fromServerFormat(e.fieldPath);return new mo(r,n)}(t,e)}):[];if(e.update){var i=ys(t,e.update.name),o=new pi({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Br((t.fieldPaths||[]).map(function(t){return Ur.fromServerFormat(t)}))}(e.updateMask);return new To(i,o,s,n,r)}return new Co(i,o,n,r)}if(e.delete){var a=ys(t,e.delete);return new Do(a,n)}if(e.verify){var u=ys(t,e.verify);return new No(u,n)}return Ar()}function Ts(t,e){return{documents:[bs(t,e.path)]}}function xs(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=bs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=bs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(hi(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NAN"}};if(li(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hi(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NAN"}};if(li(t.value))return{unaryFilter:{field:Ls(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(t.field),op:Ns(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Ls(t.field),direction:Ds(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Qr(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Os(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Os(e.endAt)),n}function Ps(t){var e=_s(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Er(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Is(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Di(Ms(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Qr(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Rs(n.startAt));var l=null;return n.endAt&&(l=Rs(n.endAt)),ji(e,i,a,s,u,"F",c,l)}function Is(t){return t?void 0!==t.unaryFilter?[js(t)]:void 0!==t.fieldFilter?[Fs(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Is(t)}).reduce(function(t,e){return t.concat(e)}):Ar():[]}function Os(t){return{before:t.before,values:t.position}}function Rs(t){return new Oi(t.values||[],!!t.before)}function Ds(t){return us[t]}function Ns(t){return cs[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Ms(t){return Ur.fromServerFormat(t.fieldPath)}function Fs(t){return Si.create(Ms(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ar()}}(t.fieldFilter.op),t.fieldFilter.value)}function js(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ms(t.unaryFilter.field);return Si.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ms(t.unaryFilter.field);return Si.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ms(t.unaryFilter.field);return Si.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ms(t.unaryFilter.field);return Si.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ar()}}function Vs(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Us(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Bs(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Hs(e)),e=qs(t.get(n),e);return Hs(e)}function qs(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Hs(t){return t+"\x01\x01"}function zs(t){var e=t.length;if(Er(e>=2),2===e)return Er("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),jr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ar(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ar()}o=s+2}return new jr(r)}var Ws=function(t,e){this.seconds=t,this.nanoseconds=e},Gs=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gs.store="owner",Gs.key="owner";var Ks=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ks.store="mutationQueues",Ks.keyPath="userId";var $s=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};$s.store="mutations",$s.keyPath="batchId",$s.userMutationsIndex="userMutationsIndex",$s.userMutationsKeyPath=["userId","batchId"];var Xs=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Bs(e)]},t.key=function(t,e,n){return[t,Bs(e),n]},t}();Xs.store="documentMutations",Xs.PLACEHOLDER=new Xs;var Qs=function(t,e){this.path=t,this.readTime=e},Ys=function(t,e){this.path=t,this.version=e},Js=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Js.store="remoteDocuments",Js.readTimeIndex="readTimeIndex",Js.readTimeIndexPath="readTime",Js.collectionReadTimeIndex="collectionReadTimeIndex",Js.collectionReadTimeIndexPath=["parentPath","readTime"];var Zs=function(t){this.byteSize=t};Zs.store="remoteDocumentGlobal",Zs.key="remoteDocumentGlobalKey";var ta=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};ta.store="targets",ta.keyPath="targetId",ta.queryTargetsIndexName="queryTargetsIndex",ta.queryTargetsKeyPath=["canonicalId","targetId"];var ea=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ea.store="targetDocuments",ea.keyPath=["targetId","path"],ea.documentTargetsIndex="documentTargetsIndex",ea.documentTargetsKeyPath=["path","targetId"];var na=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};na.key="targetGlobalKey",na.store="targetGlobal";var ra=function(t,e){this.collectionId=t,this.parent=e};ra.store="collectionParents",ra.keyPath=["collectionId","parent"];var ia=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};ia.store="clientMetadata",ia.keyPath="clientId";var oa=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};oa.store="bundles",oa.keyPath="bundleId";var sa=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sa.store="namedQueries",sa.keyPath="name";var aa=(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],[Ks.store,$s.store,Xs.store,Js.store,ta.store,Gs.store,na.store,ea.store]),[ia.store])),[Zs.store])),[ra.store])),[oa.store,sa.store]),ua="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ca=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),la=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},ha=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Ar(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),da=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new la,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new ga(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=_a(e.target.error);n.ft.reject(new ga(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new ga(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(_r("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new va(e)},t}(),fa=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,o.z$)())&&wr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return _r("SimpleDb","Removing database:",t),ya(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,o.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n=this;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(_r("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new ga(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new vr(mr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new ga(t,n))},i.onupgradeneeded=function(t){_r("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){_r("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,i.mG)(this,void 0,void 0,function(){var o,s,a,u,c;return(0,i.Jh)(this,function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,h;return(0,i.Jh)(this,function(i){switch(i.label){case 0:++s,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=i.sent(),e=da.open(u.db,t,o?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),ha.reject(t)}).toPromise(),c={},a.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(i.sent(),a),c)];case 4:return _r("SimpleDb","Transaction failed with error:",(l=i.sent()).message,"Retrying:",h="FirebaseError"!==l.name&&s<3),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),pa=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return ya(this.Pt.delete())},t}(),ga=function(t){function e(e,n){var r=this;return(r=t.call(this,mr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,i.ZT)(e,t),e}(vr);function ma(t){return"IndexedDbTransactionError"===t.name}var va=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(_r("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(_r("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ya(n)},t.prototype.add=function(t){return _r("SimpleDb","ADD",this.store.name,t,t),ya(this.store.add(t))},t.prototype.get=function(t){var e=this;return ya(this.store.get(t)).next(function(n){return void 0===n&&(n=null),_r("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return _r("SimpleDb","DELETE",this.store.name,t),ya(this.store.delete(t))},t.prototype.count=function(){return _r("SimpleDb","COUNT",this.store.name),ya(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){_r("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ha(function(n,r){e.onerror=function(t){var e=_a(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new ha(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new pa(i),s=e(i.primaryKey,i.value,o);if(s instanceof ha){var a=s.catch(function(t){return o.done(),ha.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return ha.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ya(t){return new ha(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=_a(t.target.error);n(e)}})}var ba=!1;function _a(t){var e=fa._t((0,o.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new vr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ba||(ba=!0,setTimeout(function(){throw r},0)),r}}return t}var wa=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,i.ZT)(e,t),e}(ca);function Sa(t,e){var n=Cr(t);return fa.It(n.Mt,e)}var ka=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&wo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&So(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&So(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Dr.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Qo())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ir(this.mutations,t.mutations,function(t,e){return Ao(t,e)})&&Ir(this.baseMutations,t.baseMutations,function(t,e){return Ao(t,e)})},t}(),Aa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Er(e.mutations.length===r.length);for(var i=$o(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Ea=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Dr.min()),void 0===o&&(o=Dr.min()),void 0===s&&(s=qr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Ca=function(t){this.Lt=t};function Ta(t,e){if(e.document)return As(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Zr.fromSegments(e.noDocument.path),r=Ra(e.noDocument.readTime),i=mi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Zr.fromSegments(e.unknownDocument.path);return r=Ra(e.unknownDocument.version),mi.newUnknownDocument(o,r)}return Ar()}function xa(t,e,n){var r=Pa(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:vs(t,e.key),fields:e.data.value.mapValue.fields,updateTime:hs(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Js(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Oa(e.version);return s=e.hasCommittedMutations,new Js(null,new Qs(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Oa(e.version);return new Js(new Ys(c,l),null,null,!0,r,i)}return Ar()}function Pa(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ia(t){var e=new Rr(t[0],t[1]);return Dr.fromTimestamp(e)}function Oa(t){var e=t.toTimestamp();return new Ws(e.seconds,e.nanoseconds)}function Ra(t){var e=new Rr(t.seconds,t.nanoseconds);return Dr.fromTimestamp(e)}function Da(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Cs(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Cs(t.Lt,e)}),o=Rr.fromMillis(e.localWriteTimeMs);return new ka(e.batchId,o,n,i)}function Na(t){var e,n,r=Ra(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ra(t.lastLimboFreeSnapshotVersion):Dr.min();return void 0!==t.query.documents?(Er(1===(n=t.query).documents.length),e=Gi(Vi(_s(n.documents[0])))):e=function(t){return Gi(Ps(t))}(t.query),new Ea(e,t.targetId,0,t.lastListenSequenceNumber,r,i,qr.fromBase64String(t.resumeToken))}function La(t,e){var n,r=Oa(e.snapshotVersion),i=Oa(e.lastLimboFreeSnapshotVersion);n=wi(e.target)?Ts(t.Lt,e.target):xs(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ta(e.targetId,bi(e.target),r,o,e.sequenceNumber,i,n)}function Ma(t){var e=Ps({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ki(e,e.limit,"L"):e}var Fa=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return ja(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ra(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return ja(t).put({bundleId:(n=e).id,createTime:Oa(ps(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Va(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ma(e.bundledQuery),readTime:Ra(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Va(t).put(function(t){return{name:t.name,readTime:Oa(ps(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function ja(t){return Sa(t,oa.store)}function Va(t){return Sa(t,sa.store)}var Ua=function(){function t(){this.Bt=new Ba}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ha.resolve()},t.prototype.getCollectionParents=function(t,e){return ha.resolve(this.Bt.getEntries(e))},t}(),Ba=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Bo(jr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Bo(jr.comparator)).toArray()},t}(),qa=function(){function t(){this.qt=new Ba}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Bs(i)};return Ha(t).put(o)}return ha.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Or(e),""],!1,!0);return Ha(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(zs(o.parent))}return n})},t}();function Ha(t){return Sa(t,ra.store)}var za={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wa=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Ga(t,e,n){var r=t.store($s.store),i=t.store(Xs.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Er(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Xs.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return ha.waitFor(o).next(function(){return c})}function Ka(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ar();e=t.noDocument}return JSON.stringify(e).length}Wa.DEFAULT_COLLECTION_PERCENTILE=10,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wa.DEFAULT=new Wa(41943040,Wa.DEFAULT_COLLECTION_PERCENTILE,Wa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wa.DISABLED=new Wa(-1,0,0);var $a=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Er(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qa(t).$t({index:$s.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Ya(t),s=Qa(t);return s.add({}).next(function(a){Er("number"==typeof a);for(var u=new ka(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Es(t.Lt,e)}),i=n.mutations.map(function(e){return Es(t.Lt,e)});return new $s(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Bo(function(t,e){return Pr(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],g=Xs.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,Xs.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),ha.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qa(t).get(e).next(function(t){return t?(Er(t.userId===n.userId),Da(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?ha.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qa(t).$t({index:$s.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Er(e.batchId>=r),o=Da(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qa(t).$t({index:$s.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qa(t).Nt($s.userMutationsIndex,n).next(function(t){return t.map(function(t){return Da(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Xs.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ya(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=zs(r[1]);if(a===n.userId&&e.path.isEqual(c))return Qa(t).get(u).next(function(t){if(!t)throw Ar();Er(t.userId===n.userId),o.push(Da(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bo(Pr),i=[];return e.forEach(function(e){var o=Xs.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Ya(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=zs(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),ha.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Xs.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Bo(Pr);return Ya(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=zs(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Qa(t).get(e).next(function(t){if(null===t)throw Ar();Er(t.userId===n.userId),r.push(Da(n.R,t))}))}),ha.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Ga(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),ha.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return ha.resolve();var r=IDBKeyRange.lowerBound(Xs.prefixForUser(e.userId)),i=[];return Ya(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=zs(t[1]);i.push(o)}else r.done()}).next(function(){Er(0===i.length)})})},t.prototype.containsKey=function(t,e){return Xa(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Ja(t).get(this.userId).next(function(t){return t||new Ks(e.userId,-1,"")})},t}();function Xa(t,e,n){var r=Xs.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ya(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Qa(t){return Sa(t,$s.store)}function Ya(t){return Sa(t,Xs.store)}function Ja(t){return Sa(t,Ks.store)}var Za=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),tu=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Za(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Dr.fromTimestamp(new Rr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return eu(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Er(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return eu(t).$t(function(s,a){var u=Na(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return ha.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return eu(t).$t(function(t,n){var r=Na(n);e(r)})},t.prototype.Xt=function(t){return nu(t).get(na.key).next(function(t){return Er(null!==t),t})},t.prototype.Zt=function(t,e){return nu(t).put(na.key,e)},t.prototype.te=function(t,e){return eu(t).put(La(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=bi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return eu(t).$t({range:r,index:ta.queryTargetsIndexName},function(t,n,r){var o=Na(n);_i(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ru(t);return e.forEach(function(e){var s=Bs(e.path);i.push(o.put(new ea(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),ha.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ru(t);return ha.forEach(e,function(e){var o=Bs(e.path);return ha.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ru(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ru(t),i=Qo();return r.$t({range:n,Ft:!0},function(t,e,n){var r=zs(t[1]),o=new Zr(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Bs(e.path),r=IDBKeyRange.bound([n],[Or(n)],!1,!0),i=0;return ru(t).$t({index:ea.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return eu(t).get(e).next(function(t){return t?Na(t):null})},t}();function eu(t){return Sa(t,ta.store)}function nu(t){return Sa(t,na.store)}function ru(t){return Sa(t,ea.store)}function iu(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){if(t.code!==mr.FAILED_PRECONDITION||t.message!==ua)throw t;return _r("LocalStore","Unexpectedly lost primary lease"),[2]})})}function ou(t,e){var n=t[1],r=e[1],i=Pr(t[0],e[0]);return 0===i?Pr(n,r):i}var su=function(){function t(t){this.ne=t,this.buffer=new Bo(ou),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ou(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),au=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;_r("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,i.mG)(e,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ma(e=n.sent())?(_r("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,iu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),uu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ha.resolve(gr.o);var r=new su(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_r("LruGarbageCollector","Garbage collection skipped; disabled"),ha.resolve(za)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(_r("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),za):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(_r("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),br()<=s.in.DEBUG&&_r("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),ha.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),cu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new uu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return lu(t,n)},t.prototype.removeReference=function(t,e,n){return lu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return lu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Ja(t).Ot(function(r){return Xa(t,r,e).next(function(t){return t&&(n=!0),ha.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),ru(t).delete([0,Bs(s.path)])})});i.push(u)}}).next(function(){return ha.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return lu(t,e)},t.prototype.we=function(t,e){var n,r=ru(t),i=gr.o;return r.$t({index:ea.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==gr.o&&e(new Zr(zs(n)),i),i=s,n=o):i=gr.o}).next(function(){i!==gr.o&&e(new Zr(zs(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function lu(t,e){return ru(t).put(function(t,e){return new ea(0,Bs(t.path),e)}(e,t.currentSequenceNumber))}var hu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Lr(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Mr(this.inner)},t}(),du=function(){function t(){this.changes=new hu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Dr.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:mi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ha.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),fu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return mu(t).put(vu(e),n)},t.prototype.removeEntry=function(t,e){var n=mu(t),r=vu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return mu(t).get(vu(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return mu(t).get(vu(e)).next(function(t){return{document:n.ye(e,t),size:Ka(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=zo();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=zo(),i=new jo(Zr.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ka(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ha.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return mu(t).$t({range:r},function(t,e,r){for(var s=Zr.fromSegments(t);o&&Zr.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=zo(),o=e.path.length+1,s={};if(n.isEqual(Dr.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=Pa(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Js.collectionReadTimeIndex}return mu(t).$t(s,function(t,n,s){if(t.length===o){var a=Ta(r.R,n);e.path.isPrefixOf(a.key.path)?Yi(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new pu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return gu(t).get(Zs.key).next(function(t){return Er(!!t),t})},t.prototype.me=function(t,e){return gu(t).put(Zs.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ta(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Dr.min()))return n}return mi.newInvalidDocument(t)},t}(),pu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new hu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,i.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Bo(function(t,e){return Pr(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=xa(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ka(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=xa(e.Ie.R,mi.newNoDocument(o,Dr.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),ha.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(du);function gu(t){return Sa(t,Zs.store)}function mu(t){return Sa(t,Js.store)}function vu(t){return t.path.toArray()}var yu=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Er(n<r&&n>=0&&r<=11);var o=new da("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gs.store)}(t),function(t){t.createObjectStore(Ks.store,{keyPath:Ks.keyPath}),t.createObjectStore($s.store,{keyPath:$s.keyPath,autoIncrement:!0}).createIndex($s.userMutationsIndex,$s.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xs.store)}(t),bu(t),function(t){t.createObjectStore(Js.store)}(t));var s=ha.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ea.store),t.deleteObjectStore(ta.store),t.deleteObjectStore(na.store)}(t),bu(t)),s=s.next(function(){return function(t){var e=t.store(na.store),n=new na(0,0,Dr.min().toTimestamp(),0);return e.put(na.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store($s.store).Nt().next(function(n){t.deleteObjectStore($s.store),t.createObjectStore($s.store,{keyPath:$s.keyPath,autoIncrement:!0}).createIndex($s.userMutationsIndex,$s.userMutationsKeyPath,{unique:!0});var r=e.store($s.store),i=n.map(function(t){return r.put(t)});return ha.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(ia.store,{keyPath:ia.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Zs.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Js.store);e.createIndex(Js.readTimeIndex,Js.readTimeIndexPath,{unique:!1}),e.createIndex(Js.collectionReadTimeIndex,Js.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(oa.store,{keyPath:oa.keyPath})}(t),function(t){t.createObjectStore(sa.store,{keyPath:sa.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Js.store).$t(function(t,n){e+=Ka(n)}).next(function(){var n=new Zs(e);return t.store(Zs.store).put(Zs.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(Ks.store),r=t.store($s.store);return n.Nt().next(function(n){return ha.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt($s.userMutationsIndex,i).next(function(r){return ha.forEach(r,function(r){Er(r.userId===n.userId);var i=Da(e.R,r);return Ga(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(ea.store),n=t.store(Js.store);return t.store(na.store).get(na.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new jr(n),s=function(t){return[0,Bs(t)]}(o);r.push(e.get(s).next(function(n){return n?ha.resolve():function(n){return e.put(new ea(0,Bs(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return ha.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(ra.store,{keyPath:ra.keyPath});var n=e.store(ra.store),r=new Ba,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Bs(i)})}};return e.store(Js.store).$t({Ft:!0},function(t,e){var n=new jr(t);return i(n.popLast())}).next(function(){return e.store(Xs.store).$t({Ft:!0},function(t,e){var n=zs(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(ta.store);return n.$t(function(t,r){var i=Na(r),o=La(e.R,i);return n.put(o)})},t}();function bu(t){t.createObjectStore(ea.store,{keyPath:ea.keyPath}).createIndex(ea.documentTargetsIndex,ea.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ta.store,{keyPath:ta.keyPath}).createIndex(ta.queryTargetsIndexName,ta.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(na.store)}var _u="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new vr(mr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new cu(this,i),this.Le=n+"main",this.R=new Ca(u),this.Be=new fa(this.Le,11,new yu(this.R)),this.qe=new tu(this.referenceDelegate,this.R),this.Ut=new qa,this.Ue=function(t,e){return new fu(t,e)}(this.R,this.Ut),this.Ke=new Fa,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&wr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new vr(mr.FAILED_PRECONDITION,_u);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new gr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,i.mG)(e,void 0,void 0,function(){return(0,i.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,i.mG)(e,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,i.mG)(e,void 0,void 0,function(){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ku(e).put(new ia(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(ma(e))return _r("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return _r("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Su(t).get(Gs.key).next(function(t){return ha.resolve(e.tn(t))})},t.prototype.en=function(t){return ku(t).delete(this.clientId)},t.prototype.nn=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Sa(t,ia.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return ha.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ha.resolve(!0):Su(t).get(Gs.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new vr(mr.FAILED_PRECONDITION,_u);return!1}}return!(!e.networkEnabled||!e.inForeground)||ku(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&_r("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,i.mG)(this,void 0,void 0,function(){var t=this;return(0,i.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gs.store,ia.store],function(e){var n=new wa(e,gr.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ku(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return $a.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return _r("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",aa,function(o){return r=new wa(o,i.Ne?i.Ne.next():gr.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw wr("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new vr(mr.FAILED_PRECONDITION,ua);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Su(t).get(Gs.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new vr(mr.FAILED_PRECONDITION,_u)})},t.prototype.Ze=function(t){var e=new Gs(this.clientId,this.allowTabSynchronization,Date.now());return Su(t).put(Gs.key,e)},t.yt=function(){return fa.yt()},t.prototype.Xe=function(t){var e=this,n=Su(t);return n.get(Gs.key).next(function(t){return e.tn(t)?(_r("IndexedDbPersistence","Releasing primary lease."),n.delete(Gs.key)):ha.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(wr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,o.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return _r("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return wr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){wr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Su(t){return Sa(t,Gs.store)}function ku(t){return Sa(t,ia.store)}function Au(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Eu=function(t,e){this.progress=t,this.wn=e},Cu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Zr.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):zi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Zr(e)).next(function(t){var e=Go();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Go();return this.Ut.getCollectionParents(t,i).next(function(s){return ha.forEach(s,function(s){var a=function(t,e){return new Fi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=mi.newInvalidDocument(c),r=r.insert(c,l)),So(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){Yi(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Qo(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof To&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),Tu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Qo(),i=Qo(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),xu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Dr.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var a=i.Cn(e,o);return(Ui(e)||Bi(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(br()<=s.in.DEBUG&&_r("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qi(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return a.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Bo(Ji(t));return e.forEach(function(e,r){Yi(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return br()<=s.in.DEBUG&&_r("QueryEngine","Using full collection scan to execute query:",Qi(e)),this.Sn.getDocumentsMatchingQuery(t,e,Dr.min())},t}(),Pu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new jo(Pr),this.Fn=new hu(function(t){return bi(t)},_i),this.$n=Dr.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Cu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function Iu(t,e,n,r){return new Pu(t,e,n,r)}function Ou(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var i;return n._n.getAllMutationBatches(t).next(function(s){return i=s,r=n.persistence.getMutationQueue(e),o=new Cu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Qo(),a=0,u=i;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return o.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Ru(t,e){var n=Cr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=ha.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Er(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Du(t){var e=Cr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Nu(t,e){var n=Cr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Er(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=zo();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Lu(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Dr.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return ha.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function Lu(t,e,n,r,i){var o=Qo();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=zo();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Dr.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):_r("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Mu(t,e){var n=Cr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Fu(t,e){var n=Cr(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?ha.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Ea(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function ju(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:r=Cr(t),o=r.kn.get(e),s=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,o)})];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!ma(a=i.sent()))throw a;return _r("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(o.target),[2]}})})}function Vu(t,e,n){var r=Cr(t),i=Dr.min(),o=Qo();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Cr(t),i=r.Fn.get(n);return void 0!==i?ha.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Gi(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Dr.min(),n?o:Qo())}).next(function(t){return{documents:t,Bn:o}})})}function Uu(t,e){var n=Cr(t),r=Cr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Bu(t){var e=Cr(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Cr(t),i=zo(),o=Pa(n),s=mu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Js.readTimeIndex,range:a},function(t,e){var n=Ta(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Ia(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function qu(t){return(0,i.mG)(this,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){return[2,(e=Cr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=mu(t),n=Dr.min();return e.$t({index:Js.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Ia(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function Hu(t,e,n,r){return(0,i.mG)(this,void 0,void 0,function(){var o,s,a,u,c,l,h,d,f,p;return(0,i.Jh)(this,function(i){switch(i.label){case 0:for(o=Cr(t),s=Qo(),a=zo(),u=$o(),c=0,l=n;c<l.length;c++)d=e.qn((h=l[c]).metadata.name),h.document&&(s=s.add(d)),a=a.insert(d,e.Un(h)),u=u.insert(d,e.Kn(h.metadata.readTime));return f=o.On.newChangeBuffer({trackRemovals:!0}),[4,Fu(o,function(t){return Gi(Vi(jr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Lu(t,f,a,Dr.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return o.qe.addMatchingKeys(t,s,p.targetId)}).next(function(){return o.Mn.En(t,e)}).next(function(){return e})})})]}})})}function zu(t,e,n){return void 0===n&&(n=Qo()),(0,i.mG)(this,void 0,void 0,function(){var r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,Fu(t,Gi(Ma(e.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Cr(t)).persistence.runTransaction("Save named query","readwrite",function(t){var i=ps(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(qr.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(s.targetId,s),o.qe.updateTargetData(t,s).next(function(){return o.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return o.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return o.Ke.saveNamedQuery(t,e)})})]}})})}var Wu=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ha.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:ps(n.createTime)}),ha.resolve()},t.prototype.getNamedQuery=function(t,e){return ha.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ma(t.bundledQuery),readTime:ps(t.readTime)}}(e)),ha.resolve()},t}(),Gu=function(){function t(){this.Wn=new Bo(Ku.Gn),this.zn=new Bo(Ku.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ku(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Ku(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Zr(new jr([])),r=new Ku(n,t),i=new Ku(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Zr(new jr([])),n=new Ku(e,t),r=new Ku(e,t+1),i=Qo();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ku(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ku=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Zr.comparator(t.key,e.key)||Pr(t.ns,e.ns)},t.Hn=function(t,e){return Pr(t.ns,e.ns)||Zr.comparator(t.key,e.key)},t}(),$u=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Bo(Ku.Gn)}return t.prototype.checkEmpty=function(t){return ha.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new ka(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new Ku(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ha.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return ha.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return ha.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ha.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ha.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ku(e,0),i=new Ku(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),ha.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Bo(Pr);return e.forEach(function(t){var e=new Ku(t,0),i=new Ku(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),ha.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Zr.isDocumentKey(i)||(i=i.child(""));var o=new Ku(new Zr(i),0),s=new Bo(Pr);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),ha.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Er(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ha.forEach(e.mutations,function(i){var o=new Ku(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ku(e,0),r=this.rs.firstAfterOrEqual(n);return ha.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return ha.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Xu=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new jo(Zr.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ha.resolve(n?n.document.clone():mi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=zo();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():mi.newInvalidDocument(t))}),ha.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=zo(),i=new Zr(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||Yi(e,u)&&(r=r.insert(u.key,u.clone()))}return ha.resolve(r)},t.prototype.fs=function(t,e){return ha.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Qu(this)},t.prototype.getSize=function(t){return ha.resolve(this.size)},t}(),Qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,i.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),ha.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(du),Yu=function(){function t(t){this.persistence=t,this.ds=new hu(function(t){return bi(t)},_i),this.lastRemoteSnapshotVersion=Dr.min(),this.highestTargetId=0,this.ws=0,this._s=new Gu,this.targetCount=0,this.ys=Za.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),ha.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ha.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ha.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ha.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ha.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Za(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ha.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ha.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ha.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),ha.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return ha.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ha.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ha.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),ha.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ha.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ha.resolve(n)},t.prototype.containsKey=function(t,e){return ha.resolve(this._s.containsKey(e))},t}(),Ju=function(){function t(t,e){var n=this;this.gs={},this.Ne=new gr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Yu(this),this.Ut=new Ua,this.Ue=function(t,e){return new Xu(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new Ca(e),this.Ke=new Wu(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new $u(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;_r("MemoryPersistence","Starting transaction:",t);var i=new Zu(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return ha.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Zu=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,i.ZT)(e,t),e}(ca),tc=function(){function t(t){this.persistence=t,this.As=new Gu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Ar()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ha.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ha.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ha.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ha.forEach(this.vs,function(r){var i=Zr.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ha.or([function(){return ha.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ec=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function nc(t,e){return"firestore_clients_"+t+"_"+e}function rc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function ic(t,e){return"firestore_targets_"+t+"_"+e}ec.UNAUTHENTICATED=new ec(null),ec.GOOGLE_CREDENTIALS=new ec("google-credentials-uid"),ec.FIRST_PARTY=new ec("first-party-uid"),ec.MOCK_USER=new ec("mock-user");var oc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new vr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(wr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new vr(i.error.code,i.error.message)),o?new t(e,i.state,r):(wr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ac=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Jo(),s=0;i&&s<r.activeTargetIds.length;++s)i=Jr(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(wr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(wr("SharedClientState","Failed to parse online state: "+e),null)},t}(),cc=function(){function t(){this.activeTargetIds=Jo()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new jo(Pr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=nc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new cc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e,n,r,o,s,a,u,c,l,h=this;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(o=this.getItem(nc(this.persistenceKey,r)))&&(s=ac.Vs(r,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)this.ks(l[c]);return this.$s=[],this.window.addEventListener("pagehide",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(ic(this.persistenceKey,t));if(n){var r=sc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(ic(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return _r("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){_r("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){_r("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(_r("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void wr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,i.mG)(e,void 0,void 0,function(){var t,e,r,o,s,a;return(0,i.Jh)(this,function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(a=function(t){var e=gr.o;if(null!=t)try{var n=JSON.parse(t);Er("number"==typeof n),e=n}catch(t){wr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==gr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new oc(this.currentUser,t,e,n),i=rc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=rc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=ic(this.persistenceKey,t),i=new sc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return ac.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return oc.Vs(new ec(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return sc.Vs(r,e)},t.prototype.js=function(t){return uc.Vs(t)},t.prototype.ii=function(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(_r("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Jo();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),hc=function(){function t(){this.li=new cc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new cc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),dc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),fc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){_r("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){_r("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),pc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),mc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,i.ZT)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new pr;s.listenOnce(lr.COMPLETE,function(){try{switch(s.getLastErrorCode()){case cr.NO_ERROR:var e=s.getResponseJson();_r("Connection","XHR received:",JSON.stringify(e)),i(e);break;case cr.TIMEOUT:_r("Connection",'RPC "'+t+'" timed out'),o(new vr(mr.DEADLINE_EXCEEDED,"Request time out"));break;case cr.HTTP_ERROR:var n=s.getStatus();if(_r("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(mr).indexOf(e)>=0?e:mr.UNKNOWN}(r.status);o(new vr(a,r.message))}else o(new vr(mr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new vr(mr.UNAVAILABLE,"Connection failed."));break;default:Ar()}}finally{_r("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new ir,i=Yt(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new dr({})),this.ki(s.initMessageHeaders,e),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");_r("Connection","Creating WebChannel: "+a,s);var u=r.createWebChannel(a,s),c=!1,l=!1,h=new gc({Ei:function(t){l?_r("Connection","Not sending because WebChannel is closed:",t):(c||(_r("Connection","Opening WebChannel transport."),u.open(),c=!0),_r("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),d=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return d(u,fr.EventType.OPEN,function(){l||_r("Connection","WebChannel transport opened.")}),d(u,fr.EventType.CLOSE,function(){l||(l=!0,_r("Connection","WebChannel transport closed"),h.Vi())}),d(u,fr.EventType.ERROR,function(t){l||(l=!0,Sr("Connection","WebChannel transport errored:",t),h.Vi(new vr(mr.UNAVAILABLE,"The operation could not be completed")))}),d(u,fr.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];Er(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){_r("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Oo[t];if(void 0!==e)return Fo(e)}(i),s=r.message;void 0===o&&(o=mr.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),l=!0,h.Vi(new vr(o,s)),u.close()}else _r("Connection","WebChannel received:",n),h.Si(n)}}),d(i,hr.STAT_EVENT,function(t){10===t.stat?_r("Connection","Detected buffering proxy"):11===t.stat&&_r("Connection","Detected no buffering proxy")}),setTimeout(function(){h.Pi()},0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);_r("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return _r("RestConnection","Received: ",t),t},function(e){throw Sr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+pc[t]},t}());function vc(){return"undefined"!=typeof window?window:null}function yc(){return"undefined"!=typeof document?document:null}function bc(t){return new ls(t,!0)}var _c=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&_r("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),wc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new _c(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===mr.RESOURCE_EXHAUSTED?(wr(e.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===mr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new vr(mr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,i.mG)(t,void 0,void 0,function(){return(0,i.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return _r("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(_r("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Sc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,i.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ar()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Er(void 0===e||"string"==typeof e),qr.fromBase64String(e||"")):(Er(void 0===e||e instanceof Uint8Array),qr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?mr.UNKNOWN:Fo(t.code);return new vr(e,t.message||"")}(a);n=new rs(r,i,o,s||null)}else if("documentChange"in e){i=ys(t,(r=e.documentChange).document.name),o=ps(r.document.updateTime);var a=new pi({mapValue:{fields:r.document.fields}}),u=(s=mi.newFoundDocument(i,o,a),r.targetIds||[]);n=new es(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=ys(t,(r=e.documentDelete).document),o=r.readTime?ps(r.readTime):Dr.min(),a=mi.newNoDocument(i,o),n=new es([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=ys(t,(r=e.documentRemove).document),n=new es([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ar();var c=e.filter;i=new Lo(r=c.count||0),n=new ns(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Dr.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Dr.min():e.readTime?ps(e.readTime):Dr.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=ws(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=wi(r)?{documents:Ts(t,r)}:{query:xs(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ds(t,e.resumeToken):e.snapshotVersion.compareTo(Dr.min())>0&&(n.readTime=hs(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ar()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=ws(this.R),e.removeTarget=t,this.cr(e)},e}(wc),kc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Er(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Er(void 0!==e),t.map(function(t){return function(t,e){var n=ps(t.updateTime?t.updateTime:e);return n.isEqual(Dr.min())&&(n=ps(e)),new vo(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=ps(t.commitTime);return this.listener.Tr(n,e)}return Er(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=ws(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Es(e.R,t)})};this.cr(n)},e}(wc),Ac=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,i.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new vr(mr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===mr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new vr(mr.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===mr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new vr(mr.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Ec=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(wr(e),this.Vr=!1):_r("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Cc=function(t,e,n,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,i.mG)(s,void 0,void 0,function(){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return Lc(this)?(_r("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,i.mG)(this,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return(e=Cr(t)).Or.add(4),[4,xc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Tc(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Ec(n,r)};function Tc(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:if(!Lc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function xc(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Pc(t,e){var n=Cr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Nc(n)?Dc(n):Qc(n).er()&&Oc(n,e))}function Ic(t,e){var n=Cr(t),r=Qc(n);n.$r.delete(e),r.er()&&Rc(n,e),0===n.$r.size&&(r.er()?r.ir():Lc(n)&&n.Br.set("Unknown"))}function Oc(t,e){t.qr.U(e.targetId),Qc(t).mr(e)}function Rc(t,e){t.qr.U(e),Qc(t).yr(e)}function Dc(t){t.qr=new os({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Qc(t).start(),t.Br.Sr()}function Nc(t){return Lc(t)&&!Qc(t).tr()&&t.$r.size>0}function Lc(t){return 0===Cr(t).Or.size}function Mc(t){t.qr=void 0}function Fc(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){return t.$r.forEach(function(e,n){Oc(t,e)}),[2]})})}function jc(t,e){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(n){return Mc(t),Nc(t)?(t.Br.Nr(e),Dc(t)):t.Br.set("Unknown"),[2]})})}function Vc(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s;return(0,i.Jh)(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof rs&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s;return(0,i.Jh)(this,function(i){switch(i.label){case 0:n=e.cause,r=0,o=e.targetIds,i.label=1;case 1:return r<o.length?t.$r.has(s=o[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:i.sent(),t.$r.delete(s),t.qr.removeTarget(s),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),_r("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Uc(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof es?t.qr.X(e):e instanceof ns?t.qr.rt(e):t.qr.et(e),n.isEqual(Dr.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,Du(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(qr.EMPTY_BYTE_STRING,n.snapshotVersion)),Rc(t,e);var r=new Ea(n.target,e,1,n.sequenceNumber);Oc(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return _r("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,Uc(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Uc(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r=this;return(0,i.Jh)(this,function(o){switch(o.label){case 0:if(!ma(e))throw e;return t.Or.add(1),[4,xc(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Du(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,i.mG)(r,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return _r("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Tc(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Bc(t,e){return e().catch(function(n){return Uc(t,n,e)})}function qc(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n,r,o,s;return(0,i.Jh)(this,function(i){switch(i.label){case 0:e=Cr(t),n=Yc(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return Lc(t)&&t.Fr.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Mu(e.localStore,r)];case 3:return null===(o=i.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(t,e){t.Fr.push(e);var n=Yc(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return s=i.sent(),[4,Uc(e,s)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return Hc(e)&&zc(e),[2]}})})}function Hc(t){return Lc(t)&&!Yc(t).tr()&&t.Fr.length>0}function zc(t){Yc(t).start()}function Wc(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){return Yc(t).Ar(),[2]})})}function Gc(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n,r;return(0,i.Jh)(this,function(i){for(e=Yc(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Kc(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return r=t.Fr.shift(),o=Aa.from(r,e,n),[4,Bc(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return i.sent(),[4,qc(t)];case 2:return i.sent(),[2]}})})}function $c(t,e){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(n){switch(n.label){case 0:return e&&Yc(t).pr?[4,function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return Mo(r=e.code)&&r!==mr.ABORTED?(n=t.Fr.shift(),Yc(t).sr(),[4,Bc(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,qc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Hc(t)&&zc(t),[2]}})})}function Xc(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return n=Cr(t),e?(n.Or.delete(2),[4,Tc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,xc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Qc(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Cr(t);return r.br(),new Sc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fc.bind(null,t),Ri:jc.bind(null,t),_r:Vc.bind(null,t)}),t.Mr.push(function(n){return(0,i.mG)(e,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Nc(t)?Dc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Mc(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Yc(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Cr(t);return r.br(),new kc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Wc.bind(null,t),Ri:$c.bind(null,t),Ir:Gc.bind(null,t),Tr:Kc.bind(null,t)}),t.Mr.push(function(n){return(0,i.mG)(e,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,qc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(_r("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var Jc=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vr(mr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Zc(t,e){if(wr("AsyncQueue",e+": "+t),ma(t))return new vr(mr.UNAVAILABLE,e+": "+t);throw t}var tl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Zr.comparator(e.key,n.key)}:function(t,e){return Zr.comparator(t.key,e.key)},this.keyedMap=Go(),this.sortedSet=new jo(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),el=function(){function t(){this.Qr=new jo(Zr.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Ar():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),nl=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,tl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$i(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),rl=function(){this.Wr=void 0,this.listeners=[]},il=function(){this.queries=new hu(function(t){return Xi(t)},$i),this.onlineState="Unknown",this.Gr=new Set};function ol(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a,u,c;return(0,i.Jh)(this,function(i){switch(i.label){case 0:if(n=Cr(t),o=!1,(s=n.queries.get(r=e.query))||(o=!0,s=new rl),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=Zc(u,"Initialization of query '"+Qi(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&cl(n),[2]}})})}function sl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a;return(0,i.Jh)(this,function(i){return n=Cr(t),o=!1,(s=n.queries.get(r=e.query))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function al(t,e){for(var n=Cr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&cl(n)}function ul(t,e,n){var r=Cr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function cl(t){t.Gr.forEach(function(t){t.next()})}var ll=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new nl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),hl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),dl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ys(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?As(this.R,t.document,!1):mi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return ps(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new dl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Qo()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e,n,r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,Hu(this.localStore,new dl(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?[4,zu(this.localStore,o=r[n],e.get(o.name))]:[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Eu(Object.assign({},this.progress),t))]}})})}}();var fl=function(t){this.key=t},pl=function(t){this.key=t},gl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Qo(),this.mutatedKeys=Qo(),this.lo=Ji(t),this.fo=new tl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new el,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=Ui(this.query)&&i.size===this.query.limit?i.last():null,c=Bi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Yi(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Ui(this.query)||Bi(this.query))for(;s.size>this.query.limit;){var l=Ui(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ar()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new nl(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new el,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Qo(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new pl(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new fl(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Qo();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return nl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ml=function(t,e,n){this.query=t,this.targetId=e,this.view=n},vl=function(t){this.key=t,this.bo=!1},yl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new hu(function(t){return Xi(t)},$i),this.Vo=new Map,this.So=new Set,this.Do=new jo(Zr.comparator),this.Co=new Map,this.No=new Gu,this.xo={},this.ko=new Map,this.Fo=Za.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function bl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=$l(t),(o=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Fu(n.localStore,Gi(e))];case 2:return s=i.sent(),a=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,_l(n,e,s.targetId,"current"===a)];case 3:r=i.sent(),n.isPrimaryClient&&Pc(n.remoteStore,s),i.label=4;case 4:return[2,r]}})})}function _l(t,e,n,r){return(0,i.mG)(this,void 0,void 0,function(){var o,s,a,u,c,l;return(0,i.Jh)(this,function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,i.mG)(this,void 0,void 0,function(){var o,s,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return(o=e.view._o(n)).Nn?[4,Vu(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,o)})]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(o,t.isPrimaryClient,s),[2,(Dl(t,e.targetId,a.To),a.snapshot)]}})})}(t,e,n,r)},[4,Vu(t.localStore,e,!0)];case 1:return o=h.sent(),s=new gl(e,o.Bn),a=s._o(o.documents),u=ts.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(a,t.isPrimaryClient,u),Dl(t,n,c.To),l=new ml(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function wl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=n.Po.get(e),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(t){return!$i(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ju(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Ic(n.remoteStore,r.targetId),Ol(n,r.targetId)}).catch(iu)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Ol(n,r.targetId),[4,ju(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})}function Sl(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:r=Xl(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=Cr(t),i=Rr.now(),o=e.reduce(function(t,e){return t.add(e.key)},Qo());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ko(c,n.get(c.key));null!=l&&s.push(new To(c.key,l,gi(l.value.mapValue),yo.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new jo(Pr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,o.batchId,n),[4,Ml(r,o.changes)];case 3:return i.sent(),[4,qc(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return s=i.sent(),a=Zc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function kl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:n=Cr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Nu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Er(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Er(r.bo):t.removedDocuments.size>0&&(Er(r.bo),r.bo=!1))}),[4,Ml(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,iu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Al(t,e,n){var r=Cr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Cr(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&cl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function El(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s,a,u,c;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return(r=Cr(t)).sharedClientState.updateQueryState(e,"rejected",n),o=r.Co.get(e),(s=o&&o.key)?(a=(a=new jo(Zr.comparator)).insert(s,mi.newNoDocument(s,Dr.min())),u=Qo().add(s),c=new Zo(Dr.min(),new Map,new Bo(Pr),a,u),[4,kl(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Ll(r),[3,4];case 2:return[4,ju(r.localStore,e,!1).then(function(){return Ol(r,e,n)}).catch(iu)];case 3:i.sent(),i.label=4;case 4:return[2]}})})}function Cl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:n=Cr(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Ru(n.localStore,e)];case 2:return o=i.sent(),Il(n,r,null),Pl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ml(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,iu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Tl(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:r=Cr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=Cr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Er(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return o=i.sent(),Il(r,e,n),Pl(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ml(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,iu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function xl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:Lc((n=Cr(t)).remoteStore)||_r("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=Cr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((o=n.ko.get(r)||[]).push(e),n.ko.set(r,o),[3,4]);case 3:return s=i.sent(),a=Zc(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Pl(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function Il(t,e,n){var r=Cr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ol(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Rl(t,e)})}function Rl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Ic(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ll(t))}function Dl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof fl?(t.No.addReference(o.key,e),Nl(t,o)):o instanceof pl?(_r("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Rl(t,o.key)):Ar()}}function Nl(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(_r("SyncEngine","New document in limbo: "+n),t.So.add(r),Ll(t))}function Ll(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Zr(jr.fromString(e)),r=t.Fo.next();t.Co.set(r,new vl(n)),t.Do=t.Do.insert(n,r),Pc(t.remoteStore,new Ea(Gi(Vi(n.path)),r,2,gr.o))}}function Ml(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s,a;return(0,i.Jh)(this,function(u){switch(u.label){case 0:return r=Cr(t),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,i){a.push(r.Oo(i,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Tu.Pn(i.targetId,t);s.push(e)}}))}),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(o),[4,function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a,u,c,l;return(0,i.Jh)(this,function(i){switch(i.label){case 0:n=Cr(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return ha.forEach(e,function(e){return ha.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return ha.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return i.sent(),[3,4];case 3:if(!ma(r=i.sent()))throw r;return _r("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,s=e;o<s.length;o++)u=(a=s[o]).targetId,a.fromCache||(c=n.kn.get(u),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.kn=n.kn.insert(u,l));return[2]}})})}(r.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function Fl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return(n=Cr(t)).currentUser.isEqual(e)?[3,3]:(_r("SyncEngine","User change. New user:",e.toKey()),[4,Ou(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new vr(mr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ml(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function jl(t,e){var n=Cr(t),r=n.Co.get(e);if(r&&r.bo)return Qo().add(r.key);var i=Qo(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function Vl(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,Vu((n=Cr(t)).localStore,e.query,!0)];case 1:return r=i.sent(),o=e.view.Ao(r),[2,(n.isPrimaryClient&&Dl(n,e.targetId,o.To),o)]}})})}function Ul(t){return(0,i.mG)(this,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){return[2,Bu((e=Cr(t)).localStore).then(function(t){return Ml(e,t)})]})})}function Bl(t,e,n,r){return(0,i.mG)(this,void 0,void 0,function(){var o,s;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t,e){var n=Cr(t),r=Cr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):ha.resolve(null)})})}((o=Cr(t)).localStore,e)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,qc(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Il(o,e,r||null),Pl(o,e),function(t,e){Cr(Cr(t)._n).Gt(e)}(o.localStore,e)):Ar(),i.label=4;case 4:return[4,Ml(o,s)];case 5:return i.sent(),[3,7];case 6:_r("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}})})}function ql(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a,u,c;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return $l(n=Cr(t)),Xl(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Hl(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,Xc(n.remoteStore,!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)Pc(n.remoteStore,a[s]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?u.push(e):c=c.then(function(){return Ol(n,e),ju(n.localStore,e,!0)}),Ic(n.remoteStore,e)}),[4,c]);case 4:return i.sent(),[4,Hl(n,u)];case 5:return i.sent(),function(t){var e=Cr(t);e.Co.forEach(function(t,n){Ic(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new jo(Zr.comparator)}(n),n.$o=!1,[4,Xc(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}})})}function Hl(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a,u,c,l,h,d,f,p,g;return(0,i.Jh)(this,function(i){switch(i.label){case 0:n=Cr(t),r=[],o=[],s=0,a=e,i.label=1;case 1:return s<a.length?(c=void 0,(l=n.Vo.get(u=a[s]))&&0!==l.length?[4,Fu(n.localStore,Gi(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,d=l,i.label=3;case 3:return h<d.length?(f=n.Po.get(d[h]),[4,Vl(n,f)]):[3,6];case 4:(p=i.sent()).snapshot&&o.push(p.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Uu(n.localStore,u)];case 8:return g=i.sent(),[4,Fu(n.localStore,g)];case 9:return c=i.sent(),[4,_l(n,zl(g),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),r)]}})})}function zl(t){return ji(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Wl(t){var e=Cr(t);return Cr(Cr(e.localStore).persistence).fn()}function Gl(t,e,n,r){return(0,i.mG)(this,void 0,void 0,function(){var o,s,a;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return(o=Cr(t)).$o?(_r("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Bu(o.localStore)];case 3:return s=i.sent(),a=Zo.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ml(o,s,a)];case 4:return i.sent(),[3,8];case 5:return[4,ju(o.localStore,e,!0)];case 6:return i.sent(),Ol(o,e,r),[3,8];case 7:Ar(),i.label=8;case 8:return[2]}})})}function Kl(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s,a,u,c,l,h,d;return(0,i.Jh)(this,function(f){switch(f.label){case 0:if(!(r=$l(t)).$o)return[3,10];o=0,s=e,f.label=1;case 1:return o<s.length?r.Vo.has(a=s[o])?(_r("SyncEngine","Adding an already active target "+a),[3,5]):[4,Uu(r.localStore,a)]:[3,6];case 2:return u=f.sent(),[4,Fu(r.localStore,u)];case 3:return c=f.sent(),[4,_l(r,zl(u),c.targetId,!1)];case 4:f.sent(),Pc(r.remoteStore,c),f.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ju(r.localStore,t,!1).then(function(){Ic(r.remoteStore,t),Ol(r,t)}).catch(iu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},h=0,d=n,f.label=7;case 7:return h<d.length?[5,l(d[h])]:[3,10];case 8:f.sent(),f.label=9;case 9:return h++,[3,7];case 10:return[2]}})})}function $l(t){var e=Cr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=El.bind(null,e),e.vo._r=al.bind(null,e.eventManager),e.vo.Mo=ul.bind(null,e.eventManager),e}function Xl(t){var e=Cr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tl.bind(null,e),e}var Ql=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return this.R=bc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Iu(this.persistence,new xu,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ju(tc.bs,this.R)},t.prototype.Bo=function(t){return new hc},t.prototype.terminate=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Yl=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,i.ZT)(e,t),e.prototype.initialize=function(e){return(0,i.mG)(this,void 0,void 0,function(){var n=this;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,qu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Xl(this.Qo.syncEngine)];case 4:return r.sent(),[4,qc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return Iu(this.persistence,new xu,t.initialUser,this.R)},e.prototype.Uo=function(t){return new au(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Au(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Wa.withCacheSize(this.cacheSizeBytes):Wa.DEFAULT;return new wu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,vc(),yc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new hc},e}(Ql),Jl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,i.ZT)(e,t),e.prototype.initialize=function(e){return(0,i.mG)(this,void 0,void 0,function(){var n,r=this;return(0,i.Jh)(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof lc?(this.sharedClientState.syncEngine={ui:Bl.bind(null,n),ai:Gl.bind(null,n),hi:Kl.bind(null,n),fn:Wl.bind(null,n),ci:Ul.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(t){return(0,i.mG)(r,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return[4,ql(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},e.prototype.Bo=function(t){var e=vc();if(!lc.yt(e))throw new vr(mr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Au(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new lc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Yl),Zl=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n=this;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Al(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Fl.bind(null,this.syncEngine),[4,Xc(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new il},t.prototype.createDatastore=function(t){var e=bc(t.databaseInfo.databaseId),n=new mc(t.databaseInfo);return function(t,e,n){return new Ac(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Al(s.syncEngine,t,0)},o=fc.yt()?new fc:new dc,new Cc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new yl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,i.mG)(this,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return e=Cr(t),_r("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,xc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),th=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),eh=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new la,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new hl(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,i.mG)(this,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n=this;return(0,i.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new vr(mr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o,s,a,u;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=ws(n.R)+"/documents",o={documents:e.map(function(t){return vs(n.R,t)})},[4,n.$i("BatchGetDocuments",r,o)];case 1:return s=i.sent(),a=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Er(!!e.found);var n=ys(t,e.found.name),r=ps(e.found.updateTime),i=new pi({mapValue:{fields:e.found.fields}});return mi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Er(!!e.missing),Er(!!e.readTime);var n=ys(t,e.missing),r=ps(e.readTime);return mi.newNoDocument(n,r)}(t,e):Ar()}(n.R,t);a.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=a.get(t.toString());Er(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Do(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e=this;return(0,i.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Zr.fromPath(n);e.mutations.push(new No(r,e.precondition(r)))}),[4,function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=Cr(t),r=ws(n.R)+"/documents",o={writes:e.map(function(t){return Es(n.R,t)})},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Ar();e=Dr.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new vr(mr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?yo.updateTime(e):yo.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dr.min()))throw new vr(mr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yo.updateTime(e)}return yo.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),nh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new _c(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,i.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,i.Jh)(this,function(r){return t=new eh(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Qr(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Mo(e)}return!1},t}(),rh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ec.UNAUTHENTICATED,this.clientId=xr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,i.mG)(r,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return _r("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new vr(mr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,i.mG)(t,void 0,void 0,function(){var t,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Zc(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ih(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r,o=this;return(0,i.Jh)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),_r("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,i.mG)(o,void 0,void 0,function(){return(0,i.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Ou(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function oh(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r;return(0,i.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,sh(t)];case 1:return n=o.sent(),_r("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,i.mG)(this,void 0,void 0,function(){var n,r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return(n=Cr(t)).asyncQueue.verifyOperationInProgress(),_r("RemoteStore","RemoteStore received new credentials"),r=Lc(n),n.Or.add(3),[4,xc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Tc(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function sh(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(_r("FirestoreClient","Using default OfflineComponentProvider"),[4,ih(t,new Ql)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ah(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(_r("FirestoreClient","Using default OnlineComponentProvider"),[4,oh(t,new Zl)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function uh(t){return sh(t).then(function(t){return t.persistence})}function ch(t){return sh(t).then(function(t){return t.localStore})}function lh(t){return ah(t).then(function(t){return t.remoteStore})}function hh(t){return ah(t).then(function(t){return t.syncEngine})}function dh(t){return(0,i.mG)(this,void 0,void 0,function(){var e,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return[4,ah(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=bl.bind(null,e.syncEngine),n.onUnlisten=wl.bind(null,e.syncEngine),n)]}})})}function fh(t,e,n){var r=this;void 0===n&&(n={});var o=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(r,void 0,void 0,function(){var r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new th({next:function(o){e.enqueueAndForget(function(){return sl(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new vr(mr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new vr(mr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new ll(Vi(n.path),o,{includeMetadataChanges:!0,so:!0});return ol(t,s)},[4,dh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function ph(t,e,n){var r=this;void 0===n&&(n={});var o=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(r,void 0,void 0,function(){var r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new th({next:function(n){e.enqueueAndForget(function(){return sl(t,s)}),n.fromCache&&"server"===r.source?i.reject(new vr(mr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new ll(n,o,{includeMetadataChanges:!0,so:!0});return ol(t,s)},[4,dh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var gh=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},mh=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),vh=new Map,yh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},bh=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(ec.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_h=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),wh=function(){function t(t){var e=this;this.currentUser=ec.UNAUTHENTICATED,this.oc=new la,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){_r("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(_r("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(_r("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Er("string"==typeof n.accessToken),new yh(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,i.mG)(n,void 0,void 0,function(){return(0,i.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Er(null===t||"string"==typeof t),new ec(t)},t}(),Sh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ec.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),kh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Sh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(ec.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Ah(t,e,n){if(!n)throw new vr(mr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Eh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vr(mr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ch(t,e,n,r){if(!0===e&&!0===r)throw new vr(mr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Th(t){if(!Zr.isDocumentKey(t))throw new vr(mr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xh(t){if(Zr.isDocumentKey(t))throw new vr(mr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ph(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ar()}function Ih(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new vr(mr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ph(t);throw new vr(mr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Oh(t,e){if(e<=0)throw new vr(mr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Rh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new vr(mr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new vr(mr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ch("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Dh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rh({}),this._settingsFrozen=!1,t instanceof mh?(this._databaseId=t,this._credentials=new bh):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new vr(mr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mh(t.options.projectId)}(t),this._credentials=new wh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new vr(mr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new vr(mr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new bh;switch(t.type){case"gapi":var e=t.client;return Er(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new kh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new vr(mr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=vh.get(this))&&(_r("ComponentProvider","Removing Datastore"),vh.delete(this),t.terminate()),Promise.resolve();var t},t}(),Nh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Mh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Lh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Mh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Vi(r))||this)._path=r,i.type="collection",i}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Nh(this.firestore,null,new Zr(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Lh);function Fh(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,o.m9)(t),Ah("collection","path",e),t instanceof Dh)return xh(n=jr.fromString.apply(jr,(0,i.ev)([e],r))),new Mh(t,null,n);if(!(t instanceof Nh||t instanceof Mh))throw new vr(mr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xh(n=jr.fromString.apply(jr,(0,i.ev)([t.path],r)).child(jr.fromString(e))),new Mh(t.firestore,null,n)}function jh(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,o.m9)(t),1===arguments.length&&(e=xr.u()),Ah("doc","path",e),t instanceof Dh)return Th(n=jr.fromString.apply(jr,(0,i.ev)([e],r))),new Nh(t,null,new Zr(n));if(!(t instanceof Nh||t instanceof Mh))throw new vr(mr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Th(n=t._path.child(jr.fromString.apply(jr,(0,i.ev)([e],r)))),new Nh(t.firestore,t instanceof Mh?t.converter:null,new Zr(n))}function Vh(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),(t instanceof Nh||t instanceof Mh)&&(e instanceof Nh||e instanceof Mh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Uh(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),t instanceof Lh&&e instanceof Lh&&t.firestore===e.firestore&&$i(t._query,e._query)&&t.converter===e.converter}var Bh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new _c(this,"async_queue_retry"),this.Ic=function(){var e=yc();e&&_r("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=yc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=yc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new la;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,i.mG)(this,void 0,void 0,function(){var t,e=this;return(0,i.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ma(t=n.sent()))throw t;return _r("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,wr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Jc.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Ar()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,i.mG)(this,void 0,void 0,function(){var t;return(0,i.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function qh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new la,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Hh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Bh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,i.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Wh(this),this._firestoreClient.terminate()},e}(Dh);function zh(t){return t._firestoreClient||Wh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Wh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new gh(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new rh(t._credentials,t._queue,r)}function Gh(t,e,n){var r=this,o=new la;return t.asyncQueue.enqueue(function(){return(0,i.mG)(r,void 0,void 0,function(){var r;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,ih(t,n)];case 1:return i.sent(),[4,oh(t,e)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===mr.FAILED_PRECONDITION||t.code===mr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function Kh(t){if(t._initialized||t._terminated)throw new vr(mr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $h=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new vr(mr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Xh=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(qr.fromBase64String(e))}catch(e){throw new vr(mr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(qr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Qh=function(t){this._methodName=t},Yh=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new vr(mr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vr(mr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Pr(this._lat,t._lat)||Pr(this._long,t._long)},t}(),Jh=/^__.*__$/,Zh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new To(t,this.data,this.fieldMask,e,this.fieldTransforms):new Co(t,this.data,e,this.fieldTransforms)},t}(),td=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new To(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ed(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ar()}}var nd=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Sd(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(ed(this.Nc)&&Jh.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),rd=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||bc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new nd({Nc:t,methodName:e,qc:n,path:Ur.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function id(t){var e=t._freezeSettings(),n=bc(t._databaseId);return new rd(t._databaseId,!!e.ignoreUndefinedProperties,n)}function od(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);yd("Data must be an object, but it was:",s,r);var a,u,c=md(r,s);if(o.merge)a=new Br(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=bd(e,d[h],n);if(!s.contains(f))throw new vr(mr.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");kd(l,f)||l.push(f)}a=new Br(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Zh(new pi(c),a,u)}var sd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Qh);function ad(t,e,n){return new nd({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var ud=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new mo(t.path,new ao)},e.prototype.isEqual=function(t){return t instanceof e},e}(Qh),cd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=ad(this,t,!0),n=this.Kc.map(function(t){return gd(t,e)}),r=new uo(n);return new mo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qh),ld=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=ad(this,t,!0),n=this.Kc.map(function(t){return gd(t,e)}),r=new lo(n);return new mo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qh),hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new fo(t.R,no(t.R,this.Qc));return new mo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Qh);function dd(t,e,n,r){var i=t.Uc(1,e,n);yd("Data must be an object, but it was:",i,r);var s=[],a=pi.empty();Lr(r,function(t,r){var u=wd(e,t,n);r=(0,o.m9)(r);var c=i.Oc(u);if(r instanceof sd)s.push(u);else{var l=gd(r,c);null!=l&&(s.push(u),a.set(u,l))}});var u=new Br(s);return new td(a,u,i.fieldTransforms)}function fd(t,e,n,r,i,s){var a=t.Uc(1,e,n),u=[bd(e,r,n)],c=[i];if(s.length%2!=0)throw new vr(mr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)u.push(bd(e,s[l])),c.push(s[l+1]);for(var h=[],d=pi.empty(),f=u.length-1;f>=0;--f)if(!kd(h,u[f])){var p=u[f],g=c[f];g=(0,o.m9)(g);var m=a.Oc(p);if(g instanceof sd)h.push(p);else{var v=gd(g,m);null!=v&&(h.push(p),d.set(p,v))}}var y=new Br(h);return new td(d,y,a.fieldTransforms)}function pd(t,e,n,r){return void 0===r&&(r=!1),gd(n,t.Uc(r?4:3,e))}function gd(t,e){if(vd(t=(0,o.m9)(t)))return yd("Unsupported field value:",e,t),md(t,e);if(t instanceof Qh)return function(t,e){if(!ed(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=gd(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,o.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return no(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rr.fromDate(t);return{timestampValue:hs(e.R,n)}}if(t instanceof Rr)return n=new Rr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:hs(e.R,n)};if(t instanceof Yh)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xh)return{bytesValue:ds(e.R,t._byteString)};if(t instanceof Nh){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:gs(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Ph(t))}(t,e)}function md(t,e){var n={};return Mr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lr(t,function(t,r){var i=gd(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function vd(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rr||t instanceof Yh||t instanceof Xh||t instanceof Nh||t instanceof Qh)}function yd(t,e,n){if(!vd(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ph(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function bd(t,e,n){if((e=(0,o.m9)(e))instanceof $h)return e._internalPath;if("string"==typeof e)return wd(t,e);throw Sd("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _d=new RegExp("[~\\*/\\[\\]]");function wd(t,e,n){if(e.search(_d)>=0)throw Sd("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($h.bind.apply($h,(0,i.ev)([void 0],e.split(".")))))._internalPath}catch(Af){throw Sd("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Sd(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new vr(mr.INVALID_ARGUMENT,(a+=". ")+t+u)}function kd(t,e){return t.some(function(t){return t.isEqual(e)})}var Ad=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Nh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Ed(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Cd("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Ed=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ad);function Cd(t,e){return"string"==typeof e?wd(t,e):e instanceof $h?e._internalPath:e._delegate._internalPath}var Td=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),xd=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,i.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Cd("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ad),Pd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(xd),Id=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Td(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Pd(n._firestore,n._userDataWriter,r.key,r,new Td(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vr(mr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Pd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Td(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Pd(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Td(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Od(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Od(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ar()}}function Rd(t,e){return t instanceof xd&&e instanceof xd?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Id&&e instanceof Id&&t._firestore===e._firestore&&Uh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Dd(t){if(Bi(t)&&0===t.explicitOrderBy.length)throw new vr(mr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nd=function(){};function Ld(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Md=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=id(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new vr(mr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Hd(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(qd(r,t,l[c]));a={arrayValue:{values:u}}}else a=qd(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Hd(s,o),a=pd(n,"where",s,"in"===o||"not-in"===o);var h=Si.create(i,o,a);return function(t,e){if(e.g()){var n=Hi(t);if(null!==n&&!n.isEqual(e.field))throw new vr(mr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=qi(t);null!==r&&zd(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new vr(mr.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Lh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Nd),Fd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new vr(mr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new vr(mr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Di(e,n);return function(t,e){if(null===qi(t)){var n=Hi(t);null!==n&&zd(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Lh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Fi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Nd),jd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){return new Lh(t.firestore,t.converter,Ki(t._query,this.Hc,this.Jc))},e}(Nd),Vd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=Bd(t,this.type,this.Yc,this.Xc);return new Lh(t.firestore,t.converter,function(t,e){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Nd),Ud=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=Bd(t,this.type,this.Yc,this.Xc);return new Lh(t.firestore,t.converter,function(t,e){return new Fi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Nd);function Bd(t,e,n,r){if(n[0]=(0,o.m9)(n[0]),n[0]instanceof Ad)return function(t,e,n,r,i){if(!r)throw new vr(mr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Wi(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(ai(e,r.key));else{var c=r.data.field(u.field);if(Kr(c))throw new vr(mr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new vr(mr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Oi(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=id(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new vr(mr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new vr(mr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!zi(t)&&-1!==c.indexOf("/"))throw new vr(mr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(jr.fromString(c));if(!Zr.isDocumentKey(l))throw new vr(mr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Zr(l);a.push(ai(e,h))}else{var d=pd(n,r,c);a.push(d)}}return new Oi(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function qd(t,e,n){if("string"==typeof(n=(0,o.m9)(n))){if(""===n)throw new vr(mr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zi(e)&&-1!==n.indexOf("/"))throw new vr(mr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(jr.fromString(n));if(!Zr.isDocumentKey(r))throw new vr(mr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ai(t,new Zr(r))}if(n instanceof Nh)return ai(t,n._key);throw new vr(mr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ph(n)+".")}function Hd(t,e){if(!Array.isArray(t)||0===t.length)throw new vr(mr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new vr(mr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zd(t,e,n){if(!n.isEqual(e))throw new vr(mr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Wd=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),ti(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Gr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ar()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Lr(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Yh(Wr(t.latitude),Wr(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=$r(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Xr(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=zr(t);return new Rr(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=jr.fromString(t);Er(Us(n));var r=new mh(n.get(1),n.get(3)),i=new Zr(n.popFirst(5));return r.isEqual(e)||wr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Gd(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Kd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.ZT)(e,t),e.prototype.convertBytes=function(t){return new Xh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Nh(this.firestore,null,e)},e}(Wd),$d=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=id(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Xd(t,this._firestore),i=Gd(r.converter,e,n),o=od(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,yo.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,a=Xd(t,this._firestore);return s="string"==typeof(e=(0,o.m9)(e))||e instanceof $h?fd(this._dataReader,"WriteBatch.update",a._key,e,n,r):dd(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(s.toMutation(a._key,yo.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Xd(t,this._firestore);return this._mutations=this._mutations.concat(new Do(e._key,yo.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new vr(mr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Xd(t,e){if((t=(0,o.m9)(t)).firestore!==e)throw new vr(mr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Qd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.ZT)(e,t),e.prototype.convertBytes=function(t){return new Xh(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Nh(this.firestore,null,e)},e}(Wd);function Yd(t,e,n){t=Ih(t,Nh);var r=Ih(t.firestore,Hh),i=Gd(t.converter,e,n);return tf(r,[od(id(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,yo.none())])}function Jd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ih(t,Nh);var s=Ih(t.firestore,Hh),a=id(s);return tf(s,[("string"==typeof(e=(0,o.m9)(e))||e instanceof $h?fd(a,"updateDoc",t._key,e,n,r):dd(a,"updateDoc",t._key,e)).toMutation(t._key,yo.exists(!0))])}function Zd(t){for(var e,n,r,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];t=(0,o.m9)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof s[c]||qh(s[c])||(u=s[c],c++);var l,h,d,f={includeMetadataChanges:u.includeMetadataChanges};if(qh(s[c])){var p=s[c];s[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),s[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),s[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof Nh)h=Ih(t.firestore,Hh),d=Vi(t._key.path),l={next:function(e){s[c]&&s[c](ef(h,t,e))},error:s[c+1],complete:s[c+2]};else{var g=Ih(t,Lh);h=Ih(g.firestore,Hh),d=g._query;var m=new Qd(h);l={next:function(t){s[c]&&s[c](new Id(h,m,g,t))},error:s[c+1],complete:s[c+2]},Dd(t._query)}return function(t,e,n,r){var o=this,s=new th(r),a=new ll(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(o,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return e=ol,[4,dh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(o,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return e=sl,[4,dh(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(zh(h),d,f,l)}function tf(t,e){return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(n,void 0,void 0,function(){var n;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return n=Sl,[4,hh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(zh(t),e)}function ef(t,e,n){var r=n.docs.get(e._key),i=new Qd(t);return new xd(t,i,e._key,r,new Td(n.hasPendingWrites,n.fromCache),e.converter)}var nf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,i.ZT)(e,t),e.prototype.get=function(e){var n=this,r=Xd(e,this._firestore),i=new Qd(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new xd(n._firestore,i,r._key,t._document,new Td(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=id(t)}return t.prototype.get=function(t){var e=this,n=Xd(t,this._firestore),r=new Kd(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Ar();var i=t[0];if(i.isFoundDocument())return new Ad(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ad(e._firestore,r,n._key,null,n.converter);throw Ar()})},t.prototype.set=function(t,e,n){var r=Xd(t,this._firestore),i=Gd(r.converter,e,n),o=od(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,a=Xd(t,this._firestore);return s="string"==typeof(e=(0,o.m9)(e))||e instanceof $h?fd(this._dataReader,"Transaction.update",a._key,e,n,r):dd(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){var e=Xd(t,this._firestore);return this._transaction.delete(e._key),this},t}());function rf(){if("undefined"==typeof Uint8Array)throw new vr(mr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function of(){if("undefined"==typeof atob)throw new vr(mr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sf=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return of(),new t(Xh.fromBase64String(e))},t.fromUint8Array=function(e){return rf(),new t(Xh.fromUint8Array(e))},t.prototype.toBase64=function(){return of(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return rf(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),af=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Kh(t=Ih(t,Hh));var n=zh(t),r=t._freezeSettings(),i=new Zl;return Gh(n,i,new Yl(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Kh(t=Ih(t,Hh));var e=zh(t),n=t._freezeSettings(),r=new Zl;return Gh(e,r,new Jl(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new vr(mr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new la;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,i.mG)(e,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,i.mG)(this,void 0,void 0,function(){return(0,i.Jh)(this,function(e){switch(e.label){case 0:return fa.yt()?[4,fa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Au(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),uf=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof mh||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Sr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=Ih(t,Dh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Sr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=ec.MOCK_USER;else{a=(0,o.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new vr(mr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ec(c)}t._credentials=new _h(new yh(a,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,i.mG)(e,void 0,void 0,function(){var e,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return[4,uh(t)];case 1:return e=r.sent(),[4,lh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Cr(t);return e.Or.delete(0),Tc(e)}(n))]}})})})}(zh(Ih(this._delegate,Hh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,i.mG)(e,void 0,void 0,function(){var e,n;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return[4,uh(t)];case 1:return e=r.sent(),[4,lh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,i.mG)(this,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return(e=Cr(t)).Or.add(0),[4,xc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(zh(Ih(this._delegate,Hh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ch("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(e,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(r){switch(r.label){case 0:return e=xl,[4,hh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(zh(Ih(this._delegate,Hh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new th(e);return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(n,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cr(t).Gr.add(e),e.next()},[4,dh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(n,void 0,void 0,function(){var e;return(0,i.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Cr(t).Gr.delete(e)},[4,dh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(zh(t=Ih(t,Hh)),qh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new vr(mr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Sf(this,Fh(this._delegate,t))}catch(t){throw pf(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new ff(this,jh(this._delegate,t))}catch(t){throw pf(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new bf(this,function(t,e){if(t=Ih(t,Dh),Ah("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vr(mr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Lh(t,null,function(t){return new Fi(jr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw pf(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(n,void 0,void 0,function(){var n;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return ah(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new nh(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(zh(t),function(n){return e(new nf(t,n))})}(this._delegate,function(n){return t(new lf(e,n))})},t.prototype.batch=function(){var t=this;return zh(this._delegate),new hf(new $d(this._delegate,function(e){return tf(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new vr(mr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new vr(mr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),cf=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.ZT)(e,t),e.prototype.convertBytes=function(t){return new sf(new Xh(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return ff.eu(e,this.firestore,null)},e}(Wd),lf=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new cf(t)}return t.prototype.get=function(t){var e=this,n=kf(t);return this._delegate.get(n).then(function(t){return new vf(e._firestore,new xd(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=kf(t);return n?(Eh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=kf(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,i.ev)([a,e,n],o)),this},t.prototype.delete=function(t){var e=kf(t);return this._delegate.delete(e),this},t}(),hf=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=kf(t);return n?(Eh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=kf(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,i.ev)([a,e,n],o)),this},t.prototype.delete=function(t){var e=kf(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),df=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Pd(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yf(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new cf(e),n),i.set(n,o)),o},t}();df.su=new WeakMap;var ff=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cf(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new vr(mr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Nh(n._delegate,r,new Zr(e)))},t.eu=function(e,n,r){return new t(n,new Nh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Sf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Sf(this.firestore,Fh(this._delegate,t))}catch(t){throw pf(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,o.m9)(t))instanceof Nh&&Vh(this._delegate,t)},t.prototype.set=function(t,e){e=Eh("DocumentReference.set",e);try{return e?Yd(this._delegate,t,e):Yd(this._delegate,t)}catch(t){throw pf(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Jd(this._delegate,t):Jd.apply(void 0,(0,i.ev)([this._delegate,t,e],n))}catch(t){throw pf(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return tf(Ih((t=this._delegate).firestore,Hh),[new Do(t._key,yo.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gf(e),i=mf(e,function(e){return new vf(t.firestore,new xd(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Zd(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ih(t,Nh);var e=Ih(t.firestore,Hh),n=zh(e),r=new Qd(e);return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(n,void 0,void 0,function(){var n;return(0,i.Jh)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=Cr(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new vr(mr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Zc(r,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}})})},[4,ch(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new xd(e,r,t._key,n,new Td(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ih(t,Nh);var e=Ih(t.firestore,Hh);return fh(zh(e),t._key,{source:"server"}).then(function(n){return ef(e,t,n)})}(this._delegate):function(t){t=Ih(t,Nh);var e=Ih(t.firestore,Hh);return fh(zh(e),t._key).then(function(n){return ef(e,t,n)})}(this._delegate)).then(function(t){return new vf(e.firestore,new xd(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?df.nu(this.firestore,e):null))},t}();function pf(t,e,n){return t.message=t.message.replace(e,n),t}function gf(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!qh(r))return r}return{}}function mf(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=qh(t[0])?t[0]:qh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new ff(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Rd(this._delegate,t._delegate)},t}(),yf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(vf),bf=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new cf(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ld(this._delegate,function(t,e,n){var r=e,i=Cd("where",t);return new Md(i,r,n)}(e,n,r)))}catch(e){throw pf(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ld(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Cd("orderBy",t);return new Fd(r,n)}(e,n)))}catch(e){throw pf(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ld(this._delegate,function(t){return Oh("limit",t),new jd("limit",t,"F")}(e)))}catch(e){throw pf(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ld(this._delegate,function(t){return Oh("limitToLast",t),new jd("limitToLast",t,"L")}(e)))}catch(e){throw pf(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ld(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vd("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw pf(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ld(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vd("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw pf(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ld(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ud("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw pf(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ld(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ud("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw pf(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Uh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ih(t,Lh);var e=Ih(t.firestore,Hh),n=zh(e),r=new Qd(e);return function(t,e){var n=this,r=new la;return t.asyncQueue.enqueueAndForget(function(){return(0,i.mG)(n,void 0,void 0,function(){var n;return(0,i.Jh)(this,function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.mG)(this,void 0,void 0,function(){var r,o,s,a,u;return(0,i.Jh)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Vu(t,e,!0)];case 1:return u=i.sent(),r=new gl(e,u.Bn),o=r._o(u.documents),s=r.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=i.sent(),u=Zc(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,ch(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Id(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ih(t,Lh);var e=Ih(t.firestore,Hh),n=zh(e),r=new Qd(e);return ph(n,t._query,{source:"server"}).then(function(n){return new Id(e,r,t,n)})}(this._delegate):function(t){t=Ih(t,Lh);var e=Ih(t.firestore,Hh),n=zh(e),r=new Qd(e);return Dd(t._query),ph(n,t._query).then(function(n){return new Id(e,r,t,n)})}(this._delegate)).then(function(t){return new wf(e.firestore,new Id(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=gf(e),i=mf(e,function(e){return new wf(t.firestore,new Id(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Zd(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?df.nu(this.firestore,e):null))},t}(),_f=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new yf(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),wf=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new bf(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new yf(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new _f(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new yf(n._firestore,r))})},t.prototype.isEqual=function(t){return Rd(this._delegate,t._delegate)},t}(),Sf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new ff(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ff(this.firestore,void 0===t?jh(this._delegate):jh(this._delegate,t))}catch(t){throw pf(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ih(t.firestore,Hh),r=jh(t),i=Gd(t.converter,e);return tf(n,[od(id(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,yo.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new ff(e.firestore,t)})},e.prototype.isEqual=function(t){return Vh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?df.nu(this.firestore,t):null))},e}(bf);function kf(t){return Ih(t,Nh)}var Af,Ef=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new($h.bind.apply($h,(0,i.ev)([void 0],t)))}return t.documentId=function(){return new t(Ur.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,o.m9)(t))instanceof $h&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Cf=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new ud("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new sd("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cd("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ld("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new hd("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Tf=n(34),xf={Firestore:uf,GeoPoint:Yh,Timestamp:Rr,Blob:sf,Transaction:lf,WriteBatch:hf,DocumentReference:ff,DocumentSnapshot:vf,Query:bf,QueryDocumentSnapshot:yf,QuerySnapshot:wf,CollectionReference:Sf,FieldPath:Ef,FieldValue:Cf,setLogLevel:function(t){yr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Tf.wA("firestore",function(t){return function(t,e){return new uf(t,new Hh(t,e),new af)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xf)))})(Af=r.Z),Af.registerVersion("@firebase/firestore","2.4.1")},465:function(module,__unused_webpack_exports,__webpack_require__){var factory;factory=function(){return(()=>{var __webpack_modules__=[,(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.addLinkAttributes=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.url,r=e.target,i=e.rel,o=e.enabled,a=void 0===o||o;(0,s.assert)(n&&"string"==typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var u=(0,s.removeNullCharacters)(n);a?t.href=t.title=u:(t.href="",t.title="Disabled: ".concat(u),t.onclick=function(){return!1});var c="";switch(r){case E.NONE:break;case E.SELF:c="_self";break;case E.BLANK:c="_blank";break;case E.PARENT:c="_parent";break;case E.TOP:c="_top"}t.target=c,t.rel="string"==typeof i?i:_},e.deprecated=function(t){console.log("Deprecated API usage: "+t)},e.getFilenameFromUrl=function(t){var e=t.indexOf("#"),n=t.indexOf("?"),r=Math.min(e>0?e:t.length,n>0?n:t.length);return t.substring(t.lastIndexOf("/",r)+1,r)},e.getPdfFilenameFromUrl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(C(t))return(0,s.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,r=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=n.exec(t),o=r.exec(i[1])||r.exec(i[2])||r.exec(i[3]);if(o&&(o=o[0]).includes("%"))try{o=r.exec(decodeURIComponent(o))[0]}catch(a){}return o||e},e.getXfaPageViewport=function(t,e){var n=e.scale,r=void 0===n?1:n,i=e.rotation,o=void 0===i?0:i,s=t.attributes.style,a=s.height,u=[0,0,parseInt(s.width),parseInt(a)];return new k({viewBox:u,scale:r,rotation:o})},e.isDataScheme=C,e.isPdfFile=function(t){return"string"==typeof t&&/\.pdf$/i.test(t)},e.isValidFetchUrl=T,e.loadScript=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(n,r){var i=document.createElement("script");i.src=t,i.onload=function(t){e&&i.remove(),n(t)},i.onerror=function(){r(new Error("Cannot load script at: ".concat(i.src)))},(document.head||document.documentElement).appendChild(i)})},e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PDFDateString=e.PageViewport=e.LinkTarget=e.DOMSVGFactory=e.DOMStandardFontDataFactory=e.DOMCMapReaderFactory=e.DOMCanvasFactory=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},s=n(4),a=n(118);function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){l(o,r,i,s,a,"next",t)}function a(t){l(o,r,i,s,a,"throw",t)}s(void 0)})}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=b(t);if(e){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function b(t){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _="noopener noreferrer nofollow";function w(t){return S.apply(this,arguments)}function S(){return(S=h(o.default.mark(function t(e){var n,r,i=arguments;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!T(e,document.baseURI)){t.next=21;break}return t.next=4,fetch(e);case 4:if((r=t.sent).ok){t.next=7;break}throw new Error(r.statusText);case 7:if(!n){t.next=15;break}return t.t1=Uint8Array,t.next=11,r.arrayBuffer();case 11:t.t2=t.sent,t.t0=new t.t1(t.t2),t.next=20;break;case 15:return t.t3=s.stringToBytes,t.next=18,r.text();case 18:t.t4=t.sent,t.t0=(0,t.t3)(t.t4);case 20:return t.abrupt("return",t.t0);case 21:return t.abrupt("return",new Promise(function(t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),n&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var e;if((200===i.status||0===i.status)&&(n&&i.response?e=new Uint8Array(i.response):!n&&i.responseText&&(e=(0,s.stringToBytes)(i.responseText)),e))return void t(e);r(new Error(i.statusText))}},i.send(null)}));case 22:case"end":return t.stop()}},t)}))).apply(this,arguments)}e.PixelsPerInch={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,s.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}},e.DOMCanvasFactory=function(t){g(n,t);var e=v(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.ownerDocument,o=void 0===i?globalThis.document:i;return d(this,n),(t=e.call(this))._document=o,t}return p(n,[{key:"_createCanvas",value:function(t,e){var n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}]),n}(a.BaseCanvasFactory),e.DOMCMapReaderFactory=function(t){g(n,t);var e=v(n);function n(){return d(this,n),e.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(t,e){return w(t,this.isCompressed).then(function(t){return{cMapData:t,compressionType:e}})}}]),n}(a.BaseCMapReaderFactory),e.DOMStandardFontDataFactory=function(t){g(n,t);var e=v(n);function n(){return d(this,n),e.apply(this,arguments)}return p(n,[{key:"_fetchData",value:function(t){return w(t,!0)}}]),n}(a.BaseStandardFontDataFactory),e.DOMSVGFactory=function(t){g(n,t);var e=v(n);function n(){return d(this,n),e.apply(this,arguments)}return p(n,[{key:"_createSVG",value:function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}}]),n}(a.BaseSVGFactory);var k=function(){function t(e){var n=e.viewBox,r=e.scale,i=e.rotation,o=e.offsetX,s=void 0===o?0:o,a=e.offsetY,u=void 0===a?0:a,c=e.dontFlip,l=void 0!==c&&c;d(this,t),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=u;var h,f,p,g,m,v,y,b,_=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:h=-1,f=0,p=0,g=1;break;case 90:h=0,f=1,p=1,g=0;break;case 270:h=0,f=-1,p=-1,g=0;break;case 0:h=1,f=0,p=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(p=-p,g=-g),0===h?(m=Math.abs(w-n[1])*r+s,v=Math.abs(_-n[0])*r+u,y=Math.abs(n[3]-n[1])*r,b=Math.abs(n[2]-n[0])*r):(m=Math.abs(_-n[0])*r+s,v=Math.abs(w-n[1])*r+u,y=Math.abs(n[2]-n[0])*r,b=Math.abs(n[3]-n[1])*r),this.transform=[h*r,f*r,p*r,g*r,m-h*r*_-p*r*w,v-f*r*_-g*r*w],this.width=y,this.height=b}return p(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scale,r=void 0===n?this.scale:n,i=e.rotation,o=void 0===i?this.rotation:i,s=e.offsetX,a=void 0===s?this.offsetX:s,u=e.offsetY,c=void 0===u?this.offsetY:u,l=e.dontFlip,h=void 0!==l&&l;return new t({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:a,offsetY:c,dontFlip:h})}},{key:"convertToViewportPoint",value:function(t,e){return s.Util.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=s.Util.applyTransform([t[0],t[1]],this.transform),n=s.Util.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(t,e){return s.Util.applyInverseTransform([t,e],this.transform)}}]),t}();e.PageViewport=k,e.RenderingCancelledException=function(t){g(n,t);var e=v(n);function n(t,r){var i;return d(this,n),(i=e.call(this,t,"RenderingCancelledException")).type=r,i}return n}(s.BaseException);var A,E={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function C(t){for(var e=t.length,n=0;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function T(t,e){try{var n=(e?new URL(t,e):new URL(t)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}e.LinkTarget=E,e.StatTimer=function(){function t(){d(this,t),this.started=Object.create(null),this.times=[]}return p(t,[{key:"time",value:function(t){t in this.started&&(0,s.warn)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,s.warn)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],n=0,r=u(this.times);try{for(r.s();!(t=r.n()).done;){var i=t.value.name;i.length>n&&(n=i.length)}}catch(l){r.e(l)}finally{r.f()}var o,s=u(this.times);try{for(s.s();!(o=s.n()).done;){var a=o.value,c=a.end-a.start;e.push("".concat(a.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(l){s.e(l)}finally{s.f()}return e.join("")}}]),t}(),e.PDFDateString=function(){function t(){d(this,t)}return p(t,null,[{key:"toDateObject",value:function(t){if(!t||!(0,s.isString)(t))return null;A||(A=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=A.exec(t);if(!e)return null;var n=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;var a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;var u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;var c=e[7]||"Z",l=parseInt(e[8],10);l=l>=0&&l<=23?l:0;var h=parseInt(e[9],10)||0;return h=h>=0&&h<=59?h:0,"-"===c?(o+=l,a+=h):"+"===c&&(o-=l,a-=h),new Date(Date.UTC(n,r,i,o,a,u))}}]),t}()},(t,e,n)=>{"use strict";t.exports=n(3)},(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(R){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=Object.create((e&&e.prototype instanceof v?e:v).prototype),o=new P(r||[]);return i._invoke=function(t,e,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(t,e,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};c(_,s,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(I([])));S&&S!==n&&i.call(S,s)&&(_=S);var k=b.prototype=v.prototype=Object.create(_);function A(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function n(o,s,a,u){var c=h(t[o],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===r(d)&&i.call(d,"__await")?e.resolve(d.__await).then(function(t){n("next",t,a,u)},function(t){n("throw",t,a,u)}):e.resolve(d).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,u)})}u(c.arg)}var o;this._invoke=function(t,r){function i(){return new e(function(e,i){n(t,r,e,i)})}return o=o?o.then(i,i):i()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return y.prototype=b,c(k,"constructor",b),c(b,"constructor",y),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},A(E.prototype),c(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new E(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},A(k),c(k,u,"Generator"),c(k,s,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}("object"===r(t=n.nmd(t))?t.exports:{});try{regeneratorRuntime=i}catch(o){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},(t,e,n)=>{"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.arrayByteLength=k,e.arraysToBytes=function(t){var e=t.length;if(1===e&&t[0]instanceof Uint8Array)return t[0];for(var n=0,r=0;r<e;r++)n+=k(t[r]);for(var i=0,o=new Uint8Array(n),s=0;s<e;s++){var a=t[s];a instanceof Uint8Array||(a="string"==typeof a?S(a):new Uint8Array(a));var u=a.byteLength;o.set(a,i),i+=u}return o},e.assert=v,e.bytesToString=function(t){v(null!==t&&"object"===s(t)&&void 0!==t.length,"Invalid argument for bytesToString");var e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);for(var r=[],i=0;i<e;i+=n){var o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")},e.createObjectURL=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(URL.createObjectURL&&!n)return URL.createObjectURL(new Blob([t],{type:e}));for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="data:".concat(e,";base64,"),o=0,s=t.length;o<s;o+=3){var a=255&t[o],u=255&t[o+1],c=255&t[o+2],l=a>>2,h=(3&a)<<4|u>>4,d=o+1<s?(15&u)<<2|c>>6:64,f=o+2<s?63&c:64;i+=r[l]+r[h]+r[d]+r[f]}return i},e.createPromiseCapability=function(){var t=Object.create(null),e=!1;return Object.defineProperty(t,"settled",{get:function(){return e}}),t.promise=new Promise(function(n,r){t.resolve=function(t){e=!0,n(t)},t.reject=function(t){e=!0,r(t)}}),t},e.createValidAbsoluteUrl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"==typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){var r=t.match(/\./g);r&&r.length>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=T(t)}catch(o){}}var i=e?new URL(t,e):new URL(t);if(y(i))return i}catch(o){}return null},e.escapeString=function(t){return t.replace(/([()\\\n\r])/g,function(t){return"\n"===t?"\\n":"\r"===t?"\\r":"\\".concat(t)})},e.getModificationDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")];return e.join("")},e.getVerbosityLevel=function(){return p},e.info=function(t){p>=f.INFOS&&console.log("Info: ".concat(t))},e.isArrayBuffer=function(t){return"object"===s(t)&&null!==t&&void 0!==t.byteLength},e.isArrayEqual=function(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},e.isAscii=function(t){return/^[\x00-\x7F]*$/.test(t)},e.isBool=function(t){return"boolean"==typeof t},e.isNum=function(t){return"number"==typeof t},e.isSameOrigin=function(t,e){var n;try{if(!(n=new URL(t)).origin||"null"===n.origin)return!1}catch(i){return!1}var r=new URL(e,n);return n.origin===r.origin},e.isString=function(t){return"string"==typeof t},e.objectFromMap=function(t){var e,n,r=Object.create(null),o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=i(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}(t);try{for(o.s();!(e=o.n()).done;){var s=function(t){if(Array.isArray(t))return t}(n=e.value)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),2!==o.length);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(n)||i(n,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();r[s[0]]=s[1]}}catch(a){o.e(a)}finally{o.f()}return r},e.objectSize=function(t){return Object.keys(t).length},e.removeNullCharacters=function(t){return"string"!=typeof t?(g("The argument for removeNullCharacters must be a string."),t):t.replace(w,"")},e.setVerbosityLevel=function(t){Number.isInteger(t)&&(p=t)},e.shadow=b,e.string32=function(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)},e.stringToBytes=S,e.stringToPDFString=function(t){var e=t.length,n=[];if("\xfe"===t[0]&&"\xff"===t[1])for(var r=2;r<e;r+=2)n.push(String.fromCharCode(t.charCodeAt(r)<<8|t.charCodeAt(r+1)));else if("\xff"===t[0]&&"\xfe"===t[1])for(var i=2;i<e;i+=2)n.push(String.fromCharCode(t.charCodeAt(i+1)<<8|t.charCodeAt(i)));else for(var o=0;o<e;++o){var s=C[t.charCodeAt(o)];n.push(s?String.fromCharCode(s):t.charAt(o))}return n.join("")},e.stringToUTF16BEString=function(t){for(var e=["\xfe\xff"],n=0,r=t.length;n<r;n++){var i=t.charCodeAt(n);e.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return e.join("")},e.stringToUTF8String=T,e.unreachable=m,e.utf8StringToString=function(t){return unescape(encodeURIComponent(t))},e.warn=g,e.VerbosityLevel=e.Util=e.UNSUPPORTED_FEATURES=e.UnknownErrorException=e.UnexpectedResponseException=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.IsLittleEndianCached=e.IsEvalSupportedCached=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,n(5),e.IDENTITY_MATRIX=[1,0,0,1,0,0],e.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],e.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},e.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},e.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},e.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},e.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},e.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},e.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},e.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},e.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},e.AnnotationReplyType={GROUP:"Group",REPLY:"R"},e.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},e.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},e.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},e.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},e.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},e.PageActionEventType={O:"PageOpen",C:"PageClose"},e.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},e.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var f={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=f,e.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},e.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},e.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},e.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var p=f.WARNINGS;function g(t){p>=f.WARNINGS&&console.log("Warning: ".concat(t))}function m(t){throw new Error(t)}function v(t,e){t||m(e)}function y(t){if(!t)return!1;switch(t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function b(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var _=function(){function t(e,n){this.constructor===t&&m("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();e.BaseException=_,e.PasswordException=function(t){u(n,t);var e=l(n);function n(t,r){var i;return a(this,n),(i=e.call(this,t,"PasswordException")).code=r,i}return n}(_),e.UnknownErrorException=function(t){u(n,t);var e=l(n);function n(t,r){var i;return a(this,n),(i=e.call(this,t,"UnknownErrorException")).details=r,i}return n}(_),e.InvalidPDFException=function(t){u(n,t);var e=l(n);function n(t){return a(this,n),e.call(this,t,"InvalidPDFException")}return n}(_),e.MissingPDFException=function(t){u(n,t);var e=l(n);function n(t){return a(this,n),e.call(this,t,"MissingPDFException")}return n}(_),e.UnexpectedResponseException=function(t){u(n,t);var e=l(n);function n(t,r){var i;return a(this,n),(i=e.call(this,t,"UnexpectedResponseException")).status=r,i}return n}(_),e.FormatError=function(t){u(n,t);var e=l(n);function n(t){return a(this,n),e.call(this,t,"FormatError")}return n}(_),e.AbortException=function(t){u(n,t);var e=l(n);function n(t){return a(this,n),e.call(this,t,"AbortException")}return n}(_);var w=/\x00/g;function S(t){v("string"==typeof t,"Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function k(t){return void 0!==t.length?t.length:(v(void 0!==t.byteLength,"arrayByteLength - invalid argument."),t.byteLength)}e.IsLittleEndianCached={get value(){return b(this,"value",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}},e.IsEvalSupportedCached={get value(){return b(this,"value",function(){try{return new Function(""),!0}catch(t){return!1}}())}};var A,E=(A=Array(256).keys(),function(t){if(Array.isArray(t))return o(t)}(A)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(A)||i(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(t){return t.toString(16).padStart(2,"0")});e.Util=function(){function t(){a(this,t)}var e,n;return e=t,(n=[{key:"makeHexColor",value:function(t,e,n){return"#".concat(E[t]).concat(E[e]).concat(E[n])}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(e,n){var r=t.applyTransform(e,n),i=t.applyTransform(e.slice(2,4),n),o=t.applyTransform([e[0],e[3]],n),s=t.applyTransform([e[2],e[1]],n);return[Math.min(r[0],i[0],o[0],s[0]),Math.min(r[1],i[1],o[1],s[1]),Math.max(r[0],i[0],o[0],s[0]),Math.max(r[1],i[1],o[1],s[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"apply3dTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[1]+t[2]*e[2],t[3]*e[0]+t[4]*e[1]+t[5]*e[2],t[6]*e[0]+t[7]*e[1]+t[8]*e[2]]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],s=(n+o)/2,a=Math.sqrt(Math.pow(n+o,2)-4*(n*o-i*r))/2,u=s-a||1;return[Math.sqrt(s+a||1),Math.sqrt(u)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(e,n){function r(t,e){return t-e}var i=[e[0],e[2],n[0],n[2]].sort(r),o=[e[1],e[3],n[1],n[3]].sort(r),s=[];return e=t.normalizeRect(e),n=t.normalizeRect(n),i[0]===e[0]&&i[1]===n[0]||i[0]===n[0]&&i[1]===e[0]?(s[0]=i[1],s[2]=i[2],o[0]===e[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===e[1]?(s[1]=o[1],s[3]=o[2],s):null):null}}])&&r(e,n),t}();var C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function T(t){return decodeURIComponent(escape(t))}},(t,e,n)=>{"use strict";var r=n(6);"undefined"!=typeof globalThis&&globalThis._pdfjsCompatibilityChecked||("undefined"!=typeof globalThis&&globalThis.Math===Math||(globalThis=n(7)),globalThis._pdfjsCompatibilityChecked=!0,!globalThis.btoa&&r.isNodeJS&&(globalThis.btoa=function(t){return Buffer.from(t,"binary").toString("base64")}),!globalThis.atob&&r.isNodeJS&&(globalThis.atob=function(t){return Buffer.from(t,"base64").toString("binary")}),!globalThis.DOMMatrix&&r.isNodeJS&&(globalThis.DOMMatrix=n(60)),Object.fromEntries||n(61),globalThis.Promise.allSettled||(globalThis.Promise=n(89)),!globalThis.ReadableStream&&r.isNodeJS&&(globalThis.ReadableStream=n(117).ReadableStream))},(t,e)=>{"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;var r=!("object"!==("undefined"==typeof process?"undefined":n(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);e.isNodeJS=r},(t,e,n)=>{n(8),t.exports=n(10)},(t,e,n)=>{n(9)({global:!0},{globalThis:n(10)})},(t,e,n)=>{var r=n(10),i=n(11).f,o=n(40),s=n(43),a=n(34),u=n(49),c=n(59);t.exports=function(t,e){var n,l,h,d,f,p=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[p]||a(p,{}):(r[p]||{}).prototype)for(l in e){if(d=e[l],h=t.noTargetGet?(f=i(n,l))&&f.value:n[l],!c(g?l:p+(m?".":"#")+l,t.forced)&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),s(n,l,d,t)}}},t=>{var e=function(t){return t&&t.Math==Math&&t};t.exports=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(t,e,n)=>{var r=n(12),i=n(14),o=n(15),s=n(16),a=n(20),u=n(35),c=n(38),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=s(t),e=a(e),c)try{return l(t,e)}catch(n){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},(t,e,n)=>{var r=n(13);t.exports=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},t=>{t.exports=function(t){try{return!!t()}catch(e){return!0}}},(t,e)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},(t,e,n)=>{var r=n(17),i=n(19);t.exports=function(t){return r(i(t))}},(t,e,n)=>{var r=n(13),i=n(18),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},(t,e,n)=>{var r=n(21),i=n(23);t.exports=function(t){var e=r(t,"string");return i(e)?e:String(e)}},(t,e,n)=>{var r=n(22),i=n(23),o=n(29),s=n(30)("toPrimitive");t.exports=function(t,e){if(!r(t)||i(t))return t;var n,a=t[s];if(void 0!==a){if(void 0===e&&(e="default"),n=a.call(t,e),!r(n)||i(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},(t,e,n)=>{var r=n(24),i=n(25);t.exports=i?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return"function"==typeof e&&Object(t)instanceof e}},(t,e,n)=>{var r=n(10),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t]):r[t]&&r[t][e]}},(t,e,n)=>{var r=n(26);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(t,e,n)=>{var r=n(27),i=n(13);t.exports=!!Object.getOwnPropertySymbols&&!i(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41})},(t,e,n)=>{var r,i,o=n(10),s=n(28),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l?i=(r=l.split("."))[0]<4?1:r[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},(t,e,n)=>{var r=n(24);t.exports=r("navigator","userAgent")||""},(t,e,n)=>{var r=n(22);t.exports=function(t,e){var n,i;if("string"===e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if("string"!==e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},(t,e,n)=>{var r=n(10),i=n(31),o=n(35),s=n(37),a=n(26),u=n(25),c=i("wks"),l=r.Symbol,h=u?l:l&&l.withoutSetter||s;t.exports=function(t){return o(c,t)&&(a||"string"==typeof c[t])||(c[t]=a&&o(l,t)?l[t]:h("Symbol."+t)),c[t]}},(t,e,n)=>{var r=n(32),i=n(33);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:r?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},t=>{t.exports=!1},(t,e,n)=>{var r=n(10),i=n(34),o="__core-js_shared__",s=r[o]||i(o,{});t.exports=s},(t,e,n)=>{var r=n(10);t.exports=function(t,e){try{Object.defineProperty(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},(t,e,n)=>{var r=n(36),i={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return i.call(r(t),e)}},(t,e,n)=>{var r=n(19);t.exports=function(t){return Object(r(t))}},t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},(t,e,n)=>{var r=n(12),i=n(13),o=n(39);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},(t,e,n)=>{var r=n(10),i=n(22),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},(t,e,n)=>{var r=n(12),i=n(41),o=n(15);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},(t,e,n)=>{var r=n(12),i=n(38),o=n(42),s=n(20),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(o(t),e=s(e),o(n),i)try{return a(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},(t,e,n)=>{var r=n(22);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},(t,e,n)=>{var r=n(10),i=n(40),o=n(35),s=n(34),a=n(44),u=n(45),c=u.get,l=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,a){var u,c=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||o(n,"name")||i(n,"name",e),(u=l(n)).source||(u.source=h.join("string"==typeof e?e:""))),t!==r?(c?!f&&t[e]&&(d=!0):delete t[e],d?t[e]=n:i(t,e,n)):d?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||a(this)})},(t,e,n)=>{var r=n(33),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},(t,e,n)=>{var r,i,o,s=n(46),a=n(10),u=n(22),c=n(40),l=n(35),h=n(33),d=n(47),f=n(48),p="Object already initialized";if(s||h.state){var g=h.state||(h.state=new(0,a.WeakMap)),m=g.get,v=g.has,y=g.set;r=function(t,e){if(v.call(g,t))throw new TypeError(p);return e.facade=t,y.call(g,t,e),e},i=function(t){return m.call(g,t)||{}},o=function(t){return v.call(g,t)}}else{var b=d("state");f[b]=!0,r=function(t,e){if(l(t,b))throw new TypeError(p);return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},o=function(t){return l(t,b)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},(t,e,n)=>{var r=n(10),i=n(44),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},(t,e,n)=>{var r=n(31),i=n(37),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},t=>{t.exports={}},(t,e,n)=>{var r=n(35),i=n(50),o=n(11),s=n(41);t.exports=function(t,e){for(var n=i(e),a=s.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,u(e,l))}}},(t,e,n)=>{var r=n(24),i=n(51),o=n(58),s=n(42);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(s(t)),n=o.f;return n?e.concat(n(t)):e}},(t,e,n)=>{var r=n(52),i=n(57).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},(t,e,n)=>{var r=n(35),i=n(16),o=n(53).indexOf,s=n(48);t.exports=function(t,e){var n,a=i(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},(t,e,n)=>{var r=n(16),i=n(54),o=n(56),s=function(t){return function(e,n,s){var a,u=r(e),c=i(u.length),l=o(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},(t,e,n)=>{var r=n(55),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},(t,e,n)=>{var r=n(55),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,e)=>{e.f=Object.getOwnPropertySymbols},(t,e,n)=>{var r=n(13),i=/#|\.prototype\./,o=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},(t,e,n)=>{"use strict";var r,i,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(){var t=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.setIdentity(),t&&t.length&&this.setMatrixValue(t)},e={isIdentity:{configurable:!0},is2D:{configurable:!0}};e.isIdentity.get=function(){var t=this;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m41&&0===t.m42&&0===t.m43&&1===t.m44},e.isIdentity.set=function(t){this.isIdentity=t},e.is2D.get=function(){var t=this;return 0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m43&&1===t.m44},e.is2D.set=function(t){this.is2D=t},Object.defineProperties(t.prototype,e);var n=t.prototype;function r(e,n,r){var i=new t;return i.m41=e,i.e=e,i.m42=n,i.f=n,i.m43=r,i}function i(e,n,r){var i=new t,o=e*Math.PI/180,s=n*Math.PI/180,a=r*Math.PI/180,u=Math.cos(o),c=-Math.sin(o),l=Math.cos(s),h=-Math.sin(s),d=Math.cos(a),f=-Math.sin(a),p=l*d,g=-l*f;i.m11=p,i.a=p,i.m12=g,i.b=g,i.m13=h;var m=c*h*d+u*f;i.m21=m,i.c=m;var v=u*d-c*h*f;return i.m22=v,i.d=v,i.m23=-c*l,i.m31=c*f-u*h*d,i.m32=c*d+u*h*f,i.m33=u*l,i}function o(e,n,r,i){var o=new t,s=i*Math.PI/360,a=Math.sin(s),u=Math.cos(s),c=a*a,l=Math.sqrt(e*e+n*n+r*r),h=0,d=0,f=1;0!==l&&(h=e/l,d=n/l,f=r/l);var p=h*h,g=d*d,m=f*f,v=1-2*(g+m)*c;o.m11=v,o.a=v;var y=2*(e*n*c+r*a*u);o.m12=y,o.b=y,o.m13=2*(e*r*c-n*a*u);var b=2*(n*e*c-r*a*u);o.m21=b,o.c=b;var _=1-2*(m+p)*c;return o.m22=_,o.d=_,o.m23=2*(n*r*c+e*a*u),o.m31=2*(r*e*c+n*a*u),o.m32=2*(r*n*c-e*a*u),o.m33=1-2*(p+g)*c,o.m14=0,o.m24=0,o.m34=0,o.m41=0,o.e=0,o.m42=0,o.f=0,o.m43=0,o.m44=1,o}function s(e,n,r){var i=new t;return i.m11=e,i.a=e,i.m22=n,i.d=n,i.m33=r,i}function a(e){var n=e*Math.PI/180,r=new t,i=Math.tan(n);return r.m21=i,r.c=i,r}function u(e){var n=e*Math.PI/180,r=new t,i=Math.tan(n);return r.m12=i,r.b=i,r}function c(e,n){return new t([n.m11*e.m11+n.m12*e.m21+n.m13*e.m31+n.m14*e.m41,n.m21*e.m11+n.m22*e.m21+n.m23*e.m31+n.m24*e.m41,n.m31*e.m11+n.m32*e.m21+n.m33*e.m31+n.m34*e.m41,n.m41*e.m11+n.m42*e.m21+n.m43*e.m31+n.m44*e.m41,n.m11*e.m12+n.m12*e.m22+n.m13*e.m32+n.m14*e.m42,n.m21*e.m12+n.m22*e.m22+n.m23*e.m32+n.m24*e.m42,n.m31*e.m12+n.m32*e.m22+n.m33*e.m32+n.m34*e.m42,n.m41*e.m12+n.m42*e.m22+n.m43*e.m32+n.m44*e.m42,n.m11*e.m13+n.m12*e.m23+n.m13*e.m33+n.m14*e.m43,n.m21*e.m13+n.m22*e.m23+n.m23*e.m33+n.m24*e.m43,n.m31*e.m13+n.m32*e.m23+n.m33*e.m33+n.m34*e.m43,n.m41*e.m13+n.m42*e.m23+n.m43*e.m33+n.m44*e.m43,n.m11*e.m14+n.m12*e.m24+n.m13*e.m34+n.m14*e.m44,n.m21*e.m14+n.m22*e.m24+n.m23*e.m34+n.m24*e.m44,n.m31*e.m14+n.m32*e.m24+n.m33*e.m34+n.m34*e.m44,n.m41*e.m14+n.m42*e.m24+n.m43*e.m34+n.m44*e.m44])}function l(t,e){var n=Array.from(e);if(16===n.length){var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],f=n[10],p=n[11],g=n[12],m=n[13],v=n[14],y=n[15];t.m11=r,t.a=r,t.m21=i,t.c=i,t.m31=o,t.m41=s,t.e=s,t.m12=a,t.b=a,t.m22=u,t.d=u,t.m32=c,t.m42=l,t.f=l,t.m13=h,t.m23=d,t.m33=f,t.m43=p,t.m14=g,t.m24=m,t.m34=v,t.m44=y}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");var b=n[0],_=n[1],w=n[2],S=n[3],k=n[4],A=n[5];t.m11=b,t.a=b,t.m12=_,t.b=_,t.m21=w,t.c=w,t.m22=S,t.d=S,t.m14=k,t.e=k,t.m24=A,t.f=A}return t}return n.setMatrixValue=function(e){var n=this;if(!e||!e.length)return n;if(e.length&&"string"==typeof e[0]&&e[0].length){var r,i,o=String(e[0]).trim();if("none"===o)return n;if(r=o.slice(0,o.indexOf("(")),i=o.slice("matrix"===r?7:9,-1).split(",").map(function(t){return Math.abs(t)<1e-6?0:+t}),!([6,16].indexOf(i.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");l(n,i)}else e[0]instanceof t?l(n,e[0].toArray()):Array.isArray(e[0])?l(n,e[0]):Array.isArray(e)&&l(n,e);return n},n.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},n.toArray=function(t){var e=this;return e.is2D?[e.a,e.b,e.c,e.d,e.e,e.f]:t?[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]:[e.m11,e.m21,e.m31,e.m41,e.m12,e.m22,e.m32,e.m42,e.m13,e.m23,e.m33,e.m43,e.m14,e.m24,e.m34,e.m44]},n.multiply=function(t){return c(this,t)},n.translate=function(t,e,n){var i=e,o=n;return null==o&&(o=0),null==i&&(i=0),c(this,r(t,i,o))},n.scale=function(t,e,n){var r=e,i=n;return null==r&&(r=t),null==i&&(i=t),c(this,s(t,r,i))},n.rotate=function(t,e,n){var r=t,o=e,s=n;return null==o&&(o=0),null==s&&(s=r,r=0),c(this,i(r,o,s))},n.rotateAxisAngle=function(t,e,n,r){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return c(this,o(t,e,n,r))},n.skewX=function(t){return c(this,a(t))},n.skewY=function(t){return c(this,u(t))},n.setIdentity=function(){return l(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},n.transformPoint=function(t){var e=r(t.x,t.y,t.z);return e.m44=t.w||1,{x:(e=this.multiply(e)).m41,y:e.m42,z:e.m43,w:e.m44}},n.transform=function(t){var e=this,n=e.m41*t.x+e.m42*t.y+e.m43*t.z+e.m44*t.w;return{x:(e.m11*t.x+e.m12*t.y+e.m13*t.z+e.m14*t.w)/n,y:(e.m21*t.x+e.m22*t.y+e.m23*t.z+e.m24*t.w)/n,z:(e.m31*t.x+e.m32*t.y+e.m33*t.z+e.m34*t.w)/n,w:n}},t.Translate=r,t.Rotate=i,t.RotateAxisAngle=o,t.Scale=s,t.SkewX=a,t.SkewY=u,t.Multiply=c,t.fromMatrix=function(e){return new t([e.m11,e.m21,e.m31,e.m41,e.m12,e.m22,e.m32,e.m42,e.m13,e.m23,e.m33,e.m43,e.m14,e.m24,e.m34,e.m44])},t.fromArray=function(e){return l(new t,e)},t.feedFromArray=l,t},"object"===s(e)?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},(t,e,n)=>{n(62),n(77);var r=n(88);t.exports=r.Object.fromEntries},(t,e,n)=>{"use strict";var r=n(16),i=n(63),o=n(68),s=n(45),a=n(69),u="Array Iterator",c=s.set,l=s.getterFor(u);t.exports=a(Array,"Array",function(t,e){c(this,{type:u,target:r(t),index:0,kind:e})},function(){var t=l(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},(t,e,n)=>{var r=n(30),i=n(64),o=n(41),s=r("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:i(null)}),t.exports=function(t){a[s][t]=!0}},(t,e,n)=>{var r,i=n(42),o=n(65),s=n(57),a=n(48),u=n(67),c=n(39),l=n(47)("IE_PROTO"),h=function(){},d=function(t){return"<script>"+t+"<\/script>"},f=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},p=function(){try{r=new ActiveXObject("htmlfile")}catch(i){}var t,e;p="undefined"!=typeof document?document.domain&&r?f(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):f(r);for(var n=s.length;n--;)delete p.prototype[s[n]];return p()};a[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[l]=t):n=p(),void 0===e?n:o(n,e)}},(t,e,n)=>{var r=n(12),i=n(41),o=n(42),s=n(66);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},(t,e,n)=>{var r=n(52),i=n(57);t.exports=Object.keys||function(t){return r(t,i)}},(t,e,n)=>{var r=n(24);t.exports=r("document","documentElement")},t=>{t.exports={}},(t,e,n)=>{"use strict";var r=n(9),i=n(70),o=n(72),s=n(75),a=n(74),u=n(40),c=n(43),l=n(30),h=n(32),d=n(68),f=n(71),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v="keys",y="values",b="entries",_=function(){return this};t.exports=function(t,e,n,l,f,w,S){i(n,e,l);var k,A,E,C=function(t){if(t===f&&O)return O;if(!g&&t in P)return P[t];switch(t){case v:case y:case b:return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",x=!1,P=t.prototype,I=P[m]||P["@@iterator"]||f&&P[f],O=!g&&I||C(f),R="Array"==e&&P.entries||I;if(R&&(k=o(R.call(new t)))!==Object.prototype&&k.next&&(h||o(k)===p||(s?s(k,p):"function"!=typeof k[m]&&u(k,m,_)),a(k,T,!0,!0),h&&(d[T]=_)),f==y&&I&&I.name!==y&&(x=!0,O=function(){return I.call(this)}),h&&!S||P[m]===O||u(P,m,O),d[e]=O,f)if(A={values:C(y),keys:w?O:C(v),entries:C(b)},S)for(E in A)(g||x||!(E in P))&&c(P,E,A[E]);else r({target:e,proto:!0,forced:g||x},A);return A}},(t,e,n)=>{"use strict";var r=n(71).IteratorPrototype,i=n(64),o=n(15),s=n(74),a=n(68),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),s(t,c,!1,!0),a[c]=u,t}},(t,e,n)=>{"use strict";var r,i,o,s=n(13),a=n(64),u=n(72),c=n(40),l=n(30),h=n(32),d=l("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):f=!0),null==r||s(function(){var t={};return r[d].call(t)!==t})?r={}:h&&(r=a(r)),"function"!=typeof r[d]&&c(r,d,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},(t,e,n)=>{var r=n(35),i=n(36),o=n(47),s=n(73),a=o("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=i(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},(t,e,n)=>{var r=n(13);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},(t,e,n)=>{var r=n(41).f,i=n(35),o=n(30)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},(t,e,n)=>{var r=n(42),i=n(76);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(o){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},(t,e,n)=>{var r=n(22);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},(t,e,n)=>{var r=n(9),i=n(78),o=n(87);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,function(t,n){o(e,t,n)},{AS_ENTRIES:!0}),e}})},(t,e,n)=>{var r=n(42),i=n(79),o=n(54),s=n(80),a=n(82),u=n(83),c=n(86),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var h,d,f,p,g,m,v,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),_=!(!n||!n.INTERRUPTED),w=s(e,n&&n.that,1+y+_),S=function(t){return h&&c(h,"normal",t),new l(!0,t)},k=function(t){return y?(r(t),_?w(t[0],t[1],S):w(t[0],t[1])):_?w(t,S):w(t)};if(b)h=t;else{if("function"!=typeof(d=u(t)))throw TypeError("Target is not iterable");if(i(d)){for(f=0,p=o(t.length);p>f;f++)if((g=k(t[f]))&&g instanceof l)return g;return new l(!1)}h=a(t,d)}for(m=h.next;!(v=m.call(h)).done;){try{g=k(v.value)}catch(A){c(h,"throw",A)}if("object"==typeof g&&g&&g instanceof l)return g}return new l(!1)}},(t,e,n)=>{var r=n(30),i=n(68),o=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},(t,e,n)=>{var r=n(81);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},(t,e,n)=>{var r=n(42),i=n(83);t.exports=function(t,e){var n=arguments.length<2?i(t):e;if("function"!=typeof n)throw TypeError(String(t)+" is not iterable");return r(n.call(t))}},(t,e,n)=>{var r=n(84),i=n(68),o=n(30)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},(t,e,n)=>{var r=n(85),i=n(18),o=n(30)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},(t,e,n)=>{var r={};r[n(30)("toStringTag")]="z",t.exports="[object z]"===String(r)},(t,e,n)=>{var r=n(42);t.exports=function(t,e,n){var i,o;r(t);try{if(void 0===(i=t.return)){if("throw"===e)throw n;return n}i=i.call(t)}catch(s){o=!0,i=s}if("throw"===e)throw n;if(o)throw i;return r(i),n}},(t,e,n)=>{"use strict";var r=n(20),i=n(41),o=n(15);t.exports=function(t,e,n){var s=r(e);s in t?i.f(t,s,o(0,n)):t[s]=n}},(t,e,n)=>{var r=n(10);t.exports=r},(t,e,n)=>{n(90),n(62),n(92),n(94),n(112),n(113),n(114),n(115);var r=n(88);t.exports=r.Promise},(t,e,n)=>{"use strict";var r=n(9),i=n(72),o=n(75),s=n(64),a=n(40),u=n(15),c=n(78),l=n(91),h=function(t,e){var n=this;if(!(n instanceof h))return new h(t,e);o&&(n=o(new Error(void 0),i(n))),void 0!==e&&a(n,"message",l(e));var r=[];return c(t,r.push,{that:r}),a(n,"errors",r),n};h.prototype=s(Error.prototype,{constructor:u(5,h),message:u(5,""),name:u(5,"AggregateError")}),r({global:!0},{AggregateError:h})},(t,e,n)=>{var r=n(23);t.exports=function(t){if(r(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},(t,e,n)=>{var r=n(85),i=n(43),o=n(93);r||i(Object.prototype,"toString",o,{unsafe:!0})},(t,e,n)=>{"use strict";var r=n(85),i=n(84);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},(t,e,n)=>{"use strict";var r,i,o,s,a=n(9),u=n(32),c=n(10),l=n(24),h=n(95),d=n(43),f=n(96),p=n(75),g=n(74),m=n(97),v=n(22),y=n(81),b=n(98),_=n(44),w=n(78),S=n(99),k=n(100),A=n(101).set,E=n(104),C=n(107),T=n(109),x=n(108),P=n(110),I=n(45),O=n(59),R=n(30),D=n(111),N=n(103),L=n(27),M=R("species"),F="Promise",j=I.get,V=I.set,U=I.getterFor(F),B=h&&h.prototype,q=h,H=B,z=c.TypeError,W=c.document,G=c.process,K=x.f,$=K,X=!!(W&&W.createEvent&&c.dispatchEvent),Q="function"==typeof PromiseRejectionEvent,Y="unhandledrejection",J=!1,Z=O(F,function(){var t=_(q),e=t!==String(q);if(!e&&66===L)return!0;if(u&&!H.finally)return!0;if(L>=51&&/native code/.test(t))return!1;var n=new q(function(t){t(1)}),r=function(t){t(function(){},function(){})};return(n.constructor={})[M]=r,!(J=n.then(function(){})instanceof r)||!e&&D&&!Q}),tt=Z||!S(function(t){q.all(t).catch(function(){})}),et=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;E(function(){for(var r=t.value,i=1==t.state,o=0;n.length>o;){var s,a,u,c=n[o++],l=i?c.ok:c.fail,h=c.resolve,d=c.reject,f=c.domain;try{l?(i||(2===t.rejection&&st(t),t.rejection=1),!0===l?s=r:(f&&f.enter(),s=l(r),f&&(f.exit(),u=!0)),s===c.promise?d(z("Promise-chain cycle")):(a=et(s))?a.call(s,h,d):h(s)):d(r)}catch(p){f&&!u&&f.exit(),d(p)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&it(t)})}},rt=function(t,e,n){var r,i;X?((r=W.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!Q&&(i=c["on"+t])?i(r):t===Y&&T("Unhandled promise rejection",n)},it=function(t){A.call(c,function(){var e,n=t.facade,r=t.value;if(ot(t)&&(e=P(function(){N?G.emit("unhandledRejection",r,n):rt(Y,n,r)}),t.rejection=N||ot(t)?2:1,e.error))throw e.value})},ot=function(t){return 1!==t.rejection&&!t.parent},st=function(t){A.call(c,function(){var e=t.facade;N?G.emit("rejectionHandled",e):rt("rejectionhandled",e,t.value)})},at=function(t,e,n){return function(r){t(e,r,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},ct=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw z("Promise can't be resolved itself");var r=et(e);r?E(function(){var n={done:!1};try{r.call(e,at(ct,n,t),at(ut,n,t))}catch(i){ut(n,i,t)}}):(t.value=e,t.state=1,nt(t,!1))}catch(i){ut({done:!1},i,t)}}};if(Z&&(q=function(t){b(this,q,F),y(t),r.call(this);var e=j(this);try{t(at(ct,e),at(ut,e))}catch(n){ut(e,n)}},(r=function(t){V(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(H=q.prototype,{then:function(t,e){var n=U(this),r=K(k(this,q));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=N?G.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&nt(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=j(t);this.promise=t,this.resolve=at(ct,e),this.reject=at(ut,e)},x.f=K=function(t){return t===q||t===o?new i(t):$(t)},!u&&"function"==typeof h&&B!==Object.prototype)){s=B.then,J||(d(B,"then",function(t,e){var n=this;return new q(function(t,e){s.call(n,t,e)}).then(t,e)},{unsafe:!0}),d(B,"catch",H.catch,{unsafe:!0}));try{delete B.constructor}catch(lt){}p&&p(B,H)}a({global:!0,wrap:!0,forced:Z},{Promise:q}),g(q,F,!1,!0),m(F),o=l(F),a({target:F,stat:!0,forced:Z},{reject:function(t){var e=K(this);return e.reject.call(void 0,t),e.promise}}),a({target:F,stat:!0,forced:u||Z},{resolve:function(t){return C(u&&this===o?q:this,t)}}),a({target:F,stat:!0,forced:tt},{all:function(t){var e=this,n=K(e),r=n.resolve,i=n.reject,o=P(function(){var n=y(e.resolve),o=[],s=0,a=1;w(t,function(t){var u=s++,c=!1;o.push(void 0),a++,n.call(e,t).then(function(t){c||(c=!0,o[u]=t,--a||r(o))},i)}),--a||r(o)});return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=K(e),r=n.reject,i=P(function(){var i=y(e.resolve);w(t,function(t){i.call(e,t).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},(t,e,n)=>{var r=n(10);t.exports=r.Promise},(t,e,n)=>{var r=n(43);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},(t,e,n)=>{"use strict";var r=n(24),i=n(41),o=n(30),s=n(12),a=o("species");t.exports=function(t){var e=r(t);s&&e&&!e[a]&&(0,i.f)(e,a,{configurable:!0,get:function(){return this}})}},t=>{t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},(t,e,n)=>{var r=n(30)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(a){}return n}},(t,e,n)=>{var r=n(42),i=n(81),o=n(30)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},(t,e,n)=>{var r,i,o,s,a=n(10),u=n(13),c=n(80),l=n(67),h=n(39),d=n(102),f=n(103),p=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,y=a.Dispatch,b=0,_={};try{r=a.location}catch(E){}var w=function(t){if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},S=function(t){return function(){w(t)}},k=function(t){w(t.data)},A=function(t){a.postMessage(String(t),r.protocol+"//"+r.host)};p&&g||(p=function(t){for(var e=[],n=arguments.length,r=1;n>r;)e.push(arguments[r++]);return _[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(b),b},g=function(t){delete _[t]},f?i=function(t){m.nextTick(S(t))}:y&&y.now?i=function(t){y.now(S(t))}:v&&!d?(s=(o=new v).port2,o.port1.onmessage=k,i=c(s.postMessage,s,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&r&&"file:"!==r.protocol&&!u(A)?(i=A,a.addEventListener("message",k,!1)):i="onreadystatechange"in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),w(t)}}:function(t){setTimeout(S(t),0)}),t.exports={set:p,clear:g}},(t,e,n)=>{var r=n(28);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},(t,e,n)=>{var r=n(18),i=n(10);t.exports="process"==r(i.process)},(t,e,n)=>{var r,i,o,s,a,u,c,l,h=n(10),d=n(11).f,f=n(101).set,p=n(102),g=n(105),m=n(106),v=n(103),y=h.MutationObserver||h.WebKitMutationObserver,b=h.document,_=h.process,w=h.Promise,S=d(h,"queueMicrotask"),k=S&&S.value;k||(r=function(){var t,e;for(v&&(t=_.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(n){throw i?s():o=void 0,n}}o=void 0,t&&t.enter()},p||v||m||!y||!b?!g&&w&&w.resolve?((c=w.resolve(void 0)).constructor=w,l=c.then,s=function(){l.call(c,r)}):s=v?function(){_.nextTick(r)}:function(){f.call(h,r)}:(a=!0,u=b.createTextNode(""),new y(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a})),t.exports=k||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,s()),o=e}},(t,e,n)=>{var r=n(28),i=n(10);t.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},(t,e,n)=>{var r=n(28);t.exports=/web0s(?!.*chrome)/i.test(r)},(t,e,n)=>{var r=n(42),i=n(22),o=n(108);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},(t,e,n)=>{"use strict";var r=n(81),i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},(t,e,n)=>{var r=n(10);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},t=>{t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},t=>{t.exports="object"==typeof window},(t,e,n)=>{"use strict";var r=n(9),i=n(81),o=n(108),s=n(110),a=n(78);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,u=n.reject,c=s(function(){var n=i(e.resolve),o=[],s=0,u=1;a(t,function(t){var i=s++,a=!1;o.push(void 0),u++,n.call(e,t).then(function(t){a||(a=!0,o[i]={status:"fulfilled",value:t},--u||r(o))},function(t){a||(a=!0,o[i]={status:"rejected",reason:t},--u||r(o))})}),--u||r(o)});return c.error&&u(c.value),n.promise}})},(t,e,n)=>{"use strict";var r=n(9),i=n(81),o=n(24),s=n(108),a=n(110),u=n(78),c="No one promise resolved";r({target:"Promise",stat:!0},{any:function(t){var e=this,n=s.f(e),r=n.resolve,l=n.reject,h=a(function(){var n=i(e.resolve),s=[],a=0,h=1,d=!1;u(t,function(t){var i=a++,u=!1;s.push(void 0),h++,n.call(e,t).then(function(t){u||d||(d=!0,r(t))},function(t){u||d||(u=!0,s[i]=t,--h||l(new(o("AggregateError"))(s,c)))})}),--h||l(new(o("AggregateError"))(s,c))});return h.error&&l(h.value),n.promise}})},(t,e,n)=>{"use strict";var r=n(9),i=n(32),o=n(95),s=n(13),a=n(24),u=n(100),c=n(107),l=n(43);if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&s(function(){o.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=u(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then(function(){return n})}:t,n?function(n){return c(e,t()).then(function(){throw n})}:t)}}),!i&&"function"==typeof o){var h=a("Promise").prototype.finally;o.prototype.finally!==h&&l(o.prototype,"finally",h,{unsafe:!0})}},(t,e,n)=>{"use strict";var r=n(116).charAt,i=n(91),o=n(45),s=n(69),a="String Iterator",u=o.set,c=o.getterFor(a);s(String,"String",function(t){u(this,{type:a,string:i(t),index:0})},function(){var t,e=c(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})})},(t,e,n)=>{var r=n(55),i=n(91),o=n(19),s=function(t){return function(e,n){var s,a,u=i(o(e)),c=r(n),l=u.length;return c<0||c>=l?t?"":void 0:(s=u.charCodeAt(c))<55296||s>56319||c+1===l||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):s:t?u.slice(c,c+2):a-56320+(s-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},function(t,e){!function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(t){return"Symbol("+t+")"};function n(){}var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function i(t){return"object"==typeof t&&null!==t||"function"==typeof t}var o=n,s=Promise,a=Promise.prototype.then,u=Promise.resolve.bind(s),c=Promise.reject.bind(s);function l(t){return new s(t)}function h(t){return u(t)}function d(t){return c(t)}function f(t,e,n){return a.call(t,e,n)}function p(t,e,n){f(f(t,e,n),void 0,o)}function g(t,e){p(t,e)}function m(t,e){p(t,void 0,e)}function v(t,e,n){return f(t,e,n)}function y(t){f(t,void 0,o)}var b=function(){var t=r&&r.queueMicrotask;if("function"==typeof t)return t;var e=h(void 0);return function(t){return f(e,t)}}();function _(t,e,n){if("function"!=typeof t)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(t,e,n)}function w(t,e,n){try{return h(_(t,e,n))}catch(r){return d(r)}}var S=function(){function t(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(t.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.push=function(t){var e=this._back,n=e;16383===e._elements.length&&(n={_elements:[],_next:void 0}),e._elements.push(t),n!==e&&(this._back=n,e._next=n),++this._size},t.prototype.shift=function(){var t=this._front,e=t,n=this._cursor,r=n+1,i=t._elements,o=i[n];return 16384===r&&(e=t._next,r=0),--this._size,this._cursor=r,t!==e&&(this._front=e),i[n]=void 0,o},t.prototype.forEach=function(t){for(var e=this._cursor,n=this._front,r=n._elements;!(e===r.length&&void 0===n._next||e===r.length&&(e=0,0===(r=(n=n._next)._elements).length));)t(r[e]),++e},t.prototype.peek=function(){return this._front._elements[this._cursor]},t}();function k(t,e){t._ownerReadableStream=e,e._reader=t,"readable"===e._state?T(t):"closed"===e._state?function(t){T(t),I(t)}(t):x(t,e._storedError)}function A(t,e){return kn(t._ownerReadableStream,e)}function E(t){"readable"===t._ownerReadableStream._state?P(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,e){x(t,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(t),t._ownerReadableStream._reader=void 0,t._ownerReadableStream=void 0}function C(t){return new TypeError("Cannot "+t+" a stream using a released reader")}function T(t){t._closedPromise=l(function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n})}function x(t,e){T(t),P(t,e)}function P(t,e){void 0!==t._closedPromise_reject&&(y(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}function I(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0)}var O=e("[[AbortSteps]]"),R=e("[[ErrorSteps]]"),D=e("[[CancelSteps]]"),N=e("[[PullSteps]]"),L=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},M=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};function F(t,e){if(void 0!==t&&"object"!=typeof(n=t)&&"function"!=typeof n)throw new TypeError(e+" is not an object.");var n}function j(t,e){if("function"!=typeof t)throw new TypeError(e+" is not a function.")}function V(t,e){if(!function(t){return"object"==typeof t&&null!==t||"function"==typeof t}(t))throw new TypeError(e+" is not an object.")}function U(t,e,n){if(void 0===t)throw new TypeError("Parameter "+e+" is required in '"+n+"'.")}function B(t,e,n){if(void 0===t)throw new TypeError(e+" is required in '"+n+"'.")}function q(t){return Number(t)}function H(t){return 0===t?0:t}function z(t,e){var n=Number.MAX_SAFE_INTEGER,r=Number(t);if(r=H(r),!L(r))throw new TypeError(e+" is not a finite number");if((r=function(t){return H(M(t))}(r))<0||r>n)throw new TypeError(e+" is outside the accepted range of 0 to "+n+", inclusive");return L(r)&&0!==r?r:0}function W(t,e){if(!wn(t))throw new TypeError(e+" is not a ReadableStream.")}function G(t){return new Z(t)}function K(t,e){t._reader._readRequests.push(e)}function $(t,e,n){var r=t._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(e)}function X(t){return t._reader._readRequests.length}function Q(t){var e=t._reader;return void 0!==e&&!!tt(e)}var Y,J,Z=function(){function t(t){if(U(t,1,"ReadableStreamDefaultReader"),W(t,"First parameter"),Sn(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");k(this,t),this._readRequests=new S}return Object.defineProperty(t.prototype,"closed",{get:function(){return tt(this)?this._closedPromise:d(nt("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),tt(this)?void 0===this._ownerReadableStream?d(C("cancel")):A(this,t):d(nt("cancel"))},t.prototype.read=function(){if(!tt(this))return d(nt("read"));if(void 0===this._ownerReadableStream)return d(C("read from"));var t,e,n=l(function(n,r){t=n,e=r});return et(this,{_chunkSteps:function(e){return t({value:e,done:!1})},_closeSteps:function(){return t({value:void 0,done:!0})},_errorSteps:function(t){return e(t)}}),n},t.prototype.releaseLock=function(){if(!tt(this))throw nt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}},t}();function tt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readRequests")&&t instanceof Z}function et(t,e){var n=t._ownerReadableStream;n._disturbed=!0,"closed"===n._state?e._closeSteps():"errored"===n._state?e._errorSteps(n._storedError):n._readableStreamController[N](e)}function nt(t){return new TypeError("ReadableStreamDefaultReader.prototype."+t+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Z.prototype,e.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof e.asyncIterator&&((Y={})[e.asyncIterator]=function(){return this},J=Y,Object.defineProperty(J,e.asyncIterator,{enumerable:!1}));var rt=function(){function t(t,e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=e}return t.prototype.next=function(){var t=this,e=function(){return t._nextSteps()};return this._ongoingPromise=this._ongoingPromise?v(this._ongoingPromise,e,e):e(),this._ongoingPromise},t.prototype.return=function(t){var e=this,n=function(){return e._returnSteps(t)};return this._ongoingPromise?v(this._ongoingPromise,n,n):n()},t.prototype._nextSteps=function(){var t=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var e,n,r=this._reader;if(void 0===r._ownerReadableStream)return d(C("iterate"));var i=l(function(t,r){e=t,n=r});return et(r,{_chunkSteps:function(n){t._ongoingPromise=void 0,b(function(){return e({value:n,done:!1})})},_closeSteps:function(){t._ongoingPromise=void 0,t._isFinished=!0,E(r),e({value:void 0,done:!0})},_errorSteps:function(e){t._ongoingPromise=void 0,t._isFinished=!0,E(r),n(e)}}),i},t.prototype._returnSteps=function(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;var e=this._reader;if(void 0===e._ownerReadableStream)return d(C("finish iterating"));if(!this._preventCancel){var n=A(e,t);return E(e),v(n,function(){return{value:t,done:!0}})}return E(e),h({value:t,done:!0})},t}(),it={next:function(){return ot(this)?this._asyncIteratorImpl.next():d(st("next"))},return:function(t){return ot(this)?this._asyncIteratorImpl.return(t):d(st("return"))}};function ot(t){if(!i(t))return!1;if(!Object.prototype.hasOwnProperty.call(t,"_asyncIteratorImpl"))return!1;try{return t._asyncIteratorImpl instanceof rt}catch(Y){return!1}}function st(t){return new TypeError("ReadableStreamAsyncIterator."+t+" can only be used on a ReadableSteamAsyncIterator")}void 0!==J&&Object.setPrototypeOf(it,J);var at=Number.isNaN||function(t){return t!=t};function ut(t){return t.slice()}function ct(t,e,n,r,i){new Uint8Array(t).set(new Uint8Array(n,r,i),e)}function lt(t,e,n){if(t.slice)return t.slice(e,n);var r=n-e,i=new ArrayBuffer(r);return ct(i,0,t,e,r),i}function ht(t){var e=lt(t.buffer,t.byteOffset,t.byteOffset+t.byteLength);return new Uint8Array(e)}function dt(t){var e=t._queue.shift();return t._queueTotalSize-=e.size,t._queueTotalSize<0&&(t._queueTotalSize=0),e.value}function ft(t,e,n){if("number"!=typeof(r=n)||at(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;t._queue.push({value:e,size:n}),t._queueTotalSize+=n}function pt(t){t._queue=new S,t._queueTotalSize=0}var gt=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"view",{get:function(){if(!yt(this))throw Ut("view");return this._view},enumerable:!1,configurable:!0}),t.prototype.respond=function(t){if(!yt(this))throw Ut("respond");if(U(t,1,"respond"),t=z(t,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");Ft(this._associatedReadableByteStreamController,t)},t.prototype.respondWithNewView=function(t){if(!yt(this))throw Ut("respondWithNewView");if(U(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");jt(this._associatedReadableByteStreamController,t)},t}();Object.defineProperties(gt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(gt.prototype,e.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var mt=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"byobRequest",{get:function(){if(!vt(this))throw Bt("byobRequest");return Lt(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!vt(this))throw Bt("desiredSize");return Mt(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!vt(this))throw Bt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be closed");Rt(this)},t.prototype.enqueue=function(t){if(!vt(this))throw Bt("enqueue");if(U(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(0===t.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===t.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be enqueued to");Dt(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!vt(this))throw Bt("error");Nt(this,t)},t.prototype[D]=function(t){_t(this),pt(this);var e=this._cancelAlgorithm(t);return Ot(this),e},t.prototype[N]=function(t){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var n=this._queue.shift();this._queueTotalSize-=n.byteLength,Ct(this);var r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(r)}else{var i=this._autoAllocateChunkSize;if(void 0!==i){var o=void 0;try{o=new ArrayBuffer(i)}catch(a){return void t._errorSteps(a)}var s={buffer:o,bufferByteLength:i,byteOffset:0,byteLength:i,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}K(e,t),bt(this)}},t}();function vt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableByteStream")&&t instanceof mt}function yt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_associatedReadableByteStreamController")&&t instanceof gt}function bt(t){(function(t){var e=t._controlledReadableByteStream;return"readable"===e._state&&!t._closeRequested&&!!t._started&&(!!(Q(e)&&X(e)>0)||!!(Wt(e)&&zt(e)>0)||Mt(t)>0)})(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,bt(t))},function(e){Nt(t,e)})))}function _t(t){Tt(t),t._pendingPullIntos=new S}function wt(t,e){var n=!1;"closed"===t._state&&(n=!0);var r=St(e);"default"===e.readerType?$(t,r,n):function(t,e,n){var r=t._reader._readIntoRequests.shift();n?r._closeSteps(e):r._chunkSteps(e)}(t,r,n)}function St(t){return new t.viewConstructor(t.buffer,t.byteOffset,t.bytesFilled/t.elementSize)}function kt(t,e,n,r){t._queue.push({buffer:e,byteOffset:n,byteLength:r}),t._queueTotalSize+=r}function At(t,e){var n=e.elementSize,r=e.bytesFilled-e.bytesFilled%n,i=Math.min(t._queueTotalSize,e.byteLength-e.bytesFilled),o=e.bytesFilled+i,s=o-o%n,a=i,u=!1;s>r&&(a=s-e.bytesFilled,u=!0);for(var c=t._queue;a>0;){var l=c.peek(),h=Math.min(a,l.byteLength);ct(e.buffer,e.byteOffset+e.bytesFilled,l.buffer,l.byteOffset,h),l.byteLength===h?c.shift():(l.byteOffset+=h,l.byteLength-=h),t._queueTotalSize-=h,Et(0,h,e),a-=h}return u}function Et(t,e,n){n.bytesFilled+=e}function Ct(t){0===t._queueTotalSize&&t._closeRequested?(Ot(t),An(t._controlledReadableByteStream)):bt(t)}function Tt(t){null!==t._byobRequest&&(t._byobRequest._associatedReadableByteStreamController=void 0,t._byobRequest._view=null,t._byobRequest=null)}function xt(t){for(;t._pendingPullIntos.length>0;){if(0===t._queueTotalSize)return;var e=t._pendingPullIntos.peek();At(t,e)&&(It(t),wt(t._controlledReadableByteStream,e))}}function Pt(t,e){var n=t._pendingPullIntos.peek();Tt(t),"closed"===t._controlledReadableByteStream._state?function(t,e){var n=t._controlledReadableByteStream;if(Wt(n))for(;zt(n)>0;)wt(n,It(t))}(t):function(t,e,n){if(Et(0,e,n),!(n.bytesFilled<n.elementSize)){It(t);var r=n.bytesFilled%n.elementSize;if(r>0){var i=n.byteOffset+n.bytesFilled,o=lt(n.buffer,i-r,i);kt(t,o,0,o.byteLength)}n.bytesFilled-=r,wt(t._controlledReadableByteStream,n),xt(t)}}(t,e,n),bt(t)}function It(t){return t._pendingPullIntos.shift()}function Ot(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0}function Rt(t){var e=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===e._state)if(t._queueTotalSize>0)t._closeRequested=!0;else{if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Nt(t,n),n}Ot(t),An(e)}}function Dt(t,e){var n=t._controlledReadableByteStream;if(!t._closeRequested&&"readable"===n._state){var r=e.byteOffset,i=e.byteLength,o=e.buffer;if(t._pendingPullIntos.length>0){var s=t._pendingPullIntos.peek();s.buffer=s.buffer}Tt(t),Q(n)?0===X(n)?kt(t,o,r,i):$(n,new Uint8Array(o,r,i),!1):Wt(n)?(kt(t,o,r,i),xt(t)):kt(t,o,r,i),bt(t)}}function Nt(t,e){var n=t._controlledReadableByteStream;"readable"===n._state&&(_t(t),pt(t),Ot(t),En(n,e))}function Lt(t){if(null===t._byobRequest&&t._pendingPullIntos.length>0){var e=t._pendingPullIntos.peek(),n=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(gt.prototype);!function(t,e,n){t._associatedReadableByteStreamController=e,t._view=n}(r,t,n),t._byobRequest=r}return t._byobRequest}function Mt(t){var e=t._controlledReadableByteStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function Ft(t,e){var n=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===e)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+e>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,Pt(t,e)}function jt(t,e){var n=t._pendingPullIntos.peek();if("closed"===t._controlledReadableByteStream._state){if(0!==e.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===e.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==e.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==e.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+e.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");n.buffer=e.buffer,Pt(t,e.byteLength)}function Vt(t,e,n,r,i,o,s){e._controlledReadableByteStream=t,e._pullAgain=!1,e._pulling=!1,e._byobRequest=null,e._queue=e._queueTotalSize=void 0,pt(e),e._closeRequested=!1,e._started=!1,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,e._autoAllocateChunkSize=s,e._pendingPullIntos=new S,t._readableStreamController=e,p(h(n()),function(){e._started=!0,bt(e)},function(t){Nt(e,t)})}function Ut(t){return new TypeError("ReadableStreamBYOBRequest.prototype."+t+" can only be used on a ReadableStreamBYOBRequest")}function Bt(t){return new TypeError("ReadableByteStreamController.prototype."+t+" can only be used on a ReadableByteStreamController")}function qt(t){return new Gt(t)}function Ht(t,e){t._reader._readIntoRequests.push(e)}function zt(t){return t._reader._readIntoRequests.length}function Wt(t){var e=t._reader;return void 0!==e&&!!Kt(e)}Object.defineProperties(mt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(mt.prototype,e.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Gt=function(){function t(t){if(U(t,1,"ReadableStreamBYOBReader"),W(t,"First parameter"),Sn(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!vt(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");k(this,t),this._readIntoRequests=new S}return Object.defineProperty(t.prototype,"closed",{get:function(){return Kt(this)?this._closedPromise:d(Xt("closed"))},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),Kt(this)?void 0===this._ownerReadableStream?d(C("cancel")):A(this,t):d(Xt("cancel"))},t.prototype.read=function(t){if(!Kt(this))return d(Xt("read"));if(!ArrayBuffer.isView(t))return d(new TypeError("view must be an array buffer view"));if(0===t.byteLength)return d(new TypeError("view must have non-zero byteLength"));if(0===t.buffer.byteLength)return d(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return d(C("read from"));var e,n,r=l(function(t,r){e=t,n=r});return $t(this,t,{_chunkSteps:function(t){return e({value:t,done:!1})},_closeSteps:function(t){return e({value:t,done:!0})},_errorSteps:function(t){return n(t)}}),r},t.prototype.releaseLock=function(){if(!Kt(this))throw Xt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}},t}();function Kt(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readIntoRequests")&&t instanceof Gt}function $t(t,e,n){var r=t._ownerReadableStream;r._disturbed=!0,"errored"===r._state?n._errorSteps(r._storedError):function(t,e,n){var r=t._controlledReadableByteStream,i=1;e.constructor!==DataView&&(i=e.constructor.BYTES_PER_ELEMENT);var o=e.constructor,s=e.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:e.byteOffset,byteLength:e.byteLength,bytesFilled:0,elementSize:i,viewConstructor:o,readerType:"byob"};if(t._pendingPullIntos.length>0)return t._pendingPullIntos.push(a),void Ht(r,n);if("closed"!==r._state){if(t._queueTotalSize>0){if(At(t,a)){var u=St(a);return Ct(t),void n._chunkSteps(u)}if(t._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");return Nt(t,c),void n._errorSteps(c)}}t._pendingPullIntos.push(a),Ht(r,n),bt(t)}else{var l=new o(a.buffer,a.byteOffset,0);n._closeSteps(l)}}(r._readableStreamController,e,n)}function Xt(t){return new TypeError("ReadableStreamBYOBReader.prototype."+t+" can only be used on a ReadableStreamBYOBReader")}function Qt(t,e){var n=t.highWaterMark;if(void 0===n)return e;if(at(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Yt(t){return t.size||function(){return 1}}function Jt(t,e){F(t,e);var n=null==t?void 0:t.highWaterMark,r=null==t?void 0:t.size;return{highWaterMark:void 0===n?void 0:q(n),size:void 0===r?void 0:Zt(r,e+" has member 'size' that")}}function Zt(t,e){return j(t,e),function(e){return q(t(e))}}function te(t,e,n){return j(t,n),function(n){return w(t,e,[n])}}function ee(t,e,n){return j(t,n),function(){return w(t,e,[])}}function ne(t,e,n){return j(t,n),function(n){return _(t,e,[n])}}function re(t,e,n){return j(t,n),function(n,r){return w(t,e,[n,r])}}function ie(t,e){if(!ce(t))throw new TypeError(e+" is not a WritableStream.")}Object.defineProperties(Gt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Gt.prototype,e.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var oe="function"==typeof AbortController,se=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),void 0===t?t=null:V(t,"First parameter");var n=Jt(e,"Second parameter"),r=function(t,e){F(t,e);var n=null==t?void 0:t.abort,r=null==t?void 0:t.close,i=null==t?void 0:t.start,o=null==t?void 0:t.type,s=null==t?void 0:t.write;return{abort:void 0===n?void 0:te(n,t,e+" has member 'abort' that"),close:void 0===r?void 0:ee(r,t,e+" has member 'close' that"),start:void 0===i?void 0:ne(i,t,e+" has member 'start' that"),write:void 0===s?void 0:re(s,t,e+" has member 'write' that"),type:o}}(t,"First parameter");if(ue(this),void 0!==r.type)throw new RangeError("Invalid type is specified");var i=Yt(n);!function(t,e,n,r){var i=Object.create(Ce.prototype),o=function(){},s=function(){return h(void 0)},a=function(){return h(void 0)},u=function(){return h(void 0)};void 0!==e.start&&(o=function(){return e.start(i)}),void 0!==e.write&&(s=function(t){return e.write(t,i)}),void 0!==e.close&&(a=function(){return e.close()}),void 0!==e.abort&&(u=function(t){return e.abort(t)}),xe(t,i,o,s,a,u,n,r)}(this,r,Qt(n,1),i)}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!ce(this))throw Le("locked");return le(this)},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),ce(this)?le(this)?d(new TypeError("Cannot abort a stream that already has a writer")):he(this,t):d(Le("abort"))},t.prototype.close=function(){return ce(this)?le(this)?d(new TypeError("Cannot close a stream that already has a writer")):me(this)?d(new TypeError("Cannot close an already-closing stream")):de(this):d(Le("close"))},t.prototype.getWriter=function(){if(!ce(this))throw Le("getWriter");return ae(this)},t}();function ae(t){return new be(t)}function ue(t){t._state="writable",t._storedError=void 0,t._writer=void 0,t._writableStreamController=void 0,t._writeRequests=new S,t._inFlightWriteRequest=void 0,t._closeRequest=void 0,t._inFlightCloseRequest=void 0,t._pendingAbortRequest=void 0,t._backpressure=!1}function ce(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_writableStreamController")&&t instanceof se}function le(t){return void 0!==t._writer}function he(t,e){var n;if("closed"===t._state||"errored"===t._state)return h(void 0);t._writableStreamController._abortReason=e,null===(n=t._writableStreamController._abortController)||void 0===n||n.abort();var r=t._state;if("closed"===r||"errored"===r)return h(void 0);if(void 0!==t._pendingAbortRequest)return t._pendingAbortRequest._promise;var i=!1;"erroring"===r&&(i=!0,e=void 0);var o=l(function(n,r){t._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:e,_wasAlreadyErroring:i}});return t._pendingAbortRequest._promise=o,i||pe(t,e),o}function de(t){var e=t._state;if("closed"===e||"errored"===e)return d(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"));var n,r=l(function(e,n){t._closeRequest={_resolve:e,_reject:n}}),i=t._writer;return void 0!==i&&t._backpressure&&"writable"===e&&Ke(i),ft(n=t._writableStreamController,Ee,0),Oe(n),r}function fe(t,e){"writable"!==t._state?ge(t):pe(t,e)}function pe(t,e){var n=t._writableStreamController;t._state="erroring",t._storedError=e;var r=t._writer;void 0!==r&&Se(r,e),!function(t){return void 0!==t._inFlightWriteRequest||void 0!==t._inFlightCloseRequest}(t)&&n._started&&ge(t)}function ge(t){t._state="errored",t._writableStreamController[R]();var e=t._storedError;if(t._writeRequests.forEach(function(t){t._reject(e)}),t._writeRequests=new S,void 0!==t._pendingAbortRequest){var n=t._pendingAbortRequest;if(t._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(e),void ve(t);p(t._writableStreamController[O](n._reason),function(){n._resolve(),ve(t)},function(e){n._reject(e),ve(t)})}else ve(t)}function me(t){return void 0!==t._closeRequest||void 0!==t._inFlightCloseRequest}function ve(t){void 0!==t._closeRequest&&(t._closeRequest._reject(t._storedError),t._closeRequest=void 0);var e=t._writer;void 0!==e&&Be(e,t._storedError)}function ye(t,e){var n=t._writer;void 0!==n&&e!==t._backpressure&&(e?function(t){He(t)}(n):Ke(n)),t._backpressure=e}Object.defineProperties(se.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(se.prototype,e.toStringTag,{value:"WritableStream",configurable:!0});var be=function(){function t(t){if(U(t,1,"WritableStreamDefaultWriter"),ie(t,"First parameter"),le(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;var e=t._state;if("writable"===e)!me(t)&&t._backpressure?He(this):We(this),Ve(this);else if("erroring"===e)ze(this,t._storedError),Ve(this);else if("closed"===e)We(this),Ve(this),qe(this);else{var n=t._storedError;ze(this,n),Ue(this,n)}}return Object.defineProperty(t.prototype,"closed",{get:function(){return _e(this)?this._closedPromise:d(Fe("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!_e(this))throw Fe("desiredSize");if(void 0===this._ownerWritableStream)throw je("desiredSize");return"errored"===(e=(t=this._ownerWritableStream)._state)||"erroring"===e?null:"closed"===e?0:Ie(t._writableStreamController);var t,e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ready",{get:function(){return _e(this)?this._readyPromise:d(Fe("ready"))},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){return void 0===t&&(t=void 0),_e(this)?void 0===this._ownerWritableStream?d(je("abort")):function(t,e){return he(t._ownerWritableStream,e)}(this,t):d(Fe("abort"))},t.prototype.close=function(){if(!_e(this))return d(Fe("close"));var t=this._ownerWritableStream;return void 0===t?d(je("close")):me(t)?d(new TypeError("Cannot close an already-closing stream")):we(this)},t.prototype.releaseLock=function(){if(!_e(this))throw Fe("releaseLock");void 0!==this._ownerWritableStream&&ke(this)},t.prototype.write=function(t){return void 0===t&&(t=void 0),_e(this)?void 0===this._ownerWritableStream?d(je("write to")):Ae(this,t):d(Fe("write"))},t}();function _e(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_ownerWritableStream")&&t instanceof be}function we(t){return de(t._ownerWritableStream)}function Se(t,e){"pending"===t._readyPromiseState?Ge(t,e):function(t,e){ze(t,e)}(t,e)}function ke(t){var e=t._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Se(t,n),function(t,e){"pending"===t._closedPromiseState?Be(t,e):function(t,e){Ue(t,e)}(t,e)}(t,n),e._writer=void 0,t._ownerWritableStream=void 0}function Ae(t,e){var n=t._ownerWritableStream,r=n._writableStreamController,i=function(t,e){try{return t._strategySizeAlgorithm(e)}catch(n){return Re(t,n),1}}(r,e);if(n!==t._ownerWritableStream)return d(je("write to"));var o=n._state;if("errored"===o)return d(n._storedError);if(me(n)||"closed"===o)return d(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===o)return d(n._storedError);var s=function(t){return l(function(e,n){t._writeRequests.push({_resolve:e,_reject:n})})}(n);return function(t,e,n){try{ft(t,e,n)}catch(i){return void Re(t,i)}var r=t._controlledWritableStream;me(r)||"writable"!==r._state||ye(r,De(t)),Oe(t)}(r,e,i),s}Object.defineProperties(be.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(be.prototype,e.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Ee={},Ce=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"abortReason",{get:function(){if(!Te(this))throw Me("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"signal",{get:function(){if(!Te(this))throw Me("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Te(this))throw Me("error");"writable"===this._controlledWritableStream._state&&Ne(this,t)},t.prototype[O]=function(t){var e=this._abortAlgorithm(t);return Pe(this),e},t.prototype[R]=function(){pt(this)},t}();function Te(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledWritableStream")&&t instanceof Ce}function xe(t,e,n,r,i,o,s,a){e._controlledWritableStream=t,t._writableStreamController=e,e._queue=void 0,e._queueTotalSize=void 0,pt(e),e._abortReason=void 0,e._abortController=function(){if(oe)return new AbortController}(),e._started=!1,e._strategySizeAlgorithm=a,e._strategyHWM=s,e._writeAlgorithm=r,e._closeAlgorithm=i,e._abortAlgorithm=o;var u=De(e);ye(t,u),p(h(n()),function(){e._started=!0,Oe(e)},function(n){e._started=!0,fe(t,n)})}function Pe(t){t._writeAlgorithm=void 0,t._closeAlgorithm=void 0,t._abortAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function Ie(t){return t._strategyHWM-t._queueTotalSize}function Oe(t){var e=t._controlledWritableStream;if(t._started&&void 0===e._inFlightWriteRequest)if("erroring"!==e._state){if(0!==t._queue.length){var n=t._queue.peek().value;n===Ee?function(t){var e=t._controlledWritableStream;(function(t){t._inFlightCloseRequest=t._closeRequest,t._closeRequest=void 0})(e),dt(t);var n=t._closeAlgorithm();Pe(t),p(n,function(){!function(t){t._inFlightCloseRequest._resolve(void 0),t._inFlightCloseRequest=void 0,"erroring"===t._state&&(t._storedError=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._resolve(),t._pendingAbortRequest=void 0)),t._state="closed";var e=t._writer;void 0!==e&&qe(e)}(e)},function(t){!function(t,e){t._inFlightCloseRequest._reject(e),t._inFlightCloseRequest=void 0,void 0!==t._pendingAbortRequest&&(t._pendingAbortRequest._reject(e),t._pendingAbortRequest=void 0),fe(t,e)}(e,t)})}(t):function(t,e){var n=t._controlledWritableStream;(function(t){t._inFlightWriteRequest=t._writeRequests.shift()})(n),p(t._writeAlgorithm(e),function(){!function(t){t._inFlightWriteRequest._resolve(void 0),t._inFlightWriteRequest=void 0}(n);var e=n._state;if(dt(t),!me(n)&&"writable"===e){var r=De(t);ye(n,r)}Oe(t)},function(e){"writable"===n._state&&Pe(t),function(t,e){t._inFlightWriteRequest._reject(e),t._inFlightWriteRequest=void 0,fe(t,e)}(n,e)})}(t,n)}}else ge(e)}function Re(t,e){"writable"===t._controlledWritableStream._state&&Ne(t,e)}function De(t){return Ie(t)<=0}function Ne(t,e){var n=t._controlledWritableStream;Pe(t),pe(n,e)}function Le(t){return new TypeError("WritableStream.prototype."+t+" can only be used on a WritableStream")}function Me(t){return new TypeError("WritableStreamDefaultController.prototype."+t+" can only be used on a WritableStreamDefaultController")}function Fe(t){return new TypeError("WritableStreamDefaultWriter.prototype."+t+" can only be used on a WritableStreamDefaultWriter")}function je(t){return new TypeError("Cannot "+t+" a stream using a released writer")}function Ve(t){t._closedPromise=l(function(e,n){t._closedPromise_resolve=e,t._closedPromise_reject=n,t._closedPromiseState="pending"})}function Ue(t,e){Ve(t),Be(t,e)}function Be(t,e){void 0!==t._closedPromise_reject&&(y(t._closedPromise),t._closedPromise_reject(e),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="rejected")}function qe(t){void 0!==t._closedPromise_resolve&&(t._closedPromise_resolve(void 0),t._closedPromise_resolve=void 0,t._closedPromise_reject=void 0,t._closedPromiseState="resolved")}function He(t){t._readyPromise=l(function(e,n){t._readyPromise_resolve=e,t._readyPromise_reject=n}),t._readyPromiseState="pending"}function ze(t,e){He(t),Ge(t,e)}function We(t){He(t),Ke(t)}function Ge(t,e){void 0!==t._readyPromise_reject&&(y(t._readyPromise),t._readyPromise_reject(e),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="rejected")}function Ke(t){void 0!==t._readyPromise_resolve&&(t._readyPromise_resolve(void 0),t._readyPromise_resolve=void 0,t._readyPromise_reject=void 0,t._readyPromiseState="fulfilled")}Object.defineProperties(Ce.prototype,{error:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Ce.prototype,e.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var $e,Xe="undefined"!=typeof DOMException?DOMException:void 0,Qe=function(t){if("function"!=typeof t&&"object"!=typeof t)return!1;try{return new t,!0}catch(Y){return!1}}(Xe)?Xe:(($e=function(t,e){this.message=t||"",this.name=e||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty($e.prototype,"constructor",{value:$e,writable:!0,configurable:!0}),$e);function Ye(t,e,r,i,o,s){var a=G(t),u=ae(e);t._disturbed=!0;var c=!1,v=h(void 0);return l(function(b,_){var w,S,k;if(void 0!==s){if(w=function(){var n=new Qe("Aborted","AbortError"),r=[];i||r.push(function(){return"writable"===e._state?he(e,n):h(void 0)}),o||r.push(function(){return"readable"===t._state?kn(t,n):h(void 0)}),x(function(){return Promise.all(r.map(function(t){return t()}))},!0,n)},s.aborted)return void w();s.addEventListener("abort",w)}if(T(t,a._closedPromise,function(t){i?P(!0,t):x(function(){return he(e,t)},!0,t)}),T(e,u._closedPromise,function(e){o?P(!0,e):x(function(){return kn(t,e)},!0,e)}),S=a._closedPromise,k=function(){r?P():x(function(){return function(t){var e=t._ownerWritableStream,n=e._state;return me(e)||"closed"===n?h(void 0):"errored"===n?d(e._storedError):we(t)}(u)})},"closed"===t._state?k():g(S,k),me(e)||"closed"===e._state){var A=new TypeError("the destination writable stream closed before all data could be piped to it");o?P(!0,A):x(function(){return kn(t,A)},!0,A)}function C(){var t=v;return f(v,function(){return t!==v?C():void 0})}function T(t,e,n){"errored"===t._state?n(t._storedError):m(e,n)}function x(t,n,r){function i(){p(t(),function(){return I(n,r)},function(t){return I(!0,t)})}c||(c=!0,"writable"!==e._state||me(e)?i():g(C(),i))}function P(t,n){c||(c=!0,"writable"!==e._state||me(e)?I(t,n):g(C(),function(){return I(t,n)}))}function I(t,e){ke(u),E(a),void 0!==s&&s.removeEventListener("abort",w),t?_(e):b(void 0)}y(l(function(t,e){!function r(i){i?t():f(c?h(!0):f(u._readyPromise,function(){return l(function(t,e){et(a,{_chunkSteps:function(e){v=f(Ae(u,e),void 0,n),t(!1)},_closeSteps:function(){return t(!0)},_errorSteps:e})})}),r,e)}(!1)}))})}var Je=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Ze(this))throw ln("desiredSize");return an(this)},enumerable:!1,configurable:!0}),t.prototype.close=function(){if(!Ze(this))throw ln("close");if(!un(this))throw new TypeError("The stream is not in a state that permits close");rn(this)},t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Ze(this))throw ln("enqueue");if(!un(this))throw new TypeError("The stream is not in a state that permits enqueue");return on(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Ze(this))throw ln("error");sn(this,t)},t.prototype[D]=function(t){pt(this);var e=this._cancelAlgorithm(t);return nn(this),e},t.prototype[N]=function(t){var e=this._controlledReadableStream;if(this._queue.length>0){var n=dt(this);this._closeRequested&&0===this._queue.length?(nn(this),An(e)):tn(this),t._chunkSteps(n)}else K(e,t),tn(this)},t}();function Ze(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledReadableStream")&&t instanceof Je}function tn(t){en(t)&&(t._pulling?t._pullAgain=!0:(t._pulling=!0,p(t._pullAlgorithm(),function(){t._pulling=!1,t._pullAgain&&(t._pullAgain=!1,tn(t))},function(e){sn(t,e)})))}function en(t){var e=t._controlledReadableStream;return!!un(t)&&!!t._started&&(!!(Sn(e)&&X(e)>0)||an(t)>0)}function nn(t){t._pullAlgorithm=void 0,t._cancelAlgorithm=void 0,t._strategySizeAlgorithm=void 0}function rn(t){if(un(t)){var e=t._controlledReadableStream;t._closeRequested=!0,0===t._queue.length&&(nn(t),An(e))}}function on(t,e){if(un(t)){var n=t._controlledReadableStream;if(Sn(n)&&X(n)>0)$(n,e,!1);else{var r=void 0;try{r=t._strategySizeAlgorithm(e)}catch(i){throw sn(t,i),i}try{ft(t,e,r)}catch(o){throw sn(t,o),o}}tn(t)}}function sn(t,e){var n=t._controlledReadableStream;"readable"===n._state&&(pt(t),nn(t),En(n,e))}function an(t){var e=t._controlledReadableStream._state;return"errored"===e?null:"closed"===e?0:t._strategyHWM-t._queueTotalSize}function un(t){return!t._closeRequested&&"readable"===t._controlledReadableStream._state}function cn(t,e,n,r,i,o,s){e._controlledReadableStream=t,e._queue=void 0,e._queueTotalSize=void 0,pt(e),e._started=!1,e._closeRequested=!1,e._pullAgain=!1,e._pulling=!1,e._strategySizeAlgorithm=s,e._strategyHWM=o,e._pullAlgorithm=r,e._cancelAlgorithm=i,t._readableStreamController=e,p(h(n()),function(){e._started=!0,tn(e)},function(t){sn(e,t)})}function ln(t){return new TypeError("ReadableStreamDefaultController.prototype."+t+" can only be used on a ReadableStreamDefaultController")}function hn(t,e,n){return j(t,n),function(n){return w(t,e,[n])}}function dn(t,e,n){return j(t,n),function(n){return w(t,e,[n])}}function fn(t,e,n){return j(t,n),function(n){return _(t,e,[n])}}function pn(t,e){if("bytes"!=(t=""+t))throw new TypeError(e+" '"+t+"' is not a valid enumeration value for ReadableStreamType");return t}function gn(t,e){if("byob"!=(t=""+t))throw new TypeError(e+" '"+t+"' is not a valid enumeration value for ReadableStreamReaderMode");return t}function mn(t,e){F(t,e);var n=null==t?void 0:t.preventAbort,r=null==t?void 0:t.preventCancel,i=null==t?void 0:t.preventClose,o=null==t?void 0:t.signal;return void 0!==o&&function(t,e){if(!function(t){if("object"!=typeof t||null===t)return!1;try{return"boolean"==typeof t.aborted}catch(Y){return!1}}(t))throw new TypeError(e+" is not an AbortSignal.")}(o,e+" has member 'signal' that"),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(i),signal:o}}Object.defineProperties(Je.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Je.prototype,e.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var vn=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e={}),void 0===t?t=null:V(t,"First parameter");var n=Jt(e,"Second parameter"),r=function(t,e){F(t,e);var n=t,r=null==n?void 0:n.autoAllocateChunkSize,i=null==n?void 0:n.cancel,o=null==n?void 0:n.pull,s=null==n?void 0:n.start,a=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:z(r,e+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:hn(i,n,e+" has member 'cancel' that"),pull:void 0===o?void 0:dn(o,n,e+" has member 'pull' that"),start:void 0===s?void 0:fn(s,n,e+" has member 'start' that"),type:void 0===a?void 0:pn(a,e+" has member 'type' that")}}(t,"First parameter");if(_n(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(t,e,n){var r=Object.create(mt.prototype),i=function(){},o=function(){return h(void 0)},s=function(){return h(void 0)};void 0!==e.start&&(i=function(){return e.start(r)}),void 0!==e.pull&&(o=function(){return e.pull(r)}),void 0!==e.cancel&&(s=function(t){return e.cancel(t)});var a=e.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Vt(t,r,i,o,s,n,a)}(this,r,Qt(n,0))}else{var i=Yt(n);!function(t,e,n,r){var i=Object.create(Je.prototype),o=function(){},s=function(){return h(void 0)},a=function(){return h(void 0)};void 0!==e.start&&(o=function(){return e.start(i)}),void 0!==e.pull&&(s=function(){return e.pull(i)}),void 0!==e.cancel&&(a=function(t){return e.cancel(t)}),cn(t,i,o,s,a,n,r)}(this,r,Qt(n,1),i)}}return Object.defineProperty(t.prototype,"locked",{get:function(){if(!wn(this))throw Cn("locked");return Sn(this)},enumerable:!1,configurable:!0}),t.prototype.cancel=function(t){return void 0===t&&(t=void 0),wn(this)?Sn(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):kn(this,t):d(Cn("cancel"))},t.prototype.getReader=function(t){if(void 0===t&&(t=void 0),!wn(this))throw Cn("getReader");return void 0===function(t,e){F(t,e);var n=null==t?void 0:t.mode;return{mode:void 0===n?void 0:gn(n,e+" has member 'mode' that")}}(t,"First parameter").mode?G(this):qt(this)},t.prototype.pipeThrough=function(t,e){if(void 0===e&&(e={}),!wn(this))throw Cn("pipeThrough");U(t,1,"pipeThrough");var n=function(t,e){F(t,e);var n=null==t?void 0:t.readable;B(n,"readable","ReadableWritablePair"),W(n,e+" has member 'readable' that");var r=null==t?void 0:t.writable;return B(r,"writable","ReadableWritablePair"),ie(r,e+" has member 'writable' that"),{readable:n,writable:r}}(t,"First parameter"),r=mn(e,"Second parameter");if(Sn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(le(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return y(Ye(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable},t.prototype.pipeTo=function(t,e){if(void 0===e&&(e={}),!wn(this))return d(Cn("pipeTo"));if(void 0===t)return d("Parameter 1 is required in 'pipeTo'.");if(!ce(t))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var n;try{n=mn(e,"Second parameter")}catch(r){return d(r)}return Sn(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):le(t)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Ye(this,t,n.preventClose,n.preventAbort,n.preventCancel,n.signal)},t.prototype.tee=function(){if(!wn(this))throw Cn("tee");return ut(vt(this._readableStreamController)?function(t){var e,n,r,i,o,s=G(t),a=!1,u=!1,c=!1,d=l(function(t){o=t});function f(t){m(t._closedPromise,function(e){t===s&&(Nt(r._readableStreamController,e),Nt(i._readableStreamController,e),u&&c||o(void 0))})}function p(){Kt(s)&&(E(s),f(s=G(t))),et(s,{_chunkSteps:function(e){b(function(){a=!1;var n=e,s=e;if(!u&&!c)try{s=ht(e)}catch(l){return Nt(r._readableStreamController,l),Nt(i._readableStreamController,l),void o(kn(t,l))}u||Dt(r._readableStreamController,n),c||Dt(i._readableStreamController,s)})},_closeSteps:function(){a=!1,u||Rt(r._readableStreamController),c||Rt(i._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&Ft(r._readableStreamController,0),i._readableStreamController._pendingPullIntos.length>0&&Ft(i._readableStreamController,0),u&&c||o(void 0)},_errorSteps:function(){a=!1}})}function g(e,n){tt(s)&&(E(s),f(s=qt(t)));var l=n?i:r,h=n?r:i;$t(s,e,{_chunkSteps:function(e){b(function(){a=!1;var r=n?c:u;if(n?u:c)r||jt(l._readableStreamController,e);else{var i=void 0;try{i=ht(e)}catch(s){return Nt(l._readableStreamController,s),Nt(h._readableStreamController,s),void o(kn(t,s))}r||jt(l._readableStreamController,e),Dt(h._readableStreamController,i)}})},_closeSteps:function(t){a=!1;var e=n?c:u,r=n?u:c;e||Rt(l._readableStreamController),r||Rt(h._readableStreamController),void 0!==t&&(e||jt(l._readableStreamController,t),!r&&h._readableStreamController._pendingPullIntos.length>0&&Ft(h._readableStreamController,0)),e&&r||o(void 0)},_errorSteps:function(){a=!1}})}function v(){}return r=bn(v,function(){if(a)return h(void 0);a=!0;var t=Lt(r._readableStreamController);return null===t?p():g(t._view,!1),h(void 0)},function(r){if(u=!0,e=r,c){var i=ut([e,n]),s=kn(t,i);o(s)}return d}),i=bn(v,function(){if(a)return h(void 0);a=!0;var t=Lt(i._readableStreamController);return null===t?p():g(t._view,!0),h(void 0)},function(r){if(c=!0,n=r,u){var i=ut([e,n]),s=kn(t,i);o(s)}return d}),f(s),[r,i]}(this):function(t,e){var n,r,i,o,s,a=G(t),u=!1,c=!1,d=!1,f=l(function(t){s=t});function p(){return u||(u=!0,et(a,{_chunkSteps:function(t){b(function(){u=!1;var e=t;c||on(i._readableStreamController,t),d||on(o._readableStreamController,e)})},_closeSteps:function(){u=!1,c||rn(i._readableStreamController),d||rn(o._readableStreamController),c&&d||s(void 0)},_errorSteps:function(){u=!1}})),h(void 0)}function g(){}return i=yn(g,p,function(e){if(c=!0,n=e,d){var i=ut([n,r]),o=kn(t,i);s(o)}return f}),o=yn(g,p,function(e){if(d=!0,r=e,c){var i=ut([n,r]),o=kn(t,i);s(o)}return f}),m(a._closedPromise,function(t){sn(i._readableStreamController,t),sn(o._readableStreamController,t),c&&d||s(void 0)}),[i,o]}(this))},t.prototype.values=function(t){if(void 0===t&&(t=void 0),!wn(this))throw Cn("values");var e,n,r,i,o;return e=(o=t,F(o,"First parameter"),{preventCancel:Boolean(null==o?void 0:o.preventCancel)}).preventCancel,n=G(this),r=new rt(n,e),(i=Object.create(it))._asyncIteratorImpl=r,i},t}();function yn(t,e,n,r,i){void 0===r&&(r=1),void 0===i&&(i=function(){return 1});var o=Object.create(vn.prototype);return _n(o),cn(o,Object.create(Je.prototype),t,e,n,r,i),o}function bn(t,e,n){var r=Object.create(vn.prototype);return _n(r),Vt(r,Object.create(mt.prototype),t,e,n,0,void 0),r}function _n(t){t._state="readable",t._reader=void 0,t._storedError=void 0,t._disturbed=!1}function wn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_readableStreamController")&&t instanceof vn}function Sn(t){return void 0!==t._reader}function kn(t,e){if(t._disturbed=!0,"closed"===t._state)return h(void 0);if("errored"===t._state)return d(t._storedError);An(t);var r=t._reader;return void 0!==r&&Kt(r)&&(r._readIntoRequests.forEach(function(t){t._closeSteps(void 0)}),r._readIntoRequests=new S),v(t._readableStreamController[D](e),n)}function An(t){t._state="closed";var e=t._reader;void 0!==e&&(I(e),tt(e)&&(e._readRequests.forEach(function(t){t._closeSteps()}),e._readRequests=new S))}function En(t,e){t._state="errored",t._storedError=e;var n=t._reader;void 0!==n&&(P(n,e),tt(n)?(n._readRequests.forEach(function(t){t._errorSteps(e)}),n._readRequests=new S):(n._readIntoRequests.forEach(function(t){t._errorSteps(e)}),n._readIntoRequests=new S))}function Cn(t){return new TypeError("ReadableStream.prototype."+t+" can only be used on a ReadableStream")}function Tn(t,e){F(t,e);var n=null==t?void 0:t.highWaterMark;return B(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:q(n)}}Object.defineProperties(vn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(vn.prototype,e.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof e.asyncIterator&&Object.defineProperty(vn.prototype,e.asyncIterator,{value:vn.prototype.values,writable:!0,configurable:!0});var xn=function(t){return t.byteLength};Object.defineProperty(xn,"name",{value:"size",configurable:!0});var Pn=function(){function t(t){U(t,1,"ByteLengthQueuingStrategy"),t=Tn(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!On(this))throw In("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(!On(this))throw In("size");return xn},enumerable:!1,configurable:!0}),t}();function In(t){return new TypeError("ByteLengthQueuingStrategy.prototype."+t+" can only be used on a ByteLengthQueuingStrategy")}function On(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_byteLengthQueuingStrategyHighWaterMark")&&t instanceof Pn}Object.defineProperties(Pn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Pn.prototype,e.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Rn=function(){return 1};Object.defineProperty(Rn,"name",{value:"size",configurable:!0});var Dn=function(){function t(t){U(t,1,"CountQueuingStrategy"),t=Tn(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}return Object.defineProperty(t.prototype,"highWaterMark",{get:function(){if(!Ln(this))throw Nn("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){if(!Ln(this))throw Nn("size");return Rn},enumerable:!1,configurable:!0}),t}();function Nn(t){return new TypeError("CountQueuingStrategy.prototype."+t+" can only be used on a CountQueuingStrategy")}function Ln(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_countQueuingStrategyHighWaterMark")&&t instanceof Dn}function Mn(t,e,n){return j(t,n),function(n){return w(t,e,[n])}}function Fn(t,e,n){return j(t,n),function(n){return _(t,e,[n])}}function jn(t,e,n){return j(t,n),function(n,r){return w(t,e,[n,r])}}Object.defineProperties(Dn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Dn.prototype,e.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Vn=function(){function t(t,e,n){void 0===t&&(t={}),void 0===e&&(e={}),void 0===n&&(n={}),void 0===t&&(t=null);var r=Jt(e,"Second parameter"),i=Jt(n,"Third parameter"),o=function(t,e){F(t,e);var n=null==t?void 0:t.flush,r=null==t?void 0:t.readableType,i=null==t?void 0:t.start,o=null==t?void 0:t.transform,s=null==t?void 0:t.writableType;return{flush:void 0===n?void 0:Mn(n,t,e+" has member 'flush' that"),readableType:r,start:void 0===i?void 0:Fn(i,t,e+" has member 'start' that"),transform:void 0===o?void 0:jn(o,t,e+" has member 'transform' that"),writableType:s}}(t,"First parameter");if(void 0!==o.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==o.writableType)throw new RangeError("Invalid writableType specified");var s,a=Qt(i,0),u=Yt(i),c=Qt(r,1),f=Yt(r);!function(t,e,n,r,i,o){function s(){return e}t._writable=function(t,e,n,r,i,o){void 0===i&&(i=1),void 0===o&&(o=function(){return 1});var s=Object.create(se.prototype);return ue(s),xe(s,Object.create(Ce.prototype),t,e,n,r,i,o),s}(s,function(e){return function(t,e){var n=t._transformStreamController;return t._backpressure?v(t._backpressureChangePromise,function(){var r=t._writable;if("erroring"===r._state)throw r._storedError;return $n(n,e)}):$n(n,e)}(t,e)},function(){return function(t){var e=t._readable,n=t._transformStreamController,r=n._flushAlgorithm();return Gn(n),v(r,function(){if("errored"===e._state)throw e._storedError;rn(e._readableStreamController)},function(n){throw Bn(t,n),e._storedError})}(t)},function(e){return function(t,e){return Bn(t,e),h(void 0)}(t,e)},n,r),t._readable=yn(s,function(){return function(t){return Hn(t,!1),t._backpressureChangePromise}(t)},function(e){return qn(t,e),h(void 0)},i,o),t._backpressure=void 0,t._backpressureChangePromise=void 0,t._backpressureChangePromise_resolve=void 0,Hn(t,!0),t._transformStreamController=void 0}(this,l(function(t){s=t}),c,f,a,u),function(t,e){var n=Object.create(zn.prototype),r=function(t){try{return Kn(n,t),h(void 0)}catch(e){return d(e)}},i=function(){return h(void 0)};void 0!==e.transform&&(r=function(t){return e.transform(t,n)}),void 0!==e.flush&&(i=function(){return e.flush(n)}),function(t,e,n,r){e._controlledTransformStream=t,t._transformStreamController=e,e._transformAlgorithm=n,e._flushAlgorithm=r}(t,n,r,i)}(this,o),s(void 0!==o.start?o.start(this._transformStreamController):void 0)}return Object.defineProperty(t.prototype,"readable",{get:function(){if(!Un(this))throw Qn("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"writable",{get:function(){if(!Un(this))throw Qn("writable");return this._writable},enumerable:!1,configurable:!0}),t}();function Un(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_transformStreamController")&&t instanceof Vn}function Bn(t,e){sn(t._readable._readableStreamController,e),qn(t,e)}function qn(t,e){Gn(t._transformStreamController),Re(t._writable._writableStreamController,e),t._backpressure&&Hn(t,!1)}function Hn(t,e){void 0!==t._backpressureChangePromise&&t._backpressureChangePromise_resolve(),t._backpressureChangePromise=l(function(e){t._backpressureChangePromise_resolve=e}),t._backpressure=e}Object.defineProperties(Vn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(Vn.prototype,e.toStringTag,{value:"TransformStream",configurable:!0});var zn=function(){function t(){throw new TypeError("Illegal constructor")}return Object.defineProperty(t.prototype,"desiredSize",{get:function(){if(!Wn(this))throw Xn("desiredSize");return an(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),t.prototype.enqueue=function(t){if(void 0===t&&(t=void 0),!Wn(this))throw Xn("enqueue");Kn(this,t)},t.prototype.error=function(t){if(void 0===t&&(t=void 0),!Wn(this))throw Xn("error");Bn(this._controlledTransformStream,t)},t.prototype.terminate=function(){if(!Wn(this))throw Xn("terminate");var t;rn((t=this._controlledTransformStream)._readable._readableStreamController),qn(t,new TypeError("TransformStream terminated"))},t}();function Wn(t){return!!i(t)&&!!Object.prototype.hasOwnProperty.call(t,"_controlledTransformStream")&&t instanceof zn}function Gn(t){t._transformAlgorithm=void 0,t._flushAlgorithm=void 0}function Kn(t,e){var n=t._controlledTransformStream,r=n._readable._readableStreamController;if(!un(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{on(r,e)}catch(i){throw qn(n,i),n._readable._storedError}(function(t){return!en(t)})(r)!==n._backpressure&&Hn(n,!0)}function $n(t,e){return v(t._transformAlgorithm(e),void 0,function(e){throw Bn(t._controlledTransformStream,e),e})}function Xn(t){return new TypeError("TransformStreamDefaultController.prototype."+t+" can only be used on a TransformStreamDefaultController")}function Qn(t){return new TypeError("TransformStream.prototype."+t+" can only be used on a TransformStream")}Object.defineProperties(zn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof e.toStringTag&&Object.defineProperty(zn.prototype,e.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),t.ByteLengthQueuingStrategy=Pn,t.CountQueuingStrategy=Dn,t.ReadableByteStreamController=mt,t.ReadableStream=vn,t.ReadableStreamBYOBReader=Gt,t.ReadableStreamBYOBRequest=gt,t.ReadableStreamDefaultController=Je,t.ReadableStreamDefaultReader=Z,t.TransformStream=Vn,t.TransformStreamDefaultController=zn,t.WritableStream=se,t.WritableStreamDefaultController=Ce,t.WritableStreamDefaultWriter=be,Object.defineProperty(t,"__esModule",{value:!0})}(e)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseSVGFactory=e.BaseStandardFontDataFactory=e.BaseCMapReaderFactory=e.BaseCanvasFactory=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function s(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,u,"next",t)}function u(t){s(o,r,i,a,u,"throw",t)}a(void 0)})}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}e.BaseCanvasFactory=function(){function t(){u(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}return l(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},{key:"_createCanvas",value:function(t,e){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}]),t}(),e.BaseCMapReaderFactory=function(){function t(e){var n=e.baseUrl,r=void 0===n?null:n,i=e.isCompressed,s=void 0!==i&&i;u(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=s}var e;return l(t,[{key:"fetch",value:(e=a(i.default.mark(function t(e){var n,r,s=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return t.abrupt("return",this._fetchData(r=this.baseUrl+n+(this.isCompressed?".bcmap":""),this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE).catch(function(t){throw new Error("Unable to load ".concat(s.isCompressed?"binary ":"","CMap at: ").concat(r))}));case 8:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t,e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),t}(),e.BaseStandardFontDataFactory=function(){function t(e){var n=e.baseUrl,r=void 0===n?null:n;u(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}var e;return l(t,[{key:"fetch",value:(e=a(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.filename,this.baseUrl){t.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){t.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),t.abrupt("return",this._fetchData(r).catch(function(t){throw new Error("Unable to load font data at: ".concat(r))}));case 7:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"_fetchData",value:function(t){(0,o.unreachable)("Abstract method `_fetchData` called.")}}]),t}(),e.BaseSVGFactory=function(){function t(){u(this,t),this.constructor===t&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}return l(t,[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");var n=this._createSVG("svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width","".concat(t,"px")),n.setAttribute("height","".concat(e,"px")),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),n}},{key:"createElement",value:function(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function(t){(0,o.unreachable)("Abstract method `_createSVG` called.")}}]),t}()},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(120),_node_utils=__w_pdfjs_require__(121),_annotation_storage=__w_pdfjs_require__(122),_canvas=__w_pdfjs_require__(123),_worker_options=__w_pdfjs_require__(125),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(126),_metadata=__w_pdfjs_require__(127),_optional_content_config=__w_pdfjs_require__(128),_transport_stream=__w_pdfjs_require__(129),_xfa_text=__w_pdfjs_require__(130);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function asyncGeneratorStep(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){asyncGeneratorStep(o,r,i,s,a,"next",t)}function a(t){asyncGeneratorStep(o,r,i,s,a,"throw",t)}s(void 0)})}}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(t){createPDFNetworkStream=t}function getDocument(t){var e,n=new PDFDocumentLoadingTask;if("string"==typeof t||t instanceof URL)e={url:t};else if((0,_util.isArrayBuffer)(t))e={data:t};else if(t instanceof PDFDataRangeTransport)e={range:t};else{if("object"!==_typeof(t))throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");e=t}var r=Object.create(null),i=null,o=null;for(var s in e){var a=e[s];switch(s){case"url":if("undefined"!=typeof window)try{r[s]=new URL(a,window.location).href;continue}catch(l){(0,_util.warn)('Cannot create valid URL: "'.concat(l,'".'))}else if("string"==typeof a||a instanceof URL){r[s]=a.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=a;continue;case"worker":o=a;continue;case"data":if(_is_node.isNodeJS&&"undefined"!=typeof Buffer&&a instanceof Buffer)r[s]=new Uint8Array(a);else{if(a instanceof Uint8Array)break;if("string"==typeof a)r[s]=(0,_util.stringToBytes)(a);else if("object"!==_typeof(a)||null===a||isNaN(a.length)){if(!(0,_util.isArrayBuffer)(a))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");r[s]=new Uint8Array(a)}else r[s]=new Uint8Array(a)}continue}r[s]=a}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,r.enableXfa=!0===r.enableXfa,("string"!=typeof r.docBaseUrl||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!=typeof r.useWorkerFetch&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!=typeof r.disableFontFace&&(r.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof r.useSystemFonts&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),void 0===r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!=typeof r.disableRange&&(r.disableRange=!1),"boolean"!=typeof r.disableStream&&(r.disableStream=!1),"boolean"!=typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){var u={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=u.port?PDFWorker.fromPort(u):new PDFWorker(u),n._worker=o}var c=n.docId;return o.promise.then(function(){if(n.destroyed)throw new Error("Loading aborted");var t=_fetchDocument(o,r,i,c),e=new Promise(function(t){var e;i?e=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(e=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),t(e)});return Promise.all([t,e]).then(function(t){var e=_slicedToArray(t,2),i=e[0],s=e[1];if(n.destroyed)throw new Error("Loading aborted");var a=new _message_handler.MessageHandler(c,i,o.port);a.postMessageTransfers=o.postMessageTransfers;var u=new WorkerTransport(a,n,s,r);n._transport=u,a.send("Ready",null)})}).catch(n._capability.reject),n}function _fetchDocument(t,e,n,r){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(_regenerator.default.mark(function t(e,n,r,i){var o;return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.destroyed){t.next=2;break}throw new Error("Worker was destroyed");case 2:return r&&(n.length=r.length,n.initialData=r.initialData,n.progressiveDone=r.progressiveDone,n.contentDispositionFilename=r.contentDispositionFilename),t.next=5,e.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.11.338",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:if(o=t.sent,!e.destroyed){t.next=8;break}throw new Error("Worker was destroyed");case 8:return t.abrupt("return",o);case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var PDFDocumentLoadingTask=function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d".concat(t.idCounters.doc++),this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}var e;return _createClass(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(e=_asyncToGenerator(_regenerator.default.mark(function t(){var e;return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.destroyed=!0,t.next=3,null===(e=this._transport)||void 0===e?void 0:e.destroy();case 3:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 5:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})}],[{key:"idCounters",get:function(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]),t}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(t,[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t,e)}catch(i){r.e(i)}finally{r.f()}}},{key:"onDataProgress",value:function(t,e){var n=this;this._readyCapability.promise.then(function(){var r,i=_createForOfIteratorHelper(n._progressListeners);try{for(i.s();!(r=i.n()).done;)(0,r.value)(t,e)}catch(o){i.e(o)}finally{i.f()}})}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then(function(){var n,r=_createForOfIteratorHelper(e._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(i){r.e(i)}finally{r.f()}})}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then(function(){var e,n=_createForOfIteratorHelper(t._progressiveDoneListeners);try{for(n.s();!(e=n.n()).done;)(0,e.value)()}catch(r){n.e(r)}finally{n.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),t}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function t(e,n){_classCallCheck(this,t),this._pdfInfo=e,this._transport=n,Object.defineProperty(this,"fingerprint",{get:function(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}})}return _createClass(t,[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}]),t}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,t),this._pageIndex=e,this._pageInfo=n,this._ownerDocument=i,this._transport=r,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}var e;return _createClass(t,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=t.rotation,r=void 0===n?this.rotate:n,i=t.offsetX,o=void 0===i?0:i,s=t.offsetY,a=void 0===s?0:s,u=t.dontFlip,c=void 0!==u&&u;return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:r,offsetX:o,offsetY:a,dontFlip:c})}},{key:"getAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?"display":e,r=this._transport.getRenderingIntent(n),i=this._annotationPromises.get(r.cacheKey);return i||(i=this._transport.getAnnotations(this._pageIndex,r.renderingIntent),this._annotationPromises.set(r.cacheKey,i),i=i.then(function(t){var e,n=_createForOfIteratorHelper(t);try{var r=function(){var t=e.value;void 0!==t.titleObj&&Object.defineProperty(t,"title",{get:function(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),t.titleObj.str}}),void 0!==t.contentsObj&&Object.defineProperty(t,"contents",{get:function(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),t.contentsObj.str}})};for(n.s();!(e=n.n()).done;)r()}catch(i){n.e(i)}finally{n.f()}return t})),i}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:(e=_asyncToGenerator(_regenerator.default.mark(function t(){var e;return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null);case 1:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"render",value:function(t){var e,n,r,i=this,o=t.canvasContext,s=t.viewport,a=t.intent,u=void 0===a?"display":a,c=t.annotationMode,l=void 0===c?_util.AnnotationMode.ENABLE:c,h=t.transform,d=void 0===h?null:h,f=t.imageLayer,p=void 0===f?null:f,g=t.canvasFactory,m=void 0===g?null:g,v=t.background,y=void 0===v?null:v,b=t.optionalContentConfigPromise,_=void 0===b?null:b;void 0!==(null===(e=arguments[0])||void 0===e?void 0:e.renderInteractiveForms)&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_FORMS)),void 0!==(null===(n=arguments[0])||void 0===n?void 0:n.includeAnnotationStorage)&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&l===_util.AnnotationMode.ENABLE&&(l=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");var w=this._transport.getRenderingIntent(u,l);this.pendingCleanup=!1,_||(_=this._transport.getOptionalContentConfig());var S=this._intentStates.get(w.cacheKey);S||(S=Object.create(null),this._intentStates.set(w.cacheKey,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);var k=m||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),A=!!(w.renderingIntent&_util.RenderingIntentFlag.PRINT);S.displayReadyCapability||(S.displayReadyCapability=(0,_util.createPromiseCapability)(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(w));var E=function(t){S.renderTasks.delete(C),(i.cleanupAfterRender||A)&&(i.pendingCleanup=!0),i._tryCleanup(),t?(C.capability.reject(t),i._abortOperatorList({intentState:S,reason:t instanceof Error?t:new Error(t)})):C.capability.resolve(),i._stats&&(i._stats.timeEnd("Rendering"),i._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:E,params:{canvasContext:o,viewport:s,transform:d,imageLayer:p,background:y},objs:this.objs,commonObjs:this.commonObjs,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:k,useRequestAnimationFrame:!A,pdfBug:this._pdfBug});((r=S).renderTasks||(r.renderTasks=new Set)).add(C);var T=C.task;return Promise.all([S.displayReadyCapability.promise,_]).then(function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];i.pendingCleanup?E():(i._stats&&i._stats.time("Rendering"),C.initializeGraphics({transparency:n,optionalContentConfig:r}),C.operatorListChanged())}).catch(E),T}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?"display":e,r=t.annotationMode,i=void 0===r?_util.AnnotationMode.ENABLE:r;function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(s))}var s,a,u=this._transport.getRenderingIntent(n,i,!0),c=this._intentStates.get(u.cacheKey);return c||(c=Object.create(null),this._intentStates.set(u.cacheKey,c)),c.opListReadCapability||((s=Object.create(null)).operatorListChanged=o,c.opListReadCapability=(0,_util.createPromiseCapability)(),((a=c).renderTasks||(a.renderTasks=new Set)).add(s),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(u)),c.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.normalizeWhitespace,n=void 0!==e&&e,r=t.disableCombineTextItems,i=void 0!==r&&r,o=t.includeMarkedContent,s=void 0!==o&&o,a=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==i,includeMarkedContent:!0===s},{highWaterMark:a,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(function(t){return _xfa_text.XfaText.textContent(t)});var e=this.streamTextContent(t);return new Promise(function(t,n){var r=e.getReader(),i={items:[],styles:Object.create(null)};!function e(){r.read().then(function(n){var r,o=n.value;n.done?t(i):(Object.assign(i.styles,o.styles),(r=i.items).push.apply(r,_toConsumableArray(o.items)),e())},n)}()})}},{key:"getStructTree",value:function(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var t,e=[],n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability){var i,o=_createForOfIteratorHelper(r.renderTasks);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.push(s.completed),s.cancel()}}catch(a){o.e(a)}finally{o.f()}}}}catch(a){n.e(a)}finally{n.f()}return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(t)}},{key:"_tryCleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var e,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(e=n.n()).done;){var r=e.value,i=r.renderTasks,o=r.operatorList;if(i.size>0||!o.lastChunk)return!1}}catch(s){n.e(s)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(t,e){var n=this._intentStates.get(e);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk;var i,o=_createForOfIteratorHelper(e.renderTasks);try{for(o.s();!(i=o.n()).done;)i.value.operatorListChanged()}catch(s){o.e(s)}finally{o.f()}t.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(t){var e=this,n=t.renderingIntent,r=t.cacheKey,i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:n&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),o=this._intentStates.get(r);o.streamReader=i,function t(){i.read().then(function(n){var r=n.value;n.done?o.streamReader=null:e._transport.destroyed||(e._renderPageChunk(r,o),t())},function(t){if(o.streamReader=null,!e._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;var n,r=_createForOfIteratorHelper(o.renderTasks);try{for(r.s();!(n=r.n()).done;)n.value.operatorListChanged()}catch(i){r.e(i)}finally{r.f()}e._tryCleanup()}if(o.displayReadyCapability)o.displayReadyCapability.reject(t);else{if(!o.opListReadCapability)throw t;o.opListReadCapability.reject(t)}}})}()}},{key:"_abortOperatorList",value:function(t){var e=this,n=t.intentState,r=t.reason,i=t.force;if(n.streamReader){if(void 0===i||!i){if(n.renderTasks.size>0)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout(function(){e._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(r.message)).catch(function(){}),n.streamReader=null,!this._transport.destroyed){var o,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(o=s.n()).done;){var a=_slicedToArray(o.value,2);if(a[1]===n){this._intentStates.delete(a[0]);break}}}catch(u){s.e(u)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),t}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function t(){_classCallCheck(this,t),this._listeners=[],this._deferred=Promise.resolve(void 0)}return _createClass(t,[{key:"postMessage",value:function(t,e){var n=this,r=new WeakMap,i={data:function t(n){if("function"==typeof n||"symbol"===_typeof(n)||n instanceof URL)throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(null==n?void 0:n.toString()));if("object"!==_typeof(n)||null===n)return n;if(r.has(n))return r.get(n);var i,o;if((i=n.buffer)&&(0,_util.isArrayBuffer)(i))return o=null!=e&&e.includes(i)?new n.constructor(i,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,o),o;if(n instanceof Map){o=new Map,r.set(n,o);var s,a=_createForOfIteratorHelper(n);try{for(a.s();!(s=a.n()).done;){var u=_slicedToArray(s.value,2);o.set(u[0],t(u[1]))}}catch(g){a.e(g)}finally{a.f()}return o}if(n instanceof Set){o=new Set,r.set(n,o);var c,l=_createForOfIteratorHelper(n);try{for(l.s();!(c=l.n()).done;)o.add(t(c.value))}catch(g){l.e(g)}finally{l.f()}return o}for(var h in o=Array.isArray(n)?[]:Object.create(null),r.set(n,o),n){for(var d,f=void 0,p=n;!(f=Object.getOwnPropertyDescriptor(p,h));)p=Object.getPrototypeOf(p);void 0!==f.value&&("function"!=typeof f.value||null!==(d=n.hasOwnProperty)&&void 0!==d&&d.call(n,h))&&(o[h]=t(f.value))}return o}(t)};this._deferred.then(function(){var t,e=_createForOfIteratorHelper(n._listeners);try{for(e.s();!(t=e.n()).done;)t.value.call(n,i)}catch(r){e.e(r)}finally{e.f()}})}},{key:"addEventListener",value:function(t,e){this._listeners.push(e)}},{key:"removeEventListener",value:function(t,e){var n=this._listeners.indexOf(e);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),t}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))){var _document,_document$currentScri,pdfjsFilePath=null===(_document=document)||void 0===_document||null===(_document$currentScri=_document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(t){var e='importScripts("'.concat(t,'");');return URL.createObjectURL(new Blob([e]))};var PDFWorker=function(){function PDFWorker(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.name,n=void 0===e?null:e,r=t.port,i=void 0===r?null:r,o=t.verbosity,s=void 0===o?(0,_util.getVerbosityLevel)():o;if(_classCallCheck(this,PDFWorker),i&&PDFWorker._workerPorts.has(i))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=n,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,i)return PDFWorker._workerPorts.set(i,this),void this._initializeFromPort(i);this._initialize()}return _createClass(PDFWorker,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(t){this._port=t,this._messageHandler=new _message_handler.MessageHandler("main","worker",t),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var t=this;if("undefined"!=typeof Worker&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var e=PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,e)||(e=PDFWorkerUtil.createCDNWrapper(new URL(e,window.location).href));var n=new Worker(e),r=new _message_handler.MessageHandler("main","worker",n),i=function(){n.removeEventListener("error",o),r.destroy(),n.terminate(),t.destroyed?t._readyCapability.reject(new Error("Worker was destroyed")):t._setupFakeWorker()},o=function(){t._webWorker||i()};n.addEventListener("error",o),r.on("test",function(e){n.removeEventListener("error",o),t.destroyed?i():e?(t._messageHandler=r,t._port=n,t._webWorker=n,e.supportTransfers||(t.postMessageTransfers=!1),t._readyCapability.resolve(),r.send("configure",{verbosity:t.verbosity})):(t._setupFakeWorker(),r.destroy(),n.terminate())}),r.on("ready",function(e){if(n.removeEventListener("error",o),t.destroyed)i();else try{s()}catch(r){t._setupFakeWorker()}});var s=function(){var e=new Uint8Array([t.postMessageTransfers?255:0]);try{r.send("test",e,[e.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),e[0]=0,r.send("test",e)}};return void s()}catch(a){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var t=this;PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(function(e){if(t.destroyed)t._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;t._port=n;var r="fake".concat(PDFWorkerUtil.fakeWorkerId++),i=new _message_handler.MessageHandler(r+"_worker",r,n);e.setup(i,n);var o=new _message_handler.MessageHandler(r,r+"_worker",n);t._messageHandler=o,t._readyCapability.resolve(),o.send("configure",{verbosity:t.verbosity})}}).catch(function(e){t._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"_workerPorts",get:function(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function(t){if(null==t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(t.port)?this._workerPorts.get(t.port):new PDFWorker(t)}},{key:"workerSrc",get:function(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function(){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(e){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this10=this,loader=function(){var _ref15=_asyncToGenerator(_regenerator.default.mark(function _callee3(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=_this10._mainThreadWorkerMessageHandler,!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_this10.workerSrc),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_this10.workerSrc);case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}},_callee3)}));return function(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]),PDFWorker}();exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var WorkerTransport=function(){function t(e,n,r,i){_classCallCheck(this,t),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}var e;return _createClass(t,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"getRenderingIntent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_util.AnnotationMode.ENABLE,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=_util.RenderingIntentFlag.DISPLAY,i="";switch(t){case"any":r=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":r=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case _util.AnnotationMode.DISABLE:r+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:r+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:r+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,i=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(e))}return n&&(r+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:r,cacheKey:"".concat(r,"_").concat(i)}}},{key:"destroy",value:function(){var t=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var e,n=[],r=_createForOfIteratorHelper(this.pageCache);try{for(r.s();!(e=r.n()).done;){var i=e.value;i&&n.push(i._destroy())}}catch(s){r.e(s)}finally{r.f()}this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var o=this.messageHandler.sendWithPromise("Terminate",null);return n.push(o),Promise.all(n).then(function(){t.commonObjs.clear(),t.fontLoader.clear(),t._getFieldObjectsPromise=null,t._hasJSActionsPromise=null,t._networkStream&&t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),t.messageHandler&&(t.messageHandler.destroy(),t.messageHandler=null),t.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,n=this.loadingTask;e.on("GetReader",function(e,n){(0,_util.assert)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then(function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))}).catch(function(t){n.error(t)})},n.onCancel=function(e){t._fullReader.cancel(e),n.ready.catch(function(e){if(!t.destroyed)throw e})}}),e.on("ReaderHeadersReady",function(e){var r=(0,_util.createPromiseCapability)(),i=t._fullReader;return i.headersReady.then(function(){i.isStreamingSupported&&i.isRangeSupported||(t._lastProgress&&n.onProgress&&n.onProgress(t._lastProgress),i.onProgress=function(t){n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}),r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})},r.reject),r.promise}),e.on("GetRangeReader",function(e,n){(0,_util.assert)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=t._networkStream.getRangeReader(e.begin,e.end);r?(n.onPull=function(){r.read().then(function(t){var e=t.value;t.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(e),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))}).catch(function(t){n.error(t)})},n.onCancel=function(e){r.cancel(e),n.ready.catch(function(e){if(!t.destroyed)throw e})}):n.close()}),e.on("GetDoc",function(e){var r=e.pdfInfo;t._numPages=r.numPages,t._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new PDFDocumentProxy(r,t))}),e.on("DocException",function(t){var e;switch(t.name){case"PasswordException":e=new _util.PasswordException(t.message,t.code);break;case"InvalidPDFException":e=new _util.InvalidPDFException(t.message);break;case"MissingPDFException":e=new _util.MissingPDFException(t.message);break;case"UnexpectedResponseException":e=new _util.UnexpectedResponseException(t.message,t.status);break;case"UnknownErrorException":e=new _util.UnknownErrorException(t.message,t.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(e)}),e.on("PasswordRequest",function(e){if(t._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword(function(e){t._passwordCapability.resolve({password:e})},e.code)}catch(r){t._passwordCapability.reject(r)}else t._passwordCapability.reject(new _util.PasswordException(e.message,e.code));return t._passwordCapability.promise}),e.on("DataLoaded",function(e){n.onProgress&&n.onProgress({loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",function(e){t.destroyed||t.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",function(n){var r;if(!t.destroyed){var i=_slicedToArray(n,3),o=i[0],s=i[1],a=i[2];if(!t.commonObjs.has(o))switch(s){case"Font":var u=t._params;if("error"in a){var c=a.error;(0,_util.warn)("Error during font loading: ".concat(c)),t.commonObjs.resolve(o,c);break}var l=null;u.pdfBug&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled&&(l={registerFont:function(t,e){globalThis.FontInspector.fontAdded(t,e)}});var h=new _font_loader.FontFaceObject(a,{isEvalSupported:u.isEvalSupported,disableFontFace:u.disableFontFace,ignoreErrors:u.ignoreErrors,onUnsupportedFeature:t._onUnsupportedFeature.bind(t),fontRegistry:l});t.fontLoader.bind(h).catch(function(t){return e.sendWithPromise("FontFallback",{id:o})}).finally(function(){!u.fontExtraProperties&&h.data&&(h.data=null),t.commonObjs.resolve(o,h)});break;case"FontPath":case"Image":t.commonObjs.resolve(o,a);break;default:throw new Error("Got unknown common object type ".concat(s))}}}),e.on("obj",function(e){var n;if(!t.destroyed){var r=_slicedToArray(e,4),i=r[0],o=r[2],s=r[3],a=t.pageCache[r[1]];if(!a.objs.has(i))switch(o){case"Image":a.objs.resolve(i,s),(null==s||null===(n=s.data)||void 0===n?void 0:n.length)>8e6&&(a.cleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(i,s);break;default:throw new Error("Got unknown object type ".concat(o))}}}),e.on("DocProgress",function(e){t.destroyed||n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.CMapReaderFactory?t.CMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}),e.on("FetchStandardFontData",function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.StandardFontDataFactory?t.StandardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))})}},{key:"_onUnsupportedFeature",value:function(t){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=t-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(t){if(e.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,t,e,e._params.ownerDocument,e._params.pdfBug);return e.pageCache[n]=r,r});return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"saveDocument",value:function(){var t,e,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null}).finally(function(){n.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(t){return new _optional_content_config.OptionalContentConfig(t)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var n,r,i,o;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:null!==(n=null===(r=t._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(o=t._fullReader)||void 0===o?void 0:o.contentLength)&&void 0!==i?i:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:(e=_asyncToGenerator(_regenerator.default.mark(function t(){var e,n,r,i,o=arguments;return _regenerator.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]&&o[0],t.next=3,this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){t.next=5;break}return t.abrupt("return");case 5:n=0,r=this.pageCache.length;case 6:if(!(n<r)){t.next=16;break}if(i=this.pageCache[n]){t.next=10;break}return t.abrupt("continue",13);case 10:if(i.cleanup()){t.next=13;break}throw new Error("startCleanup: Page ".concat(n+1," is currently rendering."));case 13:n++,t.next=6;break;case 16:this.commonObjs.clear(),e||this.fontLoader.clear(),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null;case 20:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"loadingParams",get:function(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]),t}(),PDFObjects=function(){function t(){_classCallCheck(this,t),this._objs=Object.create(null)}return _createClass(t,[{key:"_ensureObj",value:function(t){return this._objs[t]?this._objs[t]:this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e)return this._ensureObj(t).capability.promise.then(e),null;var n=this._objs[t];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return n.data}},{key:"has",value:function(t){var e=this._objs[t];return(null==e?void 0:e.resolved)||!1}},{key:"resolve",value:function(t,e){var n=this._ensureObj(t);n.resolved=!0,n.data=e,n.capability.resolve(e)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),t}(),RenderTask=function(){function t(e){_classCallCheck(this,t),this._internalRenderTask=e,this.onContinue=null}return _createClass(t,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),t}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function t(e){var n=e.callback,r=e.params,i=e.objs,o=e.commonObjs,s=e.operatorList,a=e.pageIndex,u=e.canvasFactory,c=e.useRequestAnimationFrame,l=void 0!==c&&c,h=e.pdfBug,d=void 0!==h&&h;_classCallCheck(this,t),this.callback=n,this.params=r,this.objs=i,this.commonObjs=o,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=a,this.canvasFactory=u,this._pdfBug=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}var e;return _createClass(t,[{key:"completed",get:function(){return this.capability.promise.catch(function(){})}},{key:"initializeGraphics",value:function(e){var n,r=e.transparency,i=void 0!==r&&r,o=e.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(t.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");t.canvasInUse.add(this._canvas)}this._pdfBug&&null!==(n=globalThis.StepperManager)&&void 0!==n&&n.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var s=this.params,a=s.viewport,u=s.transform,c=s.background;this.gfx=new _canvas.CanvasGraphics(s.canvasContext,this.commonObjs,this.objs,this.canvasFactory,s.imageLayer,o),this.gfx.beginDrawing({transform:u,viewport:a,transparency:i,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&t.canvasInUse.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){t._nextBound().catch(t._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(e=_asyncToGenerator(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.cancelled){e.next=2;break}return e.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&t.canvasInUse.delete(this._canvas),this.callback()));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})}],[{key:"canvasInUse",get:function(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]),t}(),version="2.11.338";exports.version=version;var build="dedff3c98";exports.build=build},(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},s=n(4);function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var m,v=function(){function t(e){var n=e.docId,r=e.onUnsupportedFeature,i=e.ownerDocument,o=void 0===i?globalThis.document:i;f(this,t),this.constructor===t&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=o,this.nativeFontFaces=[],this.styleElement=null}var e,n;return g(t,[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}},{key:"insertRule",value:function(t){var e=this.styleElement;e||((e=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));var n=e.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function(){var t,e=h(this.nativeFontFaces);try{for(e.s();!(t=e.n()).done;)this._document.fonts.delete(t.value)}catch(n){e.e(n)}finally{e.f()}this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(e=o.default.mark(function t(e){var n,r,i=this;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.attached&&!e.missingFile){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!this.isFontLoadingAPISupported){t.next=19;break}if(!(n=e.createNativeFontFace())){t.next=18;break}return this.addNativeFontFace(n),t.prev=7,t.next=10,n.loaded;case 10:t.next=18;break;case 12:throw t.prev=12,t.t0=t.catch(7),this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)("Failed to load font '".concat(n.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 18:return t.abrupt("return");case 19:if(!(r=e.createFontFaceRule())){t.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){t.next=24;break}return t.abrupt("return");case 24:return t.next=26,new Promise(function(t){var n=i._queueLoadingCallback(t);i._prepareFontLoadEvent([r],[e],n)});case 26:case"end":return t.stop()}},t,this,[[7,12]])}),n=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(t){l(o,r,i,s,a,"next",t)}function a(t){l(o,r,i,s,a,"throw",t)}s(void 0)})},function(t){return n.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(t){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var t,e=!(null===(t=this._document)||void 0===t||!t.fonts);return(0,s.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(t,e,n){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),t}();e.FontLoader=m,e.FontLoader=m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(i,t);var e,n,r=(e=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=c(e);if(n){var i=c(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return u(this,t)});function i(t){var e;return f(this,i),(e=r.call(this,t)).loadingContext={requests:[],nextRequestId:0},e.loadTestFontId=0,e}return g(i,[{key:"isSyncFontLoadingSupported",get:function(){var t=!1;if("undefined"==typeof navigator)t=!0;else{var e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==e?void 0:e[1])>=14&&(t=!0)}return(0,s.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_queueLoadingCallback",value:function(t){var e=this.loadingContext,n={id:"pdfjs-font-loading-".concat(e.nextRequestId++),done:!1,complete:function(){for((0,s.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.requests.length>0&&e.requests[0].done;){var t=e.requests.shift();setTimeout(t.callback,0)}},callback:t};return e.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(t,e,n){var r,i,o=this;function a(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function u(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}var c=this._document.createElement("canvas");c.width=1,c.height=1;var l=c.getContext("2d"),d=0,f="lt".concat(Date.now()).concat(this.loadTestFontId++),p=this._loadTestFont,g=1482184792,m=a(p=u(p,976,f.length,f),16);for(r=0,i=f.length-3;r<i;r+=4)m=m-g+a(f,r)|0;r<f.length&&(m=m-g+a(f+"XXX",r)|0),p=u(p,16,4,(0,s.string32)(m));var v="url(data:font/opentype;base64,".concat(btoa(p),");"),y='@font-face {font-family:"'.concat(f,'";src:').concat(v,"}");this.insertRule(y);var b,_=[],w=h(e);try{for(w.s();!(b=w.n()).done;)_.push(b.value.loadedName)}catch(T){w.e(T)}finally{w.f()}_.push(f);var S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(var k=0,A=_;k<A.length;k++){var E=A[k],C=this._document.createElement("span");C.textContent="Hi",C.style.fontFamily=E,S.appendChild(C)}this._document.body.appendChild(S),function t(e,n){if(++d>30)return(0,s.warn)("Load test font never loaded."),void n();l.font="30px "+e,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(f,function(){o._document.body.removeChild(S),n.complete()})}}]),i}(v),e.FontFaceObject=function(){function t(e,n){var r=n.isEvalSupported,i=void 0===r||r,o=n.disableFontFace,s=void 0!==o&&o,a=n.ignoreErrors,u=void 0!==a&&a,c=n.onUnsupportedFeature,l=n.fontRegistry,h=void 0===l?null:l;for(var d in f(this,t),this.compiledGlyphs=Object.create(null),e)this[d]=e[d];this.isEvalSupported=!1!==i,this.disableFontFace=!0===s,this.ignoreErrors=!0===u,this._onUnsupportedFeature=c,this.fontRegistry=h}return g(t,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var t;if(this.cssFontInfo){var e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var t,e=(0,s.bytesToString)(this.data),n="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");");if(this.cssFontInfo){var r="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(r+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),t='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(r,"src:").concat(n,"}")}else t='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(n,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,n),t}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var n;try{n=t.get(this.loadedName+"_path_"+e)}catch(c){if(!this.ignoreErrors)throw c;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)('getPathGenerator - ignoring character: "'.concat(c,'".')),this.compiledGlyphs[e]=function(t,e){}}if(this.isEvalSupported&&s.IsEvalSupportedCached.value){var r,i=[],o=h(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,u=void 0!==a.args?a.args.join(","):"";i.push("c.",a.cmd,"(",u,");\n")}}catch(l){o.e(l)}finally{o.f()}return this.compiledGlyphs[e]=new Function("c","size",i.join(""))}return this.compiledGlyphs[e]=function(t,e){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;"scale"===o.cmd&&(o.args=[e,-e]),t[o.cmd].apply(t,o.args)}}catch(l){i.e(l)}finally{i.f()}}}}]),t}()},(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCMapReaderFactory=e.NodeCanvasFactory=void 0;var i=n(118),o=n(6),s=n(4);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var g=function t(){p(this,t),(0,s.unreachable)("Not implemented: NodeCanvasFactory")};e.NodeCanvasFactory=g;var m=function t(){p(this,t),(0,s.unreachable)("Not implemented: NodeCMapReaderFactory")};e.NodeCMapReaderFactory=m;var v=function t(){p(this,t),(0,s.unreachable)("Not implemented: NodeStandardFontDataFactory")};if(e.NodeStandardFontDataFactory=v,o.isNodeJS){var y=function(t){return new Promise(function(e,n){__webpack_require__(767).readFile(t,function(t,r){!t&&r?e(new Uint8Array(r)):n(new Error(t))})})};e.NodeCanvasFactory=g=function(t){c(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return u(n,[{key:"_createCanvas",value:function(t,e){return __webpack_require__(601).createCanvas(t,e)}}]),n}(i.BaseCanvasFactory),e.NodeCMapReaderFactory=m=function(t){c(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return u(n,[{key:"_fetchData",value:function(t,e){return y(t).then(function(t){return{cMapData:t,compressionType:e}})}}]),n}(i.BaseCMapReaderFactory),e.NodeStandardFontDataFactory=v=function(t){c(n,t);var e=h(n);function n(){return p(this,n),e.apply(this,arguments)}return u(n,[{key:"_fetchData",value:function(t){return y(t)}}]),n}(i.BaseStandardFontDataFactory)}},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationStorage=void 0;var r=n(4);function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.AnnotationStorage=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}var e;return(e=[{key:"getValue",value:function(t,e){var n=this._storage.get(t);return void 0===n?e:Object.assign(e,n)}},{key:"setValue",value:function(t,e){var n,r=this._storage.get(t),o=!1;if(void 0!==r)for(var s=0,a=Object.entries(e);s<a.length;s++){var u=(2,function(t){if(Array.isArray(t))return t}(n=a[s])||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),2!==o.length);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(n)||function(t,e){if(t){if("string"==typeof t)return i(t,2);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,2):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=u[0],l=u[1];r[c]!==l&&(o=!0,r[c]=l)}else o=!0,this._storage.set(t,e);o&&(this._timeStamp=Date.now(),this._setModified())}},{key:"getAll",value:function(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"serializable",get:function(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function(){return this._timeStamp.toString()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=n(4),i=n(124),o=n(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var p=4096,g=16;function m(t){if(!t.mozCurrentTransform){t._originalSave=t.save,t._originalRestore=t.restore,t._originalRotate=t.rotate,t._originalScale=t.scale,t._originalTranslate=t.translate,t._originalTransform=t.transform,t._originalSetTransform=t.setTransform,t._originalResetTransform=t.resetTransform,t._transformMatrix=t._transformMatrix||[1,0,0,1,0,0],t._transformStack=[];try{var e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"lineWidth");t._setLineWidth=e.set,t._getLineWidth=e.get,Object.defineProperty(t,"lineWidth",{set:function(t){this._setLineWidth(1.000001*t)},get:function(){return this._getLineWidth()}})}catch(n){}Object.defineProperty(t,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(t,"mozCurrentTransformInverse",{get:function(){var t=h(this._transformMatrix,6),e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],s=t[5],a=e*i-n*r,u=n*r-e*i;return[i/a,n/u,r/u,e/a,(i*o-r*s)/u,(n*o-e*s)/a]}}),t.save=function(){var t=this._transformMatrix;this._transformStack.push(t),this._transformMatrix=t.slice(0,6),this._originalSave()},t.restore=function(){var t=this._transformStack.pop();t&&(this._transformMatrix=t,this._originalRestore())},t.translate=function(t,e){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*e+n[4],n[5]=n[1]*t+n[3]*e+n[5],this._originalTranslate(t,e)},t.scale=function(t,e){var n=this._transformMatrix;n[0]*=t,n[1]*=t,n[2]*=e,n[3]*=e,this._originalScale(t,e)},t.transform=function(e,n,r,i,o,s){var a=this._transformMatrix;this._transformMatrix=[a[0]*e+a[2]*n,a[1]*e+a[3]*n,a[0]*r+a[2]*i,a[1]*r+a[3]*i,a[0]*o+a[2]*s+a[4],a[1]*o+a[3]*s+a[5]],t._originalTransform(e,n,r,i,o,s)},t.setTransform=function(e,n,r,i,o,s){this._transformMatrix=[e,n,r,i,o,s],t._originalSetTransform(e,n,r,i,o,s)},t.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],t._originalResetTransform()},t.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this._transformMatrix;this._transformMatrix=[r[0]*e+r[2]*n,r[1]*e+r[3]*n,r[0]*-n+r[2]*e,r[1]*-n+r[3]*e,r[4],r[5]],this._originalRotate(t)}}}var v=function(){function t(e){u(this,t),this.canvasFactory=e,this.cache=Object.create(null)}return l(t,[{key:"getCanvas",value:function(t,e,n,r){var i;return void 0!==this.cache[t]?(this.canvasFactory.reset(i=this.cache[t],e,n),i.context.setTransform(1,0,0,1,0,0)):(i=this.canvasFactory.create(e,n),this.cache[t]=i),r&&m(i.context),i}},{key:"clear",value:function(){for(var t in this.cache)this.canvasFactory.destroy(this.cache[t]),delete this.cache[t]}}]),t}(),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u(this,t),this._cache=new Map,this._maxSize=e}return l(t,[{key:"has",value:function(t){return this._cache.has(t)}},{key:"get",value:function(t){if(this._cache.has(t)){var e=this._cache.get(t);this._cache.delete(t),this._cache.set(t,e)}return this._cache.get(t)}},{key:"set",value:function(t,e){this._maxSize<=0||(this._cache.size+1>this._maxSize&&this._cache.delete(this._cache.keys().next().value),this._cache.set(t,e))}},{key:"clear",value:function(){this._cache.clear()}}]),t}(),b=function(){function t(){u(this,t),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return l(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}();function _(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var i,o,s,a,u,c,l,h,d,f=e.height,p=e.width,m=f%g,v=(f-m)/g,y=0===m?v:v+1,b=t.createImageData(p,g),_=0,w=e.data,S=b.data;if(n)switch(n.length){case 1:c=n[0],l=n[0],h=n[0],d=n[0];break;case 4:c=n[0],l=n[1],h=n[2],d=n[3]}if(e.kind===r.ImageKind.GRAYSCALE_1BPP){var k=w.byteLength,A=new Uint32Array(S.buffer,0,S.byteLength>>2),E=A.length,C=p+7>>3,T=4294967295,x=r.IsLittleEndianCached.value?4278190080:255;if(d&&255===d[0]&&0===d[255]){var P=[x,T];T=P[0],x=P[1]}for(o=0;o<y;o++){for(a=o<v?g:m,i=0,s=0;s<a;s++){for(var I=k-_,O=0,R=I>C?p:8*I-7,D=-8&R,N=0,L=0;O<D;O+=8)L=w[_++],A[i++]=128&L?T:x,A[i++]=64&L?T:x,A[i++]=32&L?T:x,A[i++]=16&L?T:x,A[i++]=8&L?T:x,A[i++]=4&L?T:x,A[i++]=2&L?T:x,A[i++]=1&L?T:x;for(;O<R;O++)0===N&&(L=w[_++],N=128),A[i++]=L&N?T:x,N>>=1}for(;i<E;)A[i++]=0;t.putImageData(b,0,o*g)}}else if(e.kind===r.ImageKind.RGBA_32BPP){var M=!!(c||l||h);for(s=0,u=p*g*4,o=0;o<v;o++){if(S.set(w.subarray(_,_+u)),_+=u,M)for(var F=0;F<u;F+=4)c&&(S[F+0]=c[S[F+0]]),l&&(S[F+1]=l[S[F+1]]),h&&(S[F+2]=h[S[F+2]]);t.putImageData(b,0,s),s+=g}if(o<y){if(S.set(w.subarray(_,_+(u=p*m*4))),M)for(var j=0;j<u;j+=4)c&&(S[j+0]=c[S[j+0]]),l&&(S[j+1]=l[S[j+1]]),h&&(S[j+2]=h[S[j+2]]);t.putImageData(b,0,s)}}else{if(e.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));var V=!!(c||l||h);for(u=p*(a=g),o=0;o<y;o++){for(o>=v&&(u=p*(a=m)),i=0,s=u;s--;)S[i++]=w[_++],S[i++]=w[_++],S[i++]=w[_++],S[i++]=255;if(V)for(var U=0;U<i;U+=4)c&&(S[U+0]=c[S[U+0]]),l&&(S[U+1]=l[S[U+1]]),h&&(S[U+2]=h[S[U+2]]);t.putImageData(b,0,o*g)}}}}function w(t,e){for(var n=e.height,r=e.width,i=n%g,o=(n-i)/g,s=0===i?o:o+1,a=t.createImageData(r,g),u=0,c=e.data,l=a.data,h=0;h<s;h++){for(var d=h<o?g:i,f=3,p=0;p<d;p++)for(var m=void 0,v=0,y=0;y<r;y++)v||(m=c[u++],v=128),l[f]=m&v?0:255,f+=4,v>>=1;t.putImageData(a,0,h*g)}}function S(t,e){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,i=n.length;r<i;r++){var o=n[r];void 0!==t[o]&&(e[o]=t[o])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function k(t){t.strokeStyle="#000000",t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0)}function A(t,e,n,r){for(var i=t.length,o=3;o<i;o+=4){var s=t[o];if(0===s)t[o-3]=e,t[o-2]=n,t[o-1]=r;else if(s<255){var a=255-s;t[o-3]=t[o-3]*s+e*a>>8,t[o-2]=t[o-2]*s+n*a>>8,t[o-1]=t[o-1]*s+r*a>>8}}}function E(t,e,n){for(var r=t.length,i=3;i<r;i+=4)e[i]=e[i]*(n?n[t[i]]:t[i])*.00392156862745098|0}function C(t,e,n){for(var r=t.length,i=3;i<r;i+=4){var o=77*t[i-3]+152*t[i-2]+28*t[i-1];e[i]=n?e[i]*n[o>>8]>>8:e[i]*o>>16}}function T(t,e,n){var r=e.canvas,i=e.context;t.setTransform(e.scaleX,0,0,e.scaleY,e.offsetX,e.offsetY),function(t,e,n,r,i,o,s){var a,u=!!o,c=u?o[0]:0,l=u?o[1]:0,h=u?o[2]:0;a="Luminosity"===i?C:E;for(var d=Math.min(r,Math.ceil(1048576/n)),f=0;f<r;f+=d){var p=Math.min(d,r-f),g=t.getImageData(0,f,n,p),m=e.getImageData(0,f,n,p);u&&A(g.data,c,l,h),a(g.data,m.data,s),t.putImageData(m,0,f)}}(i,n,r.width,r.height,e.subtype,e.backdrop,e.transferMap),t.drawImage(r,0,0)}function x(t,e){var n=r.Util.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);var i=Math.fround((globalThis.devicePixelRatio||1)*o.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==e?e:n[0]<=i||n[1]<=i}var P=["butt","round","square"],I=["miter","round","bevel"],O={},R={},D=function(){function t(e,n,r,i,o,s){u(this,t),this.ctx=e,this.current=new b,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.imageLayer=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=s,this.cachedCanvases=new v(this.canvasFactory),this.cachedCanvasPatterns=new y(2),this.cachedPatterns=new Map,e&&m(e),this._cachedGetSinglePixelWidth=null}return l(t,[{key:"beginDrawing",value:function(t){var e=t.transform,n=t.viewport,r=t.transparency,i=void 0!==r&&r,o=t.background,s=void 0===o?null:o,a=this.ctx.canvas.width,u=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=s||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,a,u),this.ctx.restore(),i){var c=this.cachedCanvases.getCanvas("transparent",a,u,!0);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),k(this.ctx),e&&this.ctx.transform.apply(this.ctx,e),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}},{key:"executeOperatorList",value:function(t,e,n,i){var o=t.argsArray,s=t.fnArray,u=e||0,c=o.length;if(c===u)return u;for(var l,h=c-u>10&&"function"==typeof n,d=h?Date.now()+15:0,f=0,p=this.commonObjs,g=this.objs;;){if(void 0!==i&&u===i.nextBreakPoint)return i.breakIt(u,n),u;if((l=s[u])!==r.OPS.dependency)this[l].apply(this,o[u]);else{var m,v=a(o[u]);try{for(v.s();!(m=v.n()).done;){var y=m.value,b=y.startsWith("g_")?p:g;if(!b.has(y))return b.get(y,n),u}}catch(_){v.e(_)}finally{v.f()}}if(++u===c)return u;if(h&&++f>10){if(Date.now()>d)return n(),u;f=0}}}},{key:"endDrawing",value:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedCanvasPatterns.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}},{key:"_scaleImage",value:function(t,e){for(var n,r,i=t.width,o=t.height,s=Math.max(Math.hypot(e[0],e[1]),1),a=Math.max(Math.hypot(e[2],e[3]),1),u=i,c=o,l="prescale1";s>2&&u>1||a>2&&c>1;){var h=u,d=c;s>2&&u>1&&(s/=u/(h=Math.ceil(u/2))),a>2&&c>1&&(a/=c/(d=Math.ceil(c/2))),(r=(n=this.cachedCanvases.getCanvas(l,h,d)).context).clearRect(0,0,h,d),r.drawImage(t,0,0,u,c,0,0,h,d),t=n.canvas,u=h,c=d,l="prescale1"===l?"prescale2":"prescale1"}return{img:t,paintWidth:u,paintHeight:c}}},{key:"_createMaskCanvas",value:function(t){var e=this.ctx,n=t.width,i=t.height,o=this.current.fillColor,s=this.current.patternFill,a=this.cachedCanvases.getCanvas("maskCanvas",n,i);w(a.context,t);var u=r.Util.transform(e.mozCurrentTransform,[1/n,0,0,-1/i,0,0]);u=r.Util.transform(u,[1,0,0,1,0,-i]);var c=r.Util.applyTransform([0,0],u),l=r.Util.applyTransform([n,i],u),h=r.Util.normalizeRect([c[0],c[1],l[0],l[1]]),d=Math.ceil(h[2]-h[0]),f=Math.ceil(h[3]-h[1]),p=this.cachedCanvases.getCanvas("fillCanvas",d,f,!0),g=p.context,m=Math.min(c[0],l[0]),v=Math.min(c[1],l[1]);g.translate(-m,-v),g.transform.apply(g,u);var y=this._scaleImage(a.canvas,g.mozCurrentTransformInverse);g.imageSmoothingEnabled=x(g.mozCurrentTransform,t.interpolate),g.drawImage(y.img,0,0,y.img.width,y.img.height,0,0,n,i),g.globalCompositeOperation="source-in";var b=r.Util.transform(g.mozCurrentTransformInverse,[1,0,0,1,-m,-v]);return g.fillStyle=s?o.getPattern(e,this,b,!1):o,g.fillRect(0,0,n,i),{canvas:p.canvas,offsetX:Math.round(m),offsetY:Math.round(v)}}},{key:"setLineWidth",value:function(t){this.current.lineWidth=t,this.ctx.lineWidth=t}},{key:"setLineCap",value:function(t){this.ctx.lineCap=P[t]}},{key:"setLineJoin",value:function(t){this.ctx.lineJoin=I[t]}},{key:"setMiterLimit",value:function(t){this.ctx.miterLimit=t}},{key:"setDash",value:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e],i=r[1];switch(r[0]){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=i?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=i}}}},{key:"beginSMaskGroup",value:function(){var t=this.current.activeSMask,e=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,t.canvas.width,t.canvas.height,!0),n=this.ctx,r=n.mozCurrentTransform;this.ctx.save();var i=e.context;i.scale(1/t.scaleX,1/t.scaleY),i.translate(-t.offsetX,-t.offsetY),i.transform.apply(i,r),t.startTransformInverse=i.mozCurrentTransformInverse,S(n,i),this.ctx=i,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}},{key:"suspendSMaskGroup",value:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),T(this.ctx,this.current.activeSMask,t),this.ctx.restore(),this.ctx.save(),S(t,this.ctx),this.current.resumeSMaskCtx=t;var e=r.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e),t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.restore()}},{key:"resumeSMaskGroup",value:function(){var t=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(t),this.groupLevel++}},{key:"endSMaskGroup",value:function(){var t=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),T(this.ctx,this.current.activeSMask,t),this.ctx.restore(),S(t,this.ctx);var e=r.Util.transform(this.current.activeSMask.startTransformInverse,t.mozCurrentTransform);this.ctx.transform.apply(this.ctx,e)}},{key:"save",value:function(){this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone(),this.current.resumeSMaskCtx=null}},{key:"restore",value:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}},{key:"transform",value:function(t,e,n,r,i,o){this.ctx.transform(t,e,n,r,i,o),this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(t,e){for(var n=this.ctx,i=this.current,o=i.x,s=i.y,a=0,u=0,c=t.length;a<c;a++)switch(0|t[a]){case r.OPS.rectangle:o=e[u++],s=e[u++];var l=e[u++],h=e[u++],d=o+l,f=s+h;n.moveTo(o,s),0===l||0===h?n.lineTo(d,f):(n.lineTo(d,s),n.lineTo(d,f),n.lineTo(o,f)),n.closePath();break;case r.OPS.moveTo:o=e[u++],s=e[u++],n.moveTo(o,s);break;case r.OPS.lineTo:o=e[u++],s=e[u++],n.lineTo(o,s);break;case r.OPS.curveTo:n.bezierCurveTo(e[u],e[u+1],e[u+2],e[u+3],o=e[u+4],s=e[u+5]),u+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(o,s,e[u],e[u+1],e[u+2],e[u+3]),o=e[u+2],s=e[u+3],u+=4;break;case r.OPS.curveTo3:n.bezierCurveTo(e[u],e[u+1],o=e[u+2],s=e[u+3],o,s),u+=4;break;case r.OPS.closePath:n.closePath()}i.setCurrentPoint(o,s)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.strokeColor;if(e.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===s(n)&&null!=n&&n.getPattern){var r=this.getSinglePixelWidth();e.save(),e.strokeStyle=n.getPattern(e,this,e.mozCurrentTransformInverse),e.lineWidth=Math.max(r,this.current.lineWidth),e.stroke(),e.restore()}else{var i=this.getSinglePixelWidth();i<0&&-i>=this.current.lineWidth?(e.save(),e.resetTransform(),e.lineWidth=Math.round(this._combinedScaleFactor),e.stroke(),e.restore()):(e.lineWidth=Math.max(i,this.current.lineWidth),e.stroke())}t&&this.consumePath(),e.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(t){t=void 0===t||t;var e=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,e.mozCurrentTransformInverse),r=!0),this.contentVisible&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath()}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=O}},{key:"eoClip",value:function(){this.pendingClip=R}},{key:"beginText",value:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();for(var n=0;n<t.length;n++){var r=t[n];e.setTransform.apply(e,r.transform),e.translate(r.x,r.y),r.addToPath(e,r.fontSize)}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setFont",value:function(t,e){var n=this.commonObjs.get(t),i=this.current;if(!n)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=e,!n.isType3Font){var o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal",a='"'.concat(n.loadedName||"sans-serif",'", ').concat(n.fallbackName),u=e;e<16?u=16:e>100&&(u=100),this.current.fontSizeScale=e/u,this.ctx.font="".concat(s," ").concat(o," ").concat(u,"px ").concat(a)}}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"moveText",value:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){this.current.textMatrix=[t,e,n,r,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(t,e,n,i,o){var s,a=this.ctx,u=this.current,c=u.font,l=u.textRenderingMode,h=u.fontSize/u.fontSizeScale,d=l&r.TextRenderingMode.FILL_STROKE_MASK,f=!!(l&r.TextRenderingMode.ADD_TO_PATH_FLAG),p=u.patternFill&&!c.missingFile;(c.disableFontFace||f||p)&&(s=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||p?(a.save(),a.translate(e,n),a.beginPath(),s(a,h),i&&a.setTransform.apply(a,i),d!==r.TextRenderingMode.FILL&&d!==r.TextRenderingMode.FILL_STROKE||a.fill(),d!==r.TextRenderingMode.STROKE&&d!==r.TextRenderingMode.FILL_STROKE||(o&&(a.resetTransform(),a.lineWidth=Math.round(this._combinedScaleFactor)),a.stroke()),a.restore()):(d!==r.TextRenderingMode.FILL&&d!==r.TextRenderingMode.FILL_STROKE||a.fillText(t,e,n),d!==r.TextRenderingMode.STROKE&&d!==r.TextRenderingMode.FILL_STROKE||(o?(a.save(),a.moveTo(e,n),a.resetTransform(),a.lineWidth=Math.round(this._combinedScaleFactor),a.strokeText(t,0,0),a.restore()):a.strokeText(t,e,n))),f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:a.mozCurrentTransform,x:e,y:n,fontSize:h,addToPath:s})}},{key:"isFontSubpixelAAEnabled",get:function(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var i=e.fontSize;if(0!==i){var o,s=this.ctx,a=e.fontSizeScale,u=e.charSpacing,c=e.wordSpacing,l=e.fontDirection,h=e.textHScale*l,d=t.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*e.fontMatrix[0],v=e.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!e.patternFill;if(s.save(),e.patternFill){s.save();var y=e.fillColor.getPattern(s,this,s.mozCurrentTransformInverse);o=s.mozCurrentTransform,s.restore(),s.fillStyle=y}s.transform.apply(s,e.textMatrix),s.translate(e.x,e.y+e.textRise),s.scale(h,l>0?-1:1);var b=e.lineWidth,_=!1,w=e.textMatrixScale;if(0===w||0===b){var S=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;S!==r.TextRenderingMode.STROKE&&S!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,_=(b=this.getSinglePixelWidth())<0)}else b/=w;1!==a&&(s.scale(a,a),b/=a),s.lineWidth=b;var k,A=0;for(k=0;k<d;++k){var E=t[k];if((0,r.isNum)(E))A+=p*E*i/1e3;else{var C=!1,T=(E.isSpace?c:0)+u,x=E.fontChar,P=E.accent,I=void 0,O=void 0,R=E.width;if(f){var D=E.vmetric||g,N=-(E.vmetric?D[1]:.5*R)*m;R=D?-D[0]:R,I=N/a,O=(A+D[2]*m)/a}else I=A/a,O=0;if(n.remeasure&&R>0){var L=1e3*s.measureText(x).width/i*a;if(R<L&&this.isFontSubpixelAAEnabled){var M=R/L;C=!0,s.save(),s.scale(M,1),I/=M}else R!==L&&(I+=(R-L)/2e3*i/a)}this.contentVisible&&(E.isInFont||n.missingFile)&&(v&&!P?s.fillText(x,I,O):(this.paintChar(x,I,O,o,_),P&&this.paintChar(P.fontChar,I+i*P.offset.x/a,O-i*P.offset.y/a,o,_))),A+=f?R*m-T*l:R*m+T*l,C&&s.restore()}}f?e.y-=A:e.x+=A*h,s.restore()}}},{key:"showType3Text",value:function(t){var e,n,i,o,s=this.ctx,a=this.current,u=a.font,c=a.fontSize,l=a.fontDirection,h=u.vertical?1:-1,d=a.charSpacing,f=a.wordSpacing,p=a.textHScale*l,g=a.fontMatrix||r.FONT_IDENTITY_MATRIX,m=t.length;if(a.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==c){for(this._cachedGetSinglePixelWidth=null,s.save(),s.transform.apply(s,a.textMatrix),s.translate(a.x,a.y),s.scale(p,l),e=0;e<m;++e)if((0,r.isNum)(n=t[e]))this.ctx.translate(o=h*n*c/1e3,0),a.x+=o*p;else{var v=(n.isSpace?f:0)+d,y=u.charProcOperatorList[n.operatorListId];if(y){this.contentVisible&&(this.processingType3=n,this.save(),s.scale(c,c),s.transform.apply(s,g),this.executeOperatorList(y),this.restore());var b=r.Util.applyTransform([n.width,0],g);s.translate(i=b[0]*c+v,0),a.x+=i*p}else(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}s.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(t,e){}},{key:"setCharWidthAndBounds",value:function(t,e,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(e){var n,r=this;if("TilingPattern"===e[0]){var o=e[1],s=this.baseTransform||this.ctx.mozCurrentTransform.slice();n=new i.TilingPattern(e,o,this.ctx,{createCanvasGraphics:function(e){return new t(e,r.commonObjs,r.objs,r.canvasFactory)}},s)}else n=this._getPattern(e[1],e[2]);return n}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(t,e,n){var i=r.Util.makeHexColor(t,e,n);this.ctx.strokeStyle=i,this.current.strokeColor=i}},{key:"setFillRGBColor",value:function(t,e,n){var i=r.Util.makeHexColor(t,e,n);this.ctx.fillStyle=i,this.current.fillColor=i,this.current.patternFill=!1}},{key:"_getPattern",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=(0,i.getShadingPattern)(this.objs.get(t),this.cachedCanvasPatterns),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}},{key:"shadingFill",value:function(t){if(this.contentVisible){var e=this.ctx;this.save();var n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,e.mozCurrentTransformInverse,!0);var i=e.mozCurrentTransformInverse;if(i){var o=e.canvas,s=o.width,a=o.height,u=r.Util.applyTransform([0,0],i),c=r.Util.applyTransform([0,a],i),l=r.Util.applyTransform([s,0],i),h=r.Util.applyTransform([s,a],i),d=Math.min(u[0],c[0],l[0],h[0]),f=Math.min(u[1],c[1],l[1],h[1]),p=Math.max(u[0],c[0],l[0],h[0]),g=Math.max(u[1],c[1],l[1],h[1]);this.ctx.fillRect(d,f,p-d,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}}},{key:"beginInlineImage",value:function(){(0,r.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,r.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,e){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(t)&&6===t.length&&this.transform.apply(this,t),this.baseTransform=this.ctx.mozCurrentTransform,e&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath()))}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(t){if(this.contentVisible){this.save();var e=this.ctx;t.isolated||(0,r.info)("TODO: Support non-isolated groups."),t.knockout&&(0,r.warn)("Knockout groups not supported.");var n=e.mozCurrentTransform;if(t.matrix&&e.transform.apply(e,t.matrix),!t.bbox)throw new Error("Bounding box is required.");var i=r.Util.getAxialAlignedBoundingBox(t.bbox,e.mozCurrentTransform);i=r.Util.intersect(i,[0,0,e.canvas.width,e.canvas.height])||[0,0,0,0];var o=Math.floor(i[0]),s=Math.floor(i[1]),a=Math.max(Math.ceil(i[2])-o,1),u=Math.max(Math.ceil(i[3])-s,1),c=1,l=1;a>p&&(c=a/p,a=p),u>p&&(l=u/p,u=p);var h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);var d=this.cachedCanvases.getCanvas(h,a,u,!0),f=d.context;f.scale(1/c,1/l),f.translate(-o,-s),f.transform.apply(f,n),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:s,scaleX:c,scaleY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,s),e.scale(c,l)),S(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++,this.current.activeSMask=null}}},{key:"endGroup",value:function(t){if(this.contentVisible){this.groupLevel--;var e=this.ctx;this.ctx=this.groupStack.pop(),this.ctx.imageSmoothingEnabled=!1,t.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(e.canvas,0,0),this.restore()}}},{key:"beginAnnotations",value:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}},{key:"endAnnotations",value:function(){this.restore()}},{key:"beginAnnotation",value:function(t,e,n,r){this.save(),k(this.ctx),this.current=new b,Array.isArray(e)&&4===e.length&&(this.ctx.rect(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.clip(),this.endPath()),this.transform.apply(this,n),this.transform.apply(this,r)}},{key:"endAnnotation",value:function(){this.restore()}},{key:"paintImageMaskXObject",value:function(t){if(this.contentVisible){var e=this.ctx,n=t.width,r=t.height,i=this.processingType3;if(i&&void 0===i.compiled&&(i.compiled=n<=1e3&&r<=1e3?function(t){var e,n,r,i,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=t.width,a=t.height,u=s+1,c=new Uint8Array(u*(a+1)),l=s+7&-8,h=t.data,d=new Uint8Array(l*a),f=0;for(e=0,n=h.length;e<n;e++)for(var p=h[e],g=128;g>0;)d[f++]=p&g?0:255,g>>=1;var m=0;for(0!==d[f=0]&&(c[0]=1,++m),r=1;r<s;r++)d[f]!==d[f+1]&&(c[r]=d[f]?2:1,++m),f++;for(0!==d[f]&&(c[r]=2,++m),e=1;e<a;e++){i=e*u,d[(f=e*l)-l]!==d[f]&&(c[i]=d[f]?1:8,++m);var v=(d[f]?4:0)+(d[f-l]?8:0);for(r=1;r<s;r++)o[v=(v>>2)+(d[f+1]?4:0)+(d[f-l+1]?8:0)]&&(c[i+r]=o[v],++m),f++;if(d[f-l]!==d[f]&&(c[i+r]=d[f]?2:4,++m),m>1e3)return null}for(i=e*u,0!==d[f=l*(a-1)]&&(c[i]=8,++m),r=1;r<s;r++)d[f]!==d[f+1]&&(c[i+r]=d[f]?4:8,++m),f++;if(0!==d[f]&&(c[i+r]=4,++m),m>1e3)return null;var y=new Int32Array([0,u,-1,0,-u,0,0,0,1]),b=[];for(e=0;m&&e<=a;e++){for(var _=e*u,w=_+s;_<w&&!c[_];)_++;if(_!==w){var S=[_%u,e],k=_,A=c[_];do{var E=y[A];do{_+=E}while(!c[_]);var C=c[_];5!==C&&10!==C?(A=C,c[_]=0):c[_]&=(A=C&51*A>>4)>>2|A<<2,S.push(_%u,_/u|0),c[_]||--m}while(k!==_);b.push(S),--e}}return function(t){t.save(),t.scale(1/s,-1/a),t.translate(0,-a),t.beginPath();for(var e=0,n=b.length;e<n;e++){var r=b[e];t.moveTo(r[0],r[1]);for(var i=2,o=r.length;i<o;i+=2)t.lineTo(r[i],r[i+1])}t.fill(),t.beginPath(),t.restore()}}({data:t.data,width:n,height:r}):null),null!=i&&i.compiled)i.compiled(e);else{var o=this._createMaskCanvas(t),s=o.canvas;e.save(),e.setTransform(1,0,0,1,0,0),e.drawImage(s,o.offsetX,o.offsetY),e.restore()}}}},{key:"paintImageMaskXObjectRepeat",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var a=this.ctx;a.save();var u=a.mozCurrentTransform;a.transform(e,n,i,o,0,0);var c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,0,0);for(var l=0,d=s.length;l<d;l+=2){var f=r.Util.transform(u,[e,n,i,o,s[l],s[l+1]]),p=r.Util.applyTransform([0,0],f),g=h(p,2),m=g[0],v=g[1];a.drawImage(c.canvas,m,v)}a.restore()}}},{key:"paintImageMaskXObjectGroup",value:function(t){if(this.contentVisible)for(var e=this.ctx,n=this.current.fillColor,r=this.current.patternFill,i=0,o=t.length;i<o;i++){var s=t[i],a=s.width,u=s.height,c=this.cachedCanvases.getCanvas("maskCanvas",a,u),l=c.context;l.save(),w(l,s),l.globalCompositeOperation="source-in",l.fillStyle=r?n.getPattern(l,this,e.mozCurrentTransformInverse,!1):n,l.fillRect(0,0,a,u),l.restore(),e.save(),e.transform.apply(e,s.transform),e.scale(1,-1),e.drawImage(c.canvas,0,0,a,u,0,-1,1,1),e.restore()}}},{key:"paintImageXObject",value:function(t){if(this.contentVisible){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(t,e,n,i){if(this.contentVisible){var o=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(o){for(var s=o.width,a=o.height,u=[],c=0,l=i.length;c<l;c+=2)u.push({transform:[e,0,0,n,i[c],i[c+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(o,u)}else(0,r.warn)("Dependent image isn't ready yet")}}},{key:"paintInlineImageXObject",value:function(t){if(this.contentVisible){var e,n=t.width,r=t.height,i=this.ctx;if(this.save(),i.scale(1/n,-1/r),"function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)e=t;else{var o=this.cachedCanvases.getCanvas("inlineImage",n,r);_(o.context,t,this.current.transferMaps),e=o.canvas}var s=this._scaleImage(e,i.mozCurrentTransformInverse);if(i.imageSmoothingEnabled=x(i.mozCurrentTransform,t.interpolate),i.drawImage(s.img,0,0,s.paintWidth,s.paintHeight,0,-r,n,r),this.imageLayer){var a=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:t,left:a[0],top:a[1],width:n/i.mozCurrentTransformInverse[0],height:r/i.mozCurrentTransformInverse[3]})}this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(t,e){if(this.contentVisible){var n=this.ctx,r=t.width,i=t.height,o=this.cachedCanvases.getCanvas("inlineImage",r,i);_(o.context,t,this.current.transferMaps);for(var s=0,a=e.length;s<a;s++){var u=e[s];if(n.save(),n.transform.apply(n,u.transform),n.scale(1,-1),n.drawImage(o.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){var c=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:t,left:c[0],top:c[1],width:r,height:i})}n.restore()}}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}},{key:"markPoint",value:function(t){}},{key:"markPointProps",value:function(t,e){}},{key:"beginMarkedContent",value:function(t){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(t,e){this.markedContentStack.push("OC"===t?{visible:this.optionalContentConfig.isVisible(e)}:{visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(){var t=this.ctx;this.pendingClip&&(this.pendingClip===R?t.clip("evenodd"):t.clip(),this.pendingClip=null),t.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransform,e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.pow(t[0],2)+Math.pow(t[2],2),r=Math.pow(t[1],2)+Math.pow(t[3],2),i=Math.sqrt(Math.max(n,r))/e;this._cachedGetSinglePixelWidth=n!==r&&this._combinedScaleFactor*i>1?-this._combinedScaleFactor*i:e>Number.EPSILON?i:1}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function(t,e){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*e+n[4],n[1]*t+n[3]*e+n[5]]}},{key:"isContentVisible",value:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}]),t}();for(var N in e.CanvasGraphics=D,r.OPS)void 0!==D.prototype[N]&&(D.prototype[r.OPS[N]]=D.prototype[N])},(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getShadingPattern=function(t,e){switch(t[0]){case"RadialAxial":return new v(t,e);case"Mesh":return new _(t);case"Dummy":return new w}throw new Error("Unknown IR type: ".concat(t[0]))},e.TilingPattern=void 0;var i=n(4);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function g(t,e){if(e&&"undefined"!=typeof Path2D){var n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}}var m=function(){function t(){d(this,t),this.constructor===t&&(0,i.unreachable)("Cannot initialize BaseShadingPattern.")}return p(t,[{key:"getPattern",value:function(){(0,i.unreachable)("Abstract method `getPattern` called.")}}]),t}(),v=function(t){a(n,t);var e=c(n);function n(t,r){var i;return d(this,n),(i=e.call(this))._type=t[1],i._bbox=t[2],i._colorStops=t[3],i._p0=t[4],i._p1=t[5],i._r0=t[6],i._r1=t[7],i.matrix=null,i.cachedCanvasPatterns=r,i}return p(n,[{key:"_createGradient",value:function(t){var e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=o(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.addColorStop(i[0],i[1])}}catch(s){r.e(s)}finally{r.f()}return e}},{key:"getPattern",value:function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(o)g(t,this._bbox),r=this._createGradient(t);else if(this.cachedCanvasPatterns.has(this))r=this.cachedCanvasPatterns.get(this);else{var s=e.cachedCanvases.getCanvas("pattern",e.ctx.canvas.width,e.ctx.canvas.height,!0),a=s.context;a.clearRect(0,0,a.canvas.width,a.canvas.height),a.beginPath(),a.rect(0,0,a.canvas.width,a.canvas.height),a.setTransform.apply(a,e.baseTransform),this.matrix&&a.transform.apply(a,this.matrix),g(a,this._bbox),a.fillStyle=this._createGradient(a),a.fill(),r=t.createPattern(s.canvas,"repeat"),this.cachedCanvasPatterns.set(this,r)}if(!o){var u=new DOMMatrix(n);try{r.setTransform(u)}catch(c){(0,i.warn)('RadialAxialShadingPattern.getPattern: "'.concat(null==c?void 0:c.message,'".'))}}return r}}]),n}(m);function y(t,e,n,r,i,o,s,a){var u,c=e.coords,l=e.colors,h=t.data,d=4*t.width;c[n+1]>c[r+1]&&(u=n,n=r,r=u,u=o,o=s,s=u),c[r+1]>c[i+1]&&(u=r,r=i,i=u,u=s,s=a,a=u),c[n+1]>c[r+1]&&(u=n,n=r,r=u,u=o,o=s,s=u);var f=(c[n]+e.offsetX)*e.scaleX,p=(c[n+1]+e.offsetY)*e.scaleY,g=(c[r]+e.offsetX)*e.scaleX,m=(c[r+1]+e.offsetY)*e.scaleY,v=(c[i]+e.offsetX)*e.scaleX,y=(c[i+1]+e.offsetY)*e.scaleY;if(!(p>=y))for(var b,_,w,S,k,A,E,C,T=l[o],x=l[o+1],P=l[o+2],I=l[s],O=l[s+1],R=l[s+2],D=l[a],N=l[a+1],L=l[a+2],M=Math.round(p),F=Math.round(y),j=M;j<=F;j++){var V,U;if(j<m)b=f-(f-g)*(V=j<p?0:(p-j)/(p-m)),_=T-(T-I)*V,w=x-(x-O)*V,S=P-(P-R)*V;else b=g-(g-v)*(U=j>y?1:m===y?0:(m-j)/(m-y)),_=I-(I-D)*U,w=O-(O-N)*U,S=R-(R-L)*U;var B=void 0;k=f-(f-v)*(B=j<p?0:j>y?1:(p-j)/(p-y)),A=T-(T-D)*B,E=x-(x-N)*B,C=P-(P-L)*B;for(var q=Math.round(Math.min(b,k)),H=Math.round(Math.max(b,k)),z=d*j+4*q,W=q;W<=H;W++)(B=(b-W)/(b-k))<0?B=0:B>1&&(B=1),h[z++]=_-(_-A)*B|0,h[z++]=w-(w-E)*B|0,h[z++]=S-(S-C)*B|0,h[z++]=255}}function b(t,e,n){var r,i,o=e.coords,s=e.colors;switch(e.type){case"lattice":var a=e.verticesPerRow,u=Math.floor(o.length/a)-1,c=a-1;for(r=0;r<u;r++)for(var l=r*a,h=0;h<c;h++,l++)y(t,n,o[l],o[l+1],o[l+a],s[l],s[l+1],s[l+a]),y(t,n,o[l+a+1],o[l+1],o[l+a],s[l+a+1],s[l+1],s[l+a]);break;case"triangles":for(r=0,i=o.length;r<i;r+=3)y(t,n,o[r],o[r+1],o[r+2],s[r],s[r+1],s[r+2]);break;default:throw new Error("illegal figure")}}var _=function(t){a(n,t);var e=c(n);function n(t){var r;return d(this,n),(r=e.call(this))._coords=t[2],r._colors=t[3],r._figures=t[4],r._bounds=t[5],r._bbox=t[7],r._background=t[8],r.matrix=null,r}return p(n,[{key:"_createMeshCanvas",value:function(t,e,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,u=Math.min(Math.ceil(Math.abs(s*t[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),l=s/u,h=a/c,d={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/l,scaleY:1/h},f=n.getCanvas("mesh",u+4,c+4,!1),p=f.context,g=p.createImageData(u,c);if(e)for(var m=g.data,v=0,y=m.length;v<y;v+=4)m[v]=e[0],m[v+1]=e[1],m[v+2]=e[2],m[v+3]=255;var _,w=o(this._figures);try{for(w.s();!(_=w.n()).done;)b(g,_.value,d)}catch(S){w.e(S)}finally{w.f()}return p.putImageData(g,2,2),{canvas:f.canvas,offsetX:r-2*l,offsetY:i-2*h,scaleX:l,scaleY:h}}},{key:"getPattern",value:function(t,e,n){var r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(g(t,this._bbox),o)r=i.Util.singularValueDecompose2dScale(t.mozCurrentTransform);else if(r=i.Util.singularValueDecompose2dScale(e.baseTransform),this.matrix){var s=i.Util.singularValueDecompose2dScale(this.matrix);r=[r[0]*s[0],r[1]*s[1]]}var a=this._createMeshCanvas(r,o?null:this._background,e.cachedCanvases);return o||(t.setTransform.apply(t,e.baseTransform),this.matrix&&t.transform.apply(t,this.matrix)),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}]),n}(m),w=function(t){a(n,t);var e=c(n);function n(){return d(this,n),e.apply(this,arguments)}return p(n,[{key:"getPattern",value:function(){return"hotpink"}}]),n}(m);e.TilingPattern=function(){function t(e,n,r,i,o){d(this,t),this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}return p(t,[{key:"createPatternCanvas",value:function(t){var e=this.operatorList,n=this.bbox,r=this.xstep,o=this.ystep,s=this.paintType,a=this.color,u=this.canvasGraphicsFactory;(0,i.info)("TilingType: "+this.tilingType);var c=n[0],l=n[1],h=n[2],d=n[3],f=i.Util.singularValueDecompose2dScale(this.matrix),p=i.Util.singularValueDecompose2dScale(this.baseTransform),g=[f[0]*p[0],f[1]*p[1]],m=this.getSizeAndScale(r,this.ctx.canvas.width,g[0]),v=this.getSizeAndScale(o,this.ctx.canvas.height,g[1]),y=t.cachedCanvases.getCanvas("pattern",m.size,v.size,!0),b=y.context,_=u.createCanvasGraphics(b);_.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(_,s,a);var w=c,S=l,k=h,A=d;return c<0&&(w=0,k+=Math.abs(c)),l<0&&(S=0,A+=Math.abs(l)),b.translate(-m.scale*w,-v.scale*S),_.transform(m.scale,0,0,v.scale,0,0),this.clipBbox(_,w,S,k,A),_.baseTransform=_.ctx.mozCurrentTransform.slice(),_.executeOperatorList(e),_.endDrawing(),{canvas:y.canvas,scaleX:m.scale,scaleY:v.scale,offsetX:w,offsetY:S}}},{key:"getSizeAndScale",value:function(e,n,r){e=Math.abs(e);var i=Math.max(t.MAX_PATTERN_SIZE,n),o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}},{key:"clipBbox",value:function(t,e,n,r,i){t.ctx.rect(e,n,r-e,i-n),t.clip(),t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(t,e,n){var r=t.ctx,o=t.current;switch(e){case 1:var s=this.ctx;r.fillStyle=s.fillStyle,r.strokeStyle=s.strokeStyle,o.fillColor=s.fillStyle,o.strokeColor=s.strokeStyle;break;case 2:var a=i.Util.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,o.fillColor=a,o.strokeColor=a;break;default:throw new i.FormatError("Unsupported paint type: ".concat(e))}}},{key:"getPattern",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n;r||(o=i.Util.transform(o,e.baseTransform),this.matrix&&(o=i.Util.transform(o,this.matrix)));var s=this.createPatternCanvas(e),a=new DOMMatrix(o);a=(a=a.translate(s.offsetX,s.offsetY)).scale(1/s.scaleX,1/s.scaleY);var u=t.createPattern(s.canvas,"repeat");try{u.setTransform(a)}catch(c){(0,i.warn)('TilingPattern.getPattern: "'.concat(null==c?void 0:c.message,'".'))}return u}}],[{key:"MAX_PATTERN_SIZE",get:function(){return(0,i.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]),t}()},(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;var n=Object.create(null);e.GlobalWorkerOptions=n,n.workerPort=void 0===n.workerPort?null:n.workerPort,n.workerSrc=void 0===n.workerSrc?"":n.workerSrc},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function s(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t){if(!(t instanceof Error||"object"===a(t)&&null!==t))return(0,o.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t;switch(t.name){case"AbortException":return new o.AbortException(t.message);case"MissingPDFException":return new o.MissingPDFException(t.message);case"PasswordException":return new o.PasswordException(t.message,t.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(t.message,t.status);case"UnknownErrorException":return new o.UnknownErrorException(t.message,t.details);default:return new o.UnknownErrorException(t.message,t.toString())}}e.MessageHandler=function(){function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===i.sourceName)if(e.stream)i._processStreamMessage(e);else if(e.callback){var n=e.callbackId,o=i.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],1===e.callback)o.resolve(e.data);else{if(2!==e.callback)throw new Error("Unexpected callback case");o.reject(u(e.reason))}}else{var s=i.actionHandler[e.action];if(!s)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){var a=i.sourceName,c=e.sourceName;new Promise(function(t){t(s(e.data))}).then(function(t){r.postMessage({sourceName:a,targetName:c,callback:1,callbackId:e.callbackId,data:t})},function(t){r.postMessage({sourceName:a,targetName:c,callback:2,callbackId:e.callbackId,reason:u(t)})})}else e.streamId?i._createStreamSink(e):s(e.data)}},r.addEventListener("message",this._onComObjOnMessage)}var e,n,r,a;return e=t,(n=[{key:"on",value:function(t,e){var n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}},{key:"send",value:function(t,e,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}},{key:"sendWithPromise",value:function(t,e,n){var r=this.callbackId++,i=(0,o.createPromiseCapability)();this.callbackCapabilities[r]=i;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(s){i.reject(s)}return i.promise}},{key:"sendWithStream",value:function(t,e,n,r){var i=this,s=this.streamId++,a=this.sourceName,c=this.targetName,l=this.comObj;return new ReadableStream({start:function(n){var u=(0,o.createPromiseCapability)();return i.streamControllers[s]={controller:n,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},i._postMessage({sourceName:a,targetName:c,action:t,streamId:s,data:e,desiredSize:n.desiredSize},r),u.promise},pull:function(t){var e=(0,o.createPromiseCapability)();return i.streamControllers[s].pullCall=e,l.postMessage({sourceName:a,targetName:c,stream:6,streamId:s,desiredSize:t.desiredSize}),e.promise},cancel:function(t){(0,o.assert)(t instanceof Error,"cancel must have a valid reason");var e=(0,o.createPromiseCapability)();return i.streamControllers[s].cancelCall=e,i.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:c,stream:1,streamId:s,reason:u(t)}),e.promise}},n)}},{key:"_createStreamSink",value:function(t){var e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj,s=this,a=this.actionHandler[t.action],c={enqueue:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var u=this.desiredSize;this.desiredSize-=i,u>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),s._postMessage({sourceName:n,targetName:r,stream:4,streamId:e,chunk:t},a)}},close:function(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:3,streamId:e}),delete s.streamSinks[e])},error:function(t){(0,o.assert)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:5,streamId:e,reason:u(t)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,new Promise(function(e){e(a(t.data,c))}).then(function(){i.postMessage({sourceName:n,targetName:r,stream:8,streamId:e,success:!0})},function(t){i.postMessage({sourceName:n,targetName:r,stream:8,streamId:e,reason:u(t)})})}},{key:"_processStreamMessage",value:function(t){var e=t.streamId,n=this.sourceName,r=t.sourceName,i=this.comObj,s=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case 8:t.success?s.startCall.resolve():s.startCall.reject(u(t.reason));break;case 7:t.success?s.pullCall.resolve():s.pullCall.reject(u(t.reason));break;case 6:if(!a){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise(function(t){t(a.onPull&&a.onPull())}).then(function(){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,success:!0})},function(t){i.postMessage({sourceName:n,targetName:r,stream:7,streamId:e,reason:u(t)})});break;case 4:if((0,o.assert)(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(t.chunk);break;case 3:if((0,o.assert)(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),this._deleteStreamController(s,e);break;case 5:(0,o.assert)(s,"error should have stream controller"),s.controller.error(u(t.reason)),this._deleteStreamController(s,e);break;case 2:t.success?s.cancelCall.resolve():s.cancelCall.reject(u(t.reason)),this._deleteStreamController(s,e);break;case 1:if(!a)break;new Promise(function(e){e(a.onCancel&&a.onCancel(u(t.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,success:!0})},function(t){i.postMessage({sourceName:n,targetName:r,stream:2,streamId:e,reason:u(t)})}),a.sinkCapability.reject(u(t.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(r=i.default.mark(function t(e,n){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return t.stop()}},t,this)}),a=function(){var t=this,e=arguments;return new Promise(function(n,i){var o=r.apply(t,e);function a(t){s(o,n,i,a,u,"next",t)}function u(t){s(o,n,i,a,u,"throw",t)}a(void 0)})},function(t,e){return a.apply(this,arguments)})},{key:"_postMessage",value:function(t,e){e&&this.postMessageTransfers?this.comObj.postMessage(t,e):this.comObj.postMessage(t)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(4);e.Metadata=function(){function t(e){var n=e.parsedData,r=e.rawData;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._metadataMap=n,this._data=r}var e;return(e=[{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(t){var e;return null!==(e=this._metadataMap.get(t))&&void 0!==e?e:null}},{key:"getAll",value:function(){return(0,r.objectFromMap)(this._metadataMap)}},{key:"has",value:function(t){return this._metadataMap.has(t)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=n(4);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function t(e,n){s(this,t),this.visible=!0,this.name=e,this.intent=n};e.OptionalContentConfig=function(){function t(e){if(s(this,t),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==e){this.name=e.name,this.creator=e.creator,this._order=e.order;var n,r=i(e.groups);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._groups.set(o.id,new a(o.name,o.intent))}}catch(p){r.e(p)}finally{r.f()}if("OFF"===e.baseState){var u,c=i(this._groups);try{for(c.s();!(u=c.n()).done;)u.value.visible=!1}catch(p){c.e(p)}finally{c.f()}}var l,h=i(e.on);try{for(h.s();!(l=h.n()).done;)this._groups.get(l.value).visible=!0}catch(p){h.e(p)}finally{h.f()}var d,f=i(e.off);try{for(f.s();!(d=f.n()).done;)this._groups.get(d.value).visible=!1}catch(p){f.e(p)}finally{f.f()}}}var e;return(e=[{key:"_evaluateVisibilityExpression",value:function(t){var e=t.length;if(e<2)return!0;for(var n=t[0],i=1;i<e;i++){var o=t[i],s=void 0;if(Array.isArray(o))s=this._evaluateVisibilityExpression(o);else{if(!this._groups.has(o))return(0,r.warn)("Optional content group not found: ".concat(o)),!0;s=this._groups.get(o).visible}switch(n){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return"And"===n}},{key:"isVisible",value:function(t){if(0===this._groups.size)return!0;if(!t)return(0,r.warn)("Optional content group not defined."),!0;if("OCG"===t.type)return this._groups.has(t.id)?this._groups.get(t.id).visible:((0,r.warn)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return this._evaluateVisibilityExpression(t.expression);if(!t.policy||"AnyOn"===t.policy){var e,n=i(t.ids);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(!this._groups.has(o))return(0,r.warn)("Optional content group not found: ".concat(o)),!0;if(this._groups.get(o).visible)return!0}}catch(g){n.e(g)}finally{n.f()}return!1}if("AllOn"===t.policy){var s,a=i(t.ids);try{for(a.s();!(s=a.n()).done;){var u=s.value;if(!this._groups.has(u))return(0,r.warn)("Optional content group not found: ".concat(u)),!0;if(!this._groups.get(u).visible)return!1}}catch(g){a.e(g)}finally{a.f()}return!0}if("AnyOff"===t.policy){var c,l=i(t.ids);try{for(l.s();!(c=l.n()).done;){var h=c.value;if(!this._groups.has(h))return(0,r.warn)("Optional content group not found: ".concat(h)),!0;if(!this._groups.get(h).visible)return!0}}catch(g){l.e(g)}finally{l.f()}return!1}if("AllOff"===t.policy){var d,f=i(t.ids);try{for(f.s();!(d=f.n()).done;){var p=d.value;if(!this._groups.has(p))return(0,r.warn)("Optional content group not found: ".concat(p)),!0;if(this._groups.get(p).visible)return!1}}catch(g){f.e(g)}finally{f.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(t)?this._groups.get(t).visible=!!e:(0,r.warn)("Optional content group not found: ".concat(t))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}},{key:"getGroup",value:function(t){return this._groups.get(t)||null}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(1);function a(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)})}}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}e.PDFDataTransportStream=function(){function t(e,n){var r=this;h(this,t),(0,o.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;var i=e.initialData;if((null==i?void 0:i.length)>0){var s=new Uint8Array(i).buffer;this._queuedChunks.push(s)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(t,e){r._onReceiveData({begin:t,chunk:e})}),this._pdfDataRangeTransport.addProgressListener(function(t,e){r._onProgress({loaded:t,total:e})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(t){r._onReceiveData({chunk:t})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){r._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return f(t,[{key:"_onReceiveData",value:function(t){var e=new Uint8Array(t.chunk).buffer;if(void 0===t.begin)this._fullRequestReader?this._fullRequestReader._enqueue(e):this._queuedChunks.push(e);else{var n=this._rangeReaders.some(function(n){return n._begin===t.begin&&(n._enqueue(e),!0)});(0,o.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"_onProgress",value:function(t){if(void 0===t.total){var e=this._rangeReaders[0];null!=e&&e.onProgress&&e.onProgress({loaded:t.loaded})}else{var n=this._fullRequestReader;null!=n&&n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new p(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new g(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=c(this._rangeReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(r){n.e(r)}finally{n.f()}this._pdfDataRangeTransport.abort()}}]),t}();var p=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,t),this._stream=e,this._done=r||!1,this._filename=(0,s.isPdfFile)(i)?i:null,this._queuedChunks=n||[],this._loaded=0;var o,a=c(this._queuedChunks);try{for(a.s();!(o=a.n()).done;){var u=o.value;this._loaded+=u.byteLength}}catch(l){a.e(l)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}var e;return f(t,[{key:"_enqueue",value:function(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(e=u(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}return e=this._queuedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 8:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),t}(),g=function(){function t(e,n,r){h(this,t),this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}var e;return f(t,[{key:"_enqueue",value:function(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=u(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]),t}()},(t,e)=>{"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0,e.XfaText=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i;return e=t,(i=[{key:"textContent",value:function(e){var r=[],i={items:r,styles:Object.create(null)};return function e(i){var o;if(i){var s=null,a=i.name;if("#text"===a)s=i.value;else{if(!t.shouldBuildText(a))return;null!=i&&null!==(o=i.attributes)&&void 0!==o&&o.textContent?s=i.attributes.textContent:i.value&&(s=i.value)}if(null!==s&&r.push({str:s}),i.children){var u,c=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}(i.children);try{for(c.s();!(u=c.n()).done;)e(u.value)}catch(l){c.e(l)}finally{c.f()}}}}(e),i}},{key:"shouldBuildText",value:function(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}])&&r(e,i),t}()},(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var i=n(4),o=n(1),s=n(122),a=n(132);function u(t,e,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||y(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=y(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function y(t,e){if(t){if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}var k=1e3,A=new WeakSet,E=function(){function t(){_(this,t)}return S(t,null,[{key:"create",value:function(t){switch(t.data.annotationType){case i.AnnotationType.LINK:return new T(t);case i.AnnotationType.TEXT:return new x(t);case i.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new I(t);case"Btn":return t.data.radioButton?new R(t):t.data.checkBox?new O(t):new D(t);case"Ch":return new N(t)}return new P(t);case i.AnnotationType.POPUP:return new L(t);case i.AnnotationType.FREETEXT:return new F(t);case i.AnnotationType.LINE:return new j(t);case i.AnnotationType.SQUARE:return new V(t);case i.AnnotationType.CIRCLE:return new U(t);case i.AnnotationType.POLYLINE:return new B(t);case i.AnnotationType.CARET:return new H(t);case i.AnnotationType.INK:return new z(t);case i.AnnotationType.POLYGON:return new q(t);case i.AnnotationType.HIGHLIGHT:return new W(t);case i.AnnotationType.UNDERLINE:return new G(t);case i.AnnotationType.SQUIGGLY:return new K(t);case i.AnnotationType.STRIKEOUT:return new $(t);case i.AnnotationType.STAMP:return new X(t);case i.AnnotationType.FILEATTACHMENT:return new Q(t);default:return new C(t)}}}]),t}(),C=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,o=n.ignoreBorder,s=void 0!==o&&o,a=n.createQuadrilaterals,u=void 0!==a&&a;_(this,t),this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,i&&(this.container=this._createContainer(s)),u&&(this.quadrilaterals=this._createQuadrilaterals(s))}return S(t,[{key:"_createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data,n=this.page,r=this.viewport,o=document.createElement("section"),s=e.rect[2]-e.rect[0],a=e.rect[3]-e.rect[1];o.setAttribute("data-annotation-id",e.id);var u=i.Util.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]);if(o.style.transform="matrix(".concat(r.transform.join(","),")"),o.style.transformOrigin="".concat(-u[0],"px ").concat(-u[1],"px"),!t&&e.borderStyle.width>0){o.style.borderWidth="".concat(e.borderStyle.width,"px"),e.borderStyle.style!==i.AnnotationBorderStyleType.UNDERLINE&&(s-=2*e.borderStyle.width,a-=2*e.borderStyle.width);var c=e.borderStyle.horizontalCornerRadius,l=e.borderStyle.verticalCornerRadius;if(c>0||l>0){var h="".concat(c,"px / ").concat(l,"px");o.style.borderRadius=h}switch(e.borderStyle.style){case i.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case i.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case i.AnnotationBorderStyleType.BEVELED:(0,i.warn)("Unimplemented border style: beveled");break;case i.AnnotationBorderStyleType.INSET:(0,i.warn)("Unimplemented border style: inset");break;case i.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}var d=e.borderColor||e.color||null;d?o.style.borderColor=i.Util.makeHexColor(0|e.color[0],0|e.color[1],0|e.color[2]):o.style.borderWidth=0}return o.style.left="".concat(u[0],"px"),o.style.top="".concat(u[1],"px"),o.style.width="".concat(s,"px"),o.style.height="".concat(a,"px"),o}},{key:"_createQuadrilaterals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var e,n=[],r=this.data.rect,i=v(this.data.quadPoints);try{for(i.s();!(e=i.n()).done;){var o=e.value;this.data.rect=[o[2].x,o[2].y,o[1].x,o[1].y],n.push(this._createContainer(t))}}catch(s){i.e(s)}finally{i.f()}return this.data.rect=r,n}},{key:"_createPopup",value:function(t,e){var n=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,n=this.quadrilaterals[0]),t||((t=document.createElement("div")).style.height=n.style.height,t.style.width=n.style.width,n.appendChild(t));var r=new M({container:n,trigger:t,color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,hideWrapper:!0}).render();r.style.left=n.style.width,n.appendChild(r)}},{key:"_renderQuadrilaterals",value:function(t){var e,n=v(this.quadrilaterals);try{for(n.s();!(e=n.n()).done;)e.value.className=t}catch(r){n.e(r)}finally{n.f()}return this.quadrilaterals}},{key:"render",value:function(){(0,i.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(this._fieldObjects){var r=this._fieldObjects[t];if(r){var o,s=v(r);try{for(s.s();!(o=s.n()).done;){var a=o.value,u=a.page,c=a.id,l=a.exportValues;if(-1!==u&&c!==e){var h="string"==typeof l?l:null,d=document.getElementById(c);!d||A.has(d)?n.push({id:c,exportValue:h,domElement:d}):(0,i.warn)("_getElementsByName - element not allowed: ".concat(c))}}}catch(b){s.e(b)}finally{s.f()}}return n}var f,p=v(document.getElementsByName(t));try{for(p.s();!(f=p.n()).done;){var g=f.value,m=g.id,y=g.exportValue;m!==e&&A.has(g)&&n.push({id:m,exportValue:y,domElement:g})}}catch(b){p.e(b)}finally{p.f()}return n}}],[{key:"platform",get:function(){var t="undefined"!=typeof navigator?navigator.platform:"";return(0,i.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}]),t}(),T=function(t){h(n,t);var e=f(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"])),createQuadrilaterals:!0})}return S(n,[{key:"render",value:function(){var t,e=this.data,n=this.linkService,r=document.createElement("a");if(e.url)n.addLinkAttributes||(0,i.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(t=n.addLinkAttributes)||void 0===t||t.call(n,r,e.url,e.newWindow);else if(e.action)this._bindNamedAction(r,e.action);else if(e.dest)this._bindLink(r,e.dest);else{var o=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(o=!0,this._bindJSAction(r,e)),e.resetForm?this._bindResetFormAction(r,e.resetForm):o||this._bindLink(r,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(t,e){var n=0===e?r:r.cloneNode();return t.appendChild(n),t}):(this.container.className="linkAnnotation",this.container.appendChild(r),this.container)}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.goToDestination(e),!1},(e||""===e)&&(t.className="internalLink")}},{key:"_bindNamedAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},t.className="internalLink"}},{key:"_bindJSAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=s[o],a=r.get(i);if(!a)return"continue";t[a]=function(){var t;return null===(t=n.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:n,detail:{id:e.id,name:i}}),!1}},o=0,s=Object.keys(e.actions);o<s.length;o++)i();t.onclick||(t.onclick=function(){return!1}),t.className="internalLink"}},{key:"_bindResetFormAction",value:function(t,e){var n=this,r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,i.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(t.onclick=function(){return!1}));t.onclick=function(){r&&r();var t,i=e.fields,o=e.refs,s=e.include,a=[];if(0!==i.length||0!==o.length){var u,c=new Set(o),l=v(i);try{for(l.s();!(u=l.n()).done;){var h,d=v(n._fieldObjects[u.value]||[]);try{for(d.s();!(h=d.n()).done;)c.add(h.value.id)}catch(D){d.e(D)}finally{d.f()}}}catch(D){l.e(D)}finally{l.f()}for(var f=0,p=Object.values(n._fieldObjects);f<p.length;f++){var g,m=v(p[f]);try{for(m.s();!(g=m.n()).done;){var _=g.value;c.has(_.id)===s&&a.push(_)}}catch(D){m.e(D)}finally{m.f()}}}else for(var w=0,S=Object.values(n._fieldObjects);w<S.length;w++)a.push.apply(a,function(t){if(Array.isArray(t))return b(t)}(t=S[w])||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||y(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());for(var k,E=n.annotationStorage,C=[],T=0,x=a;T<x.length;T++){var P=x[T],I=P.id;switch(C.push(I),P.type){case"text":var O=P.defaultValue||"";E.setValue(I,{value:O,valueAsString:O});break;case"checkbox":case"radiobutton":E.setValue(I,{value:P.defaultValue===P.exportValues});break;case"combobox":case"listbox":E.setValue(I,{value:P.defaultValue||""});break;default:continue}var R=document.getElementById(I);R&&A.has(R)&&R.dispatchEvent(new Event("resetform"))}return n.enableScripting&&(null===(k=n.linkService.eventBus)||void 0===k||k.dispatch("dispatcheventinsandbox",{source:n,detail:{id:"app",ids:C,name:"ResetForm"}})),!1}}}]),n}(C),x=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o})}return S(n,[{key:"render",value:function(){this.container.className="textAnnotation";var t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}]),n}(C),P=function(t){h(n,t);var e=f(n);function n(){return _(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(t){var e=C.platform;return e.isWin&&t.ctrlKey||e.isMac&&t.metaKey}},{key:"_setEventListener",value:function(t,e,n,r){var i=this;e.includes("mouse")?t.addEventListener(e,function(t){var e;null===(e=i.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:r(t),shift:t.shiftKey,modifier:i._getKeyModifier(t)}})}):t.addEventListener(e,function(t){var e;null===(e=i.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:t.target.checked}})})}},{key:"_setEventListeners",value:function(t,e,n){var r,i=v(e);try{for(i.s();!(r=i.n()).done;){var o,s=l(r.value,2),a=s[1];("Action"===a||null!==(o=this.data.actions)&&void 0!==o&&o[a])&&this._setEventListener(t,s[0],a,n)}}catch(u){i.e(u)}finally{i.f()}}},{key:"_setBackgroundColor",value:function(t){var e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":i.Util.makeHexColor(e[0],e[1],e[2])}},{key:"_dispatchEventFromSandbox",value:function(t,e){for(var n=this,r=function(t,e,n){var r=n.detail[t];n.target.style[e]=a.ColorConverters["".concat(r[0],"_HTML")](r.slice(1))},i={display:function(t){var e=t.detail.display%2==1;t.target.style.visibility=e?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:e,print:0===t.detail.display||3===t.detail.display})},print:function(t){n.annotationStorage.setValue(n.data.id,{print:t.detail.print})},hidden:function(t){t.target.style.visibility=t.detail.hidden?"hidden":"visible",n.annotationStorage.setValue(n.data.id,{hidden:t.detail.hidden})},focus:function(t){setTimeout(function(){return t.target.focus({preventScroll:!1})},0)},userName:function(t){t.target.title=t.detail.userName},readonly:function(t){t.detail.readonly?t.target.setAttribute("readonly",""):t.target.removeAttribute("readonly")},required:function(t){t.detail.required?t.target.setAttribute("required",""):t.target.removeAttribute("required")},bgColor:function(t){r("bgColor","backgroundColor",t)},fillColor:function(t){r("fillColor","backgroundColor",t)},fgColor:function(t){r("fgColor","color",t)},textColor:function(t){r("textColor","color",t)},borderColor:function(t){r("borderColor","borderColor",t)},strokeColor:function(t){r("strokeColor","borderColor",t)}},o=0,s=Object.keys(e.detail);o<s.length;o++){var u=s[o],c=t[u]||i[u];c&&c(e)}}}]),n}(C),I=function(t){h(n,t);var e=f(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}return S(n,[{key:"setPropertyOnSiblings",value:function(t,e,n,r){var i,o=this.annotationStorage,s=v(this._getElementsByName(t.name,t.id));try{for(s.s();!(i=s.n()).done;){var a=i.value;a.domElement&&(a.domElement[e]=n),o.setValue(a.id,c({},r,n))}}catch(u){s.e(u)}finally{s.f()}}},{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data.id;this.container.className="textWidgetAnnotation";var r=null;if(this.renderForms){var i=e.getValue(n,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),o=i.valueAsString||i.value||"",s={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(r=document.createElement("textarea")).textContent=o:((r=document.createElement("input")).type="text",r.setAttribute("value",o)),A.add(r),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=k,s.userValue=o,r.setAttribute("id",n),r.addEventListener("input",function(i){e.setValue(n,{value:i.target.value}),t.setPropertyOnSiblings(r,"value",i.target.value,"value")}),r.addEventListener("resetform",function(e){r.value=s.userValue=t.data.defaultFieldValue||"",delete s.formattedValue});var a=function(t){s.formattedValue&&(t.target.value=s.formattedValue),t.target.scrollLeft=0,s.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var u;r.addEventListener("focus",function(t){s.userValue&&(t.target.value=s.userValue)}),r.addEventListener("updatefromsandbox",function(r){t._dispatchEventFromSandbox({value:function(t){s.userValue=t.detail.value||"",e.setValue(n,{value:s.userValue.toString()}),s.formattedValue||(t.target.value=s.userValue)},valueAsString:function(t){s.formattedValue=t.detail.valueAsString||"",t.target!==document.activeElement&&(t.target.value=s.formattedValue),e.setValue(n,{formattedValue:s.formattedValue})},selRange:function(t){var e=l(t.detail.selRange,2),n=e[0],r=e[1];n>=0&&r<t.target.value.length&&t.target.setSelectionRange(n,r)}},r)}),r.addEventListener("keydown",function(e){var r;s.beforeInputValue=e.target.value;var i=-1;"Escape"===e.key?i=0:"Enter"===e.key?i=2:"Tab"===e.key&&(i=3),-1!==i&&(s.userValue=e.target.value,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});var c=a;a=null,r.addEventListener("blur",function(e){var r;t._mouseState.isDown&&(s.userValue=e.target.value,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:e.target.value,willCommit:!0,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})),c(e)}),r.addEventListener("mousedown",function(t){s.beforeInputValue=t.target.value,s.beforeInputSelectionRange=null}),r.addEventListener("keyup",function(t){t.target.selectionStart===t.target.selectionEnd&&(s.beforeInputSelectionRange=null)}),r.addEventListener("select",function(t){s.beforeInputSelectionRange=[t.target.selectionStart,t.target.selectionEnd]}),null!==(u=this.data.actions)&&void 0!==u&&u.Keystroke&&r.addEventListener("input",function(e){var r,i=-1,o=-1;if(s.beforeInputSelectionRange){var a=l(s.beforeInputSelectionRange,2);i=a[0],o=a[1]}null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:s.beforeInputValue,change:e.data,willCommit:!1,selStart:i,selEnd:o}})}),this._setEventListeners(r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(t){return t.target.value})}if(a&&r.addEventListener("blur",a),null!==this.data.maxLen&&(r.maxLength=this.data.maxLen),this.data.comb){var h=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(h,"px - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell";return this._setTextStyle(r),this._setBackgroundColor(r),this.container.appendChild(r),this.container}},{key:"_setTextStyle",value:function(t){var e=this.data.defaultAppearanceData,n=e.fontSize,r=e.fontColor,o=t.style;n&&(o.fontSize="".concat(n,"px")),o.color=i.Util.makeHexColor(r[0],r[1],r[2]),null!==this.data.textAlignment&&(o.textAlign=["left","center","right"][this.data.textAlignment])}}]),n}(P),O=function(t){h(n,t);var e=f(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderForms})}return S(n,[{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;"string"==typeof i&&e.setValue(r,{value:i="Off"!==i}),this.container.className="buttonWidgetAnnotation checkBox";var o=document.createElement("input");return A.add(o),o.disabled=n.readOnly,o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("id",r),o.setAttribute("exportValue",n.exportValue),o.tabIndex=k,o.addEventListener("change",function(i){var o,s=i.target,a=s.checked,u=v(t._getElementsByName(s.name,r));try{for(u.s();!(o=u.n()).done;){var c=o.value,l=a&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=l),e.setValue(c.id,{value:l})}}catch(h){u.e(h)}finally{u.f()}e.setValue(r,{value:a})}),o.addEventListener("resetform",function(t){t.target.checked=(n.defaultFieldValue||"Off")===n.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",function(n){t._dispatchEventFromSandbox({value:function(t){t.target.checked="Off"!==t.detail.value,e.setValue(r,{value:t.target.checked})}},n)}),this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(t){return t.target.checked})),this._setBackgroundColor(o),this.container.appendChild(o),this.container}}]),n}(P),R=function(t){h(n,t);var e=f(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderForms})}return S(n,[{key:"render",value:function(){var t=this;this.container.className="buttonWidgetAnnotation radioButton";var e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;"string"==typeof i&&e.setValue(r,{value:i=i!==n.buttonValue});var o=document.createElement("input");if(A.add(o),o.disabled=n.readOnly,o.type="radio",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("id",r),o.tabIndex=k,o.addEventListener("change",function(n){var i,o=n.target,s=o.checked,a=v(t._getElementsByName(o.name,r));try{for(a.s();!(i=a.n()).done;)e.setValue(i.value.id,{value:!1})}catch(u){a.e(u)}finally{a.f()}e.setValue(r,{value:s})}),o.addEventListener("resetform",function(t){var e=n.defaultFieldValue;t.target.checked=null!=e&&e===n.buttonValue}),this.enableScripting&&this.hasJSActions){var s=n.buttonValue;o.addEventListener("updatefromsandbox",function(n){var i={value:function(n){var i,o=s===n.detail.value,a=v(t._getElementsByName(n.target.name));try{for(a.s();!(i=a.n()).done;){var u=i.value,c=o&&u.id===r;u.domElement&&(u.domElement.checked=c),e.setValue(u.id,{value:c})}}catch(l){a.e(l)}finally{a.f()}}};t._dispatchEventFromSandbox(i,n)}),this._setEventListeners(o,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(t){return t.target.checked})}return this._setBackgroundColor(o),this.container.appendChild(o),this.container}}]),n}(P),D=function(t){h(n,t);var e=f(n);function n(){return _(this,n),e.apply(this,arguments)}return S(n,[{key:"render",value:function(){var t=u(m(n.prototype),"render",this).call(this);return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}]),n}(T),N=function(t){h(n,t);var e=f(n);function n(t){return _(this,n),e.call(this,t,{isRenderable:t.renderForms})}return S(n,[{key:"render",value:function(){var t=this;this.container.className="choiceWidgetAnnotation";var e=this.annotationStorage,n=this.data.id;e.getValue(n,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var r=this.data.defaultAppearanceData.fontSize;r||(r=9);var i="calc(".concat(r,"px * var(--zoom-factor))"),o=document.createElement("select");A.add(o),o.disabled=this.data.readOnly,o.name=this.data.fieldName,o.setAttribute("id",n),o.tabIndex=k,o.style.fontSize="".concat(r,"px"),this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",function(e){var n,r=t.data.defaultFieldValue,i=v(o.options);try{for(i.s();!(n=i.n()).done;){var s=n.value;s.selected=s.value===r}}catch(a){i.e(a)}finally{i.f()}});var s,a=v(this.data.options);try{for(a.s();!(s=a.n()).done;){var u=s.value,c=document.createElement("option");c.textContent=u.displayValue,c.value=u.exportValue,this.data.combo&&(c.style.fontSize=i),this.data.fieldValue.includes(u.exportValue)&&c.setAttribute("selected",!0),o.appendChild(c)}}catch(d){a.e(d)}finally{a.f()}var l=function(t,e){var n=e?"value":"textContent",r=t.target.options;return t.target.multiple?Array.prototype.filter.call(r,function(t){return t.selected}).map(function(t){return t[n]}):-1===r.selectedIndex?null:r[r.selectedIndex][n]},h=function(t){return Array.prototype.map.call(t.target.options,function(t){return{displayValue:t.textContent,exportValue:t.value}})};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",function(r){t._dispatchEventFromSandbox({value:function(t){var r,i=t.detail.value,s=new Set(Array.isArray(i)?i:[i]),a=v(o.options);try{for(a.s();!(r=a.n()).done;){var u=r.value;u.selected=s.has(u.value)}}catch(d){a.e(d)}finally{a.f()}e.setValue(n,{value:l(t,!0)})},multipleSelection:function(t){o.multiple=!0},remove:function(t){var r=o.options,i=t.detail.remove;r[i].selected=!1,o.remove(i),r.length>0&&-1===Array.prototype.findIndex.call(r,function(t){return t.selected})&&(r[0].selected=!0),e.setValue(n,{value:l(t,!0),items:h(t)})},clear:function(t){for(;0!==o.length;)o.remove(0);e.setValue(n,{value:null,items:[]})},insert:function(t){var r=t.detail.insert,i=r.index,s=r.displayValue,a=r.exportValue,u=document.createElement("option");u.textContent=s,u.value=a,o.insertBefore(u,o.children[i]),e.setValue(n,{value:l(t,!0),items:h(t)})},items:function(t){for(var r=t.detail.items;0!==o.length;)o.remove(0);var i,s=v(r);try{for(s.s();!(i=s.n()).done;){var a=i.value,u=a.displayValue,c=a.exportValue,f=document.createElement("option");f.textContent=u,f.value=c,o.appendChild(f)}}catch(d){s.e(d)}finally{s.f()}o.options.length>0&&(o.options[0].selected=!0),e.setValue(n,{value:l(t,!0),items:h(t)})},indices:function(t){var r,i=new Set(t.detail.indices),o=v(t.target.options);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.selected=i.has(s.index)}}catch(d){o.e(d)}finally{o.f()}e.setValue(n,{value:l(t,!0)})},editable:function(t){t.target.disabled=!t.detail.editable}},r)}),o.addEventListener("input",function(r){var i,o=l(r,!0),s=l(r,!1);e.setValue(n,{value:o}),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:s,changeEx:o,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(t){return t.target.checked})):o.addEventListener("input",function(t){e.setValue(n,{value:l(t)})}),this._setBackgroundColor(o),this.container.appendChild(o),this.container}}]),n}(P),L=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o})}return S(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var t='[data-annotation-id="'.concat(this.data.parentId,'"]'),e=this.layer.querySelectorAll(t);if(0===e.length)return this.container;var n=new M({container:this.container,trigger:Array.from(e),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj}),r=this.page,o=i.Util.normalizeRect([this.data.parentRect[0],r.view[3]-this.data.parentRect[1]+r.view[1],this.data.parentRect[2],r.view[3]-this.data.parentRect[3]+r.view[1]]),s=o[0]+this.data.parentRect[2]-this.data.parentRect[0],a=o[1];return this.container.style.transformOrigin="".concat(-s,"px ").concat(-a,"px"),this.container.style.left="".concat(s,"px"),this.container.style.top="".concat(a,"px"),this.container.appendChild(n.render()),this.container}}]),n}(C),M=function(){function t(e){_(this,t),this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}return S(t,[{key:"render",value:function(){var t=document.createElement("div");t.className="popupWrapper",this.hideElement=this.hideWrapper?t:this.container,this.hideElement.hidden=!0;var e=document.createElement("div");e.className="popup";var n=this.color;n&&(e.style.backgroundColor=i.Util.makeHexColor(0|.7*(255-n[0])+n[0],0|.7*(255-n[1])+n[1],0|.7*(255-n[2])+n[2]));var r=document.createElement("h1");r.dir=this.titleObj.dir,r.textContent=this.titleObj.str,e.appendChild(r);var s=o.PDFDateString.toDateObject(this.modificationDate);if(s){var a=document.createElement("span");a.textContent="{{date}}, {{time}}",a.dataset.l10nId="annotation_date_string",a.dataset.l10nArgs=JSON.stringify({date:s.toLocaleDateString(),time:s.toLocaleTimeString()}),e.appendChild(a)}var u=this._formatContents(this.contentsObj);e.appendChild(u),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);var c,l=v(this.trigger);try{for(l.s();!(c=l.n()).done;){var h=c.value;h.addEventListener("click",this._toggle.bind(this)),h.addEventListener("mouseover",this._show.bind(this,!1)),h.addEventListener("mouseout",this._hide.bind(this,!1))}}catch(d){l.e(d)}finally{l.f()}return e.addEventListener("click",this._hide.bind(this,!0)),t.appendChild(e),t}},{key:"_formatContents",value:function(t){var e=t.str,n=t.dir,r=document.createElement("p");r.dir=n;for(var i=e.split(/(?:\r\n?|\n)/),o=0,s=i.length;o<s;++o)r.appendChild(document.createTextNode(i[o])),o<s-1&&r.appendChild(document.createElement("br"));return r}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.pinned=!1),this.hideElement.hidden||this.pinned||(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}]),t}(),F=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0})}return S(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(C),j=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0})}return S(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var t=this.data,e=this.svgFactory.create(t.rect[2]-t.rect[0],t.rect[3]-t.rect[1]),n=this.svgFactory.createElement("svg:line");return n.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),n.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),n.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),n.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),n.setAttribute("stroke-width",t.borderStyle.width||1),n.setAttribute("stroke","transparent"),e.appendChild(n),this.container.append(e),this._createPopup(n,t),this.container}}]),n}(C),V=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0})}return S(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",i/2),o.setAttribute("y",i/2),o.setAttribute("width",e-i),o.setAttribute("height",n-i),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(o,t),this.container}}]),n}(C),U=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0})}return S(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var t=this.data,e=t.rect[2]-t.rect[0],n=t.rect[3]-t.rect[1],r=this.svgFactory.create(e,n),i=t.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",e/2),o.setAttribute("cy",n/2),o.setAttribute("rx",e/2-i/2),o.setAttribute("ry",n/2-i/2),o.setAttribute("stroke-width",i||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(o,t),this.container}}]),n}(C),B=function(t){h(n,t);var e=f(n);function n(t){var r,i,o;_(this,n);var s=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return(o=e.call(this,t,{isRenderable:s,ignoreBorder:!0})).containerClassName="polylineAnnotation",o.svgElementName="svg:polyline",o}return S(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),r=[],i=v(e.vertices);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.push(o.x-e.rect[0]+","+(e.rect[3]-o.y))}}catch(a){i.e(a)}finally{i.f()}r=r.join(" ");var s=this.svgFactory.createElement(this.svgElementName);return s.setAttribute("points",r),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","none"),n.appendChild(s),this.container.append(n),this._createPopup(s,e),this.container}}]),n}(C),q=function(t){h(n,t);var e=f(n);function n(t){var r;return _(this,n),(r=e.call(this,t)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(B),H=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0})}return S(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(C),z=function(t){h(n,t);var e=f(n);function n(t){var r,i,o;_(this,n);var s=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return(o=e.call(this,t,{isRenderable:s,ignoreBorder:!0})).containerClassName="inkAnnotation",o.svgElementName="svg:polyline",o}return S(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var t,e=this.data,n=this.svgFactory.create(e.rect[2]-e.rect[0],e.rect[3]-e.rect[1]),r=v(e.inkLists);try{for(r.s();!(t=r.n()).done;){var i,o=[],s=v(t.value);try{for(s.s();!(i=s.n()).done;){var a=i.value,u=e.rect[3]-a.y;o.push("".concat(a.x-e.rect[0],",").concat(u))}}catch(l){s.e(l)}finally{s.f()}o=o.join(" ");var c=this.svgFactory.createElement(this.svgElementName);c.setAttribute("points",o),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","none"),this._createPopup(c,e),n.appendChild(c)}}catch(l){r.e(l)}finally{r.f()}return this.container.append(n),this.container}}]),n}(C),W=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return S(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),n}(C),G=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return S(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),n}(C),K=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return S(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),n}(C),$=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0,createQuadrilaterals:!0})}return S(n,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),n}(C),X=function(t){h(n,t);var e=f(n);function n(t){var r,i;_(this,n);var o=!!(t.data.hasPopup||null!==(r=t.data.titleObj)&&void 0!==r&&r.str||null!==(i=t.data.contentsObj)&&void 0!==i&&i.str);return e.call(this,t,{isRenderable:o,ignoreBorder:!0})}return S(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),n}(C),Q=function(t){h(n,t);var e=f(n);function n(t){var r,s;_(this,n);var a=(s=e.call(this,t,{isRenderable:!0})).data.file,u=a.filename,c=a.content;return s.filename=(0,o.getFilenameFromUrl)(u),s.content=c,null===(r=s.linkService.eventBus)||void 0===r||r.dispatch("fileattachmentannotation",{source:g(s),id:(0,i.stringToPDFString)(u),filename:u,content:c}),s}return S(n,[{key:"render",value:function(){var t,e;this.container.className="fileAttachmentAnnotation";var n=document.createElement("div");return n.style.height=this.container.style.height,n.style.width=this.container.style.width,n.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(null!==(t=this.data.titleObj)&&void 0!==t&&t.str||null!==(e=this.data.contentsObj)&&void 0!==e&&e.str)&&this._createPopup(n,this.data),this.container.appendChild(n),this.container}},{key:"_download",value:function(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.container,this.content,this.filename)}}]),n}(C);e.AnnotationLayer=function(){function t(){_(this,t)}return S(t,null,[{key:"render",value:function(t){var e,n=[],r=[],a=v(t.annotations);try{for(a.s();!(e=a.n()).done;){var u=e.value;u&&(u.annotationType!==i.AnnotationType.POPUP?n.push(u):r.push(u))}}catch(m){a.e(m)}finally{a.f()}r.length&&n.push.apply(n,r);for(var c=0,l=n;c<l.length;c++){var h=l[c],d=E.create({data:h,layer:t.div,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new o.DOMSVGFactory,annotationStorage:t.annotationStorage||new s.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(d.isRenderable){var f=d.render();if(h.hidden&&(f.style.visibility="hidden"),Array.isArray(f)){var p,g=v(f);try{for(g.s();!(p=g.n()).done;)t.div.appendChild(p.value)}catch(m){g.e(m)}finally{g.f()}}else d instanceof L?t.div.prepend(f):t.div.appendChild(f)}}}},{key:"update",value:function(t){var e,n="matrix(".concat(t.viewport.transform.join(","),")"),r=v(t.annotations);try{for(r.s();!(e=r.n()).done;){var i=t.div.querySelectorAll('[data-annotation-id="'.concat(e.value.id,'"]'));if(i){var o,s=v(i);try{for(s.s();!(o=s.n()).done;)o.value.style.transform=n}catch(a){s.e(a)}finally{s.f()}}}}catch(a){r.e(a)}finally{r.f()}t.div.hidden=!1}}]),t}()},(t,e)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0,e.ColorConverters=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r;return e=t,(r=[{key:"CMYK_G",value:function(t){var e=n(t,4);return["G",1-Math.min(1,.3*e[0]+.59*e[2]+.11*e[1]+e[3])]}},{key:"G_CMYK",value:function(t){return["CMYK",0,0,0,1-n(t,1)[0]]}},{key:"G_RGB",value:function(t){var e=n(t,1)[0];return["RGB",e,e,e]}},{key:"G_HTML",value:function(t){var e=o(n(t,1)[0]);return"#".concat(e).concat(e).concat(e)}},{key:"RGB_G",value:function(t){var e=n(t,3);return["G",.3*e[0]+.59*e[1]+.11*e[2]]}},{key:"RGB_HTML",value:function(t){var e=n(t,3),r=e[1],i=e[2],s=o(e[0]),a=o(r),u=o(i);return"#".concat(s).concat(a).concat(u)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(t){var e=n(t,4),r=e[1],i=e[2],o=e[3];return["RGB",1-Math.min(1,e[0]+o),1-Math.min(1,i+o),1-Math.min(1,r+o)]}},{key:"CMYK_HTML",value:function(t){return this.RGB_HTML(this.CMYK_RGB(t))}},{key:"RGB_CMYK",value:function(t){var e=n(t,3),r=1-e[0],i=1-e[1],o=1-e[2];return["CMYK",r,i,o,Math.min(r,i,o)]}}])&&i(e,r),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLayer=function(t){var e=new p({textContent:t.textContent,textContentStream:t.textContentStream,container:t.container,viewport:t.viewport,textDivs:t.textDivs,textContentItemsStr:t.textContentItemsStr,enhanceTextSelection:t.enhanceTextSelection});return e._render(t.timeout),e};var r=n(4);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=30,a=new Map,u=/^\s+$/g;function c(t,e,n,i){var o=document.createElement("span"),c=t._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL};t._textDivs.push(o);var l=r.Util.transform(t._viewport.transform,e.transform),h=Math.atan2(l[1],l[0]),d=n[e.fontName];d.vertical&&(h+=Math.PI/2);var f,p,g=Math.hypot(l[2],l[3]),m=g*function(t,e){var n=a.get(t);if(n)return n;e.save(),e.font="".concat(s,"px ").concat(t);var r=e.measureText(""),i=r.fontBoundingBoxAscent,o=Math.abs(r.fontBoundingBoxDescent);if(i){e.restore();var u=i/(i+o);return a.set(t,u),u}e.strokeStyle="red",e.clearRect(0,0,s,s),e.strokeText("g",0,0);var c=e.getImageData(0,0,s,s).data;o=0;for(var l=c.length-1-3;l>=0;l-=4)if(c[l]>0){o=Math.ceil(l/4/s);break}e.clearRect(0,0,s,s),e.strokeText("A",0,s),i=0;for(var h=0,d=(c=e.getImageData(0,0,s,s).data).length;h<d;h+=4)if(c[h]>0){i=s-Math.floor(h/4/s);break}if(e.restore(),i){var f=i/(i+o);return a.set(t,f),f}return a.set(t,.8),.8}(d.fontFamily,i);0===h?(f=l[4],p=l[5]-m):(f=l[4]+m*Math.sin(h),p=l[5]-m*Math.cos(h)),o.style.left="".concat(f,"px"),o.style.top="".concat(p,"px"),o.style.fontSize="".concat(g,"px"),o.style.fontFamily=d.fontFamily,o.setAttribute("role","presentation"),o.textContent=e.str,o.dir=e.dir,t._fontInspectorEnabled&&(o.dataset.fontName=e.fontName),0!==h&&(c.angle=h*(180/Math.PI));var v=!1;if(e.str.length>1||t._enhanceTextSelection&&u.test(e.str))v=!0;else if(e.transform[0]!==e.transform[3]){var y=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(v=!0)}if(v&&(c.canvasWidth=d.vertical?e.height*t._viewport.scale:e.width*t._viewport.scale),t._textDivProperties.set(o,c),t._textContentStream&&t._layoutText(o),t._enhanceTextSelection&&c.hasText){var _=1,w=0;0!==h&&(_=Math.cos(h),w=Math.sin(h));var S,k,A=(d.vertical?e.height:e.width)*t._viewport.scale,E=g;k=0!==h?r.Util.getAxialAlignedBoundingBox([0,0,A,E],S=[_,w,-w,_,f,p]):[f,p,f+A,p+E],t._bounds.push({left:k[0],top:k[1],right:k[2],bottom:k[3],div:o,size:[A,E],m:S})}}function l(t){if(!t._canceled){var e=t._textDivs,n=t._capability,r=e.length;if(r>1e5)return t._renderingDone=!0,void n.resolve();if(!t._textContentStream)for(var i=0;i<r;i++)t._layoutText(e[i]);t._renderingDone=!0,n.resolve()}}function h(t,e,n){for(var r=0,i=0;i<n;i++){var o=t[e++];o>0&&(r=r?Math.min(o,r):o)}return r}function d(t){for(var e=t._bounds,n=t._viewport,o=function(t,e,n){var r=n.map(function(t,e){return{x1:t.left,y1:t.top,x2:t.right,y2:t.bottom,index:e,x1New:void 0,x2New:void 0}});f(t,r);var o,s=new Array(n.length),a=i(r);try{for(a.s();!(o=a.n()).done;){var u=o.value;s[u.index]={left:u.x1New,top:0,right:u.x2New,bottom:0}}}catch(p){a.e(p)}finally{a.f()}n.map(function(e,n){var i=s[n],o=r[n];o.x1=e.top,o.y1=t-i.right,o.x2=e.bottom,o.y2=t-i.left,o.index=n,o.x1New=void 0,o.x2New=void 0}),f(e,r);var c,l=i(r);try{for(l.s();!(c=l.n()).done;){var h=c.value,d=h.index;s[d].top=h.x1New,s[d].bottom=h.x2New}}catch(p){l.e(p)}finally{l.f()}return s}(n.width,n.height,e),s=0;s<o.length;s++){var a=e[s].div,u=t._textDivProperties.get(a);if(0!==u.angle){for(var c=o[s],l=e[s],d=l.m,p=d[0],g=d[1],m=[[0,0],[0,l.size[1]],[l.size[0],0],l.size],v=new Float64Array(64),y=0,b=m.length;y<b;y++){var _=r.Util.applyTransform(m[y],d);v[y+0]=p&&(c.left-_[0])/p,v[y+4]=g&&(c.top-_[1])/g,v[y+8]=p&&(c.right-_[0])/p,v[y+12]=g&&(c.bottom-_[1])/g,v[y+16]=g&&(c.left-_[0])/-g,v[y+20]=p&&(c.top-_[1])/p,v[y+24]=g&&(c.right-_[0])/-g,v[y+28]=p&&(c.bottom-_[1])/p,v[y+32]=p&&(c.left-_[0])/-p,v[y+36]=g&&(c.top-_[1])/-g,v[y+40]=p&&(c.right-_[0])/-p,v[y+44]=g&&(c.bottom-_[1])/-g,v[y+48]=g&&(c.left-_[0])/g,v[y+52]=p&&(c.top-_[1])/-p,v[y+56]=g&&(c.right-_[0])/g,v[y+60]=p&&(c.bottom-_[1])/-p}var w=1+Math.min(Math.abs(p),Math.abs(g));u.paddingLeft=h(v,32,16)/w,u.paddingTop=h(v,48,16)/w,u.paddingRight=h(v,0,16)/w,u.paddingBottom=h(v,16,16)/w,t._textDivProperties.set(a,u)}else u.paddingLeft=e[s].left-o[s].left,u.paddingTop=e[s].top-o[s].top,u.paddingRight=o[s].right-e[s].right,u.paddingBottom=o[s].bottom-e[s].bottom,t._textDivProperties.set(a,u)}}function f(t,e){e.sort(function(t,e){return t.x1-e.x1||t.index-e.index});var n,r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}],o=i(e);try{for(o.s();!(n=o.n()).done;){for(var s=n.value,a=0;a<r.length&&r[a].end<=s.y1;)a++;for(var u=r.length-1;u>=0&&r[u].start>=s.y2;)u--;var c=void 0,l=void 0,h=void 0,d=void 0,f=-1/0;for(h=a;h<=u;h++){var p;(p=(l=(c=r[h]).boundary).x2>s.x1?l.index>s.index?l.x1New:s.x1:void 0===l.x2New?(l.x2+s.x1)/2:l.x2New)>f&&(f=p)}for(s.x1New=f,h=a;h<=u;h++)void 0===(l=(c=r[h]).boundary).x2New?l.x2>s.x1?l.index>s.index&&(l.x2New=l.x2):l.x2New=f:l.x2New>f&&(l.x2New=Math.max(f,l.x2));var g=[],m=null;for(h=a;h<=u;h++){var v=(l=(c=r[h]).boundary).x2>s.x2?l:s;m===v?g[g.length-1].end=c.end:(g.push({start:c.start,end:c.end,boundary:v}),m=v)}for(r[a].start<s.y1&&(g[0].start=s.y1,g.unshift({start:r[a].start,end:s.y1,boundary:r[a].boundary})),s.y2<r[u].end&&(g[g.length-1].end=s.y2,g.push({start:s.y2,end:r[u].end,boundary:r[u].boundary})),h=a;h<=u;h++)if(void 0===(l=(c=r[h]).boundary).x2New){var y=!1;for(d=a-1;!y&&d>=0&&r[d].start>=l.y1;d--)y=r[d].boundary===l;for(d=u+1;!y&&d<r.length&&r[d].end<=l.y2;d++)y=r[d].boundary===l;for(d=0;!y&&d<g.length;d++)y=g[d].boundary===l;y||(l.x2New=f)}Array.prototype.splice.apply(r,[a,u-a+1].concat(g))}}catch(S){o.e(S)}finally{o.f()}for(var b=0,_=r;b<_.length;b++){var w=_[b].boundary;void 0===w.x2New&&(w.x2New=Math.max(t,w.x2))}}var p=function(){function t(e){var n,i=this,o=e.textContent,s=e.textContentStream,a=e.container,u=e.viewport,c=e.textDivs,l=e.textContentItemsStr,h=e.enhanceTextSelection;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._textContent=o,this._textContentStream=s,this._container=a,this._document=a.ownerDocument,this._viewport=u,this._textDivs=c||[],this._textContentItemsStr=l||[],this._enhanceTextSelection=!!h,this._fontInspectorEnabled=!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){i._enhanceTextSelection||(i._textDivProperties=null),i._layoutTextCtx&&(i._layoutTextCtx.canvas.width=0,i._layoutTextCtx.canvas.height=0,i._layoutTextCtx=null)}).catch(function(){})}var e;return(e=[{key:"promise",get:function(){return this._capability.promise}},{key:"cancel",value:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(function(){}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function(t,e){for(var n=0,r=t.length;n<r;n++)if(void 0!==t[n].str)this._textContentItemsStr.push(t[n].str),c(this,t[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===t[n].type||"beginMarkedContent"===t[n].type){var i=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==t[n].id&&this._container.setAttribute("id","".concat(t[n].id)),i.appendChild(this._container)}else"endMarkedContent"===t[n].type&&(this._container=this._container.parentNode)}},{key:"_layoutText",value:function(t){var e=this._textDivProperties.get(t),n="";if(0!==e.canvasWidth&&e.hasText){var r=t.style,i=r.fontSize,o=r.fontFamily;i===this._layoutTextLastFontSize&&o===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(i," ").concat(o),this._layoutTextLastFontSize=i,this._layoutTextLastFontFamily=o);var s=this._layoutTextCtx.measureText(t.textContent).width;if(s>0){var a=e.canvasWidth/s;this._enhanceTextSelection&&(e.scale=a),n="scaleX(".concat(a,")")}}if(0!==e.angle&&(n="rotate(".concat(e.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),t.style.transform=n),e.hasText&&this._container.appendChild(t),e.hasEOL){var u=document.createElement("br");u.setAttribute("role","presentation"),this._container.appendChild(u)}}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=(0,r.createPromiseCapability)(),i=Object.create(null),o=this._document.createElement("canvas");if(o.height=o.width=s,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){var a=this._textContent.items,u=this._textContent.styles;this._processItems(a,u),n.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');var c=function e(){t._reader.read().then(function(r){var o=r.value;r.done?n.resolve():(Object.assign(i,o.styles),t._processItems(o.items,i),e())},n.reject)};this._reader=this._textContentStream.getReader(),c()}n.promise.then(function(){i=null,e?t._renderTimer=setTimeout(function(){l(t),t._renderTimer=null},e):l(t)},this._capability.reject)}},{key:"expandTextDivs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(d(this),this._bounds=null);for(var e=[],n=[],r=0,i=this._textDivs.length;r<i;r++){var o=this._textDivs[r],s=this._textDivProperties.get(o);s.hasText&&(t?(e.length=0,n.length=0,s.originalTransform&&e.push(s.originalTransform),s.paddingTop>0?(n.push("".concat(s.paddingTop,"px")),e.push("translateY(".concat(-s.paddingTop,"px)"))):n.push(0),n.push(s.paddingRight>0?"".concat(s.paddingRight/s.scale,"px"):0),n.push(s.paddingBottom>0?"".concat(s.paddingBottom,"px"):0),s.paddingLeft>0?(n.push("".concat(s.paddingLeft/s.scale,"px")),e.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):n.push(0),o.style.padding=n.join(" "),e.length&&(o.style.transform=e.join(" "))):(o.style.padding=null,o.style.transform=s.originalTransform))}}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=n(4),i=n(1),o=n(6);function s(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||c(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function c(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=function t(){f(this,t),(0,r.unreachable)("Not implemented: SVGGraphics")};e.SVGGraphics=p;var g=function(t){if(Number.isInteger(t))return t.toString();var e=t.toFixed(10),n=e.length-1;if("0"!==e[n])return e;do{n--}while("0"===e[n]);return e.substring(0,"."===e[n]?n:n+1)},m=function(t){if(0===t[4]&&0===t[5]){if(0===t[1]&&0===t[2])return 1===t[0]&&1===t[3]?"":"scale(".concat(g(t[0])," ").concat(g(t[3]),")");if(t[0]===t[3]&&t[1]===-t[2]){var e=180*Math.acos(t[0])/Math.PI;return"rotate(".concat(g(e),")")}}else if(1===t[0]&&0===t[1]&&0===t[2]&&1===t[3])return"translate(".concat(g(t[4])," ").concat(g(t[5]),")");return"matrix(".concat(g(t[0])," ").concat(g(t[1])," ").concat(g(t[2])," ").concat(g(t[3])," ").concat(g(t[4])," ")+"".concat(g(t[5]),")")},v="normal",y="#000000",b=["butt","round","square"],_=["miter","round","bevel"],w=function(){for(var t=new Uint8Array([137,80,78,71,13,10,26,10]),e=new Int32Array(256),n=0;n<256;n++){for(var i=n,s=0;s<8;s++)i=1&i?3988292384^i>>1&2147483647:i>>1&2147483647;e[n]=i}function a(t,n,r,i){var o=i,s=n.length;r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s,r[o+=4]=255&t.charCodeAt(0),r[o+1]=255&t.charCodeAt(1),r[o+2]=255&t.charCodeAt(2),r[o+3]=255&t.charCodeAt(3),r.set(n,o+=4);var a=function(t,n,r){for(var i=-1,o=n;o<r;o++)i=i>>>8^e[255&(i^t[o])];return-1^i}(r,i+4,o+=n.length);r[o]=a>>24&255,r[o+1]=a>>16&255,r[o+2]=a>>8&255,r[o+3]=255&a}function u(t){var e=t.length,n=65535,r=Math.ceil(e/n),i=new Uint8Array(2+e+5*r+4),o=0;i[o++]=120,i[o++]=156;for(var s=0;e>n;)i[o++]=0,i[o++]=255,i[o++]=255,i[o++]=0,i[o++]=0,i.set(t.subarray(s,s+n),o),o+=n,s+=n,e-=n;i[o++]=1,i[o++]=255&e,i[o++]=e>>8&255,i[o++]=255&~e,i[o++]=(65535&~e)>>8&255,i.set(t.subarray(s),o),o+=t.length-s;var a=function(t,e,n){for(var r=1,i=0,o=0;o<n;++o)i=(i+(r=(r+(255&t[o]))%65521))%65521;return i<<16|r}(t,0,t.length);return i[o++]=a>>24&255,i[o++]=a>>16&255,i[o++]=a>>8&255,i[o++]=255&a,i}return function(e,n,i){return function(e,n,i,s){var c,l,h,d=e.width,f=e.height,p=e.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:l=0,c=1,h=d+7>>3;break;case r.ImageKind.RGB_24BPP:l=2,c=8,h=3*d;break;case r.ImageKind.RGBA_32BPP:l=6,c=8,h=4*d;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+h)*f),m=0,v=0,y=0;y<f;++y)g[m++]=0,g.set(p.subarray(v,v+h),m),v+=h,m+=h;if(n===r.ImageKind.GRAYSCALE_1BPP&&s){m=0;for(var b=0;b<f;b++){m++;for(var _=0;_<h;_++)g[m++]^=255}}var w=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,c,l,0,0,0]),S=function(t){if(!o.isNodeJS)return u(t);try{var e;e=parseInt(process.versions.node)>=8?t:Buffer.from(t);var n=__webpack_require__(324).deflateSync(e,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(i){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+i)}return u(t)}(g),k=new Uint8Array(t.length+36+w.length+S.length),A=0;return k.set(t,A),a("IHDR",w,k,A+=t.length),a("IDATA",S,k,A+=12+w.length),A+=12+S.length,a("IEND",new Uint8Array(0),k,A),(0,r.createObjectURL)(k,"image/png",i)}(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,n,i)}}(),S=function(){function t(){f(this,t),this.fontSizeScale=1,this.fontWeight=v,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=y,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return d(t,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}}]),t}(),k=0,A=0,E=0;e.SVGGraphics=p=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var s in f(this,t),this.svgFactory=new i.DOMSVGFactory,this.current=new S,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[s]]=s}return d(t,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(t){this.save(),this.executeOpTree(t),this.restore()}},{key:"loadDependencies",value:function(t){for(var e=this,n=t.fnArray,i=t.argsArray,o=0,s=n.length;o<s;o++)if(n[o]===r.OPS.dependency){var a,c=u(i[o]);try{var l=function(){var t=a.value,n=t.startsWith("g_")?e.commonObjs:e.objs,r=new Promise(function(e){n.get(t,e)});e.current.dependencies.push(r)};for(c.s();!(a=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(t,e,n,i,o,s){this.transformMatrix=r.Util.transform(this.transformMatrix,[t,e,n,i,o,s]),this.tgrp=null}},{key:"getSVG",value:function(t,e){var n=this;this.viewport=e;var i=this._initialize(e);return this.loadDependencies(t).then(function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(t)),i})}},{key:"convertOpList",value:function(t){for(var e=this._operatorIdMapping,n=t.argsArray,r=t.fnArray,i=[],o=0,s=r.length;o<s;o++){var a=r[o];i.push({fnId:a,fn:e[a],args:n[o]})}return function(t){var e,n=[],r=[],i=u(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;"save"!==o.fn?"restore"===o.fn?n=r.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(s){i.e(s)}finally{i.f()}return n}(i)}},{key:"executeOpTree",value:function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,o=i.fn,s=i.args;switch(0|i.fnId){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(i.items);break;default:(0,r.warn)("Unimplemented operator ".concat(o))}}}catch(a){n.e(a)}finally{n.f()}}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){var s=this.current;s.textMatrix=s.lineMatrix=[t,e,n,r,i,o],s.textMatrixScale=Math.hypot(t,e),s.x=s.lineX=0,s.y=s.lineY=0,s.xcoords=[],s.ycoords=[],s.tspan=this.svgFactory.createElement("svg:tspan"),s.tspan.setAttributeNS(null,"font-family",s.fontFamily),s.tspan.setAttributeNS(null,"font-size","".concat(g(s.fontSize),"px")),s.tspan.setAttributeNS(null,"y",g(-s.y)),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function(){var t=this.current;t.x=t.lineX=0,t.y=t.lineY=0,t.textMatrix=r.IDENTITY_MATRIX,t.lineMatrix=r.IDENTITY_MATRIX,t.textMatrixScale=1,t.tspan=this.svgFactory.createElement("svg:tspan"),t.txtElement=this.svgFactory.createElement("svg:text"),t.txtgrp=this.svgFactory.createElement("svg:g"),t.xcoords=[],t.ycoords=[]}},{key:"moveText",value:function(t,e){var n=this.current;n.x=n.lineX+=t,n.y=n.lineY+=e,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(g(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",g(-n.y))}},{key:"showText",value:function(t){var e=this.current,n=e.font,i=e.fontSize;if(0!==i){var o,s=e.fontSizeScale,a=e.charSpacing,c=e.wordSpacing,l=e.fontDirection,h=e.textHScale*l,d=n.vertical,f=d?1:-1,p=n.defaultVMetrics,b=i*e.fontMatrix[0],_=0,w=u(t);try{for(w.s();!(o=w.n()).done;){var S=o.value;if(null!==S)if((0,r.isNum)(S))_+=f*S*i/1e3;else{var k=(S.isSpace?c:0)+a,A=S.fontChar,E=void 0,C=void 0,T=S.width;if(d){var x=void 0,P=S.vmetric||p;x=S.vmetric?P[1]:.5*T,T=P?-P[0]:T,E=(x=-x*b)/s,C=(_+P[2]*b)/s}else E=_/s,C=0;(S.isInFont||n.missingFile)&&(e.xcoords.push(e.x+E),d&&e.ycoords.push(-e.y+C),e.tspan.textContent+=A),_+=d?T*b-k*l:T*b+k*l}else _+=l*c}}catch(R){w.e(R)}finally{w.f()}e.tspan.setAttributeNS(null,"x",e.xcoords.map(g).join(" ")),e.tspan.setAttributeNS(null,"y",d?e.ycoords.map(g).join(" "):g(-e.y)),d?e.y-=_:e.x+=_*h,e.tspan.setAttributeNS(null,"font-family",e.fontFamily),e.tspan.setAttributeNS(null,"font-size","".concat(g(e.fontSize),"px")),"normal"!==e.fontStyle&&e.tspan.setAttributeNS(null,"font-style",e.fontStyle),e.fontWeight!==v&&e.tspan.setAttributeNS(null,"font-weight",e.fontWeight);var I=e.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;I===r.TextRenderingMode.FILL||I===r.TextRenderingMode.FILL_STROKE?(e.fillColor!==y&&e.tspan.setAttributeNS(null,"fill",e.fillColor),e.fillAlpha<1&&e.tspan.setAttributeNS(null,"fill-opacity",e.fillAlpha)):e.tspan.setAttributeNS(null,"fill",e.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(I===r.TextRenderingMode.STROKE||I===r.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(e.tspan,1/(e.textMatrixScale||1));var O=e.textMatrix;0!==e.textRise&&((O=O.slice())[5]+=e.textRise),e.txtElement.setAttributeNS(null,"transform","".concat(m(O)," scale(").concat(g(h),", -1)")),e.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),e.txtElement.appendChild(e.tspan),e.txtgrp.appendChild(e.txtElement),this._ensureTransformGroup().appendChild(e.txtElement)}}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"addFontStyle",value:function(t){if(!t.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var e=(0,r.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(e,"); }\n")}},{key:"setFont",value:function(t){var e=this.current,n=this.commonObjs.get(t[0]),i=t[1];e.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),e.fontMatrix=n.fontMatrix||r.FONT_IDENTITY_MATRIX;var o="normal";n.black?o="900":n.bold&&(o="bold");var s=n.italic?"italic":"normal";i<0?(i=-i,e.fontDirection=-1):e.fontDirection=1,e.fontSize=i,e.fontFamily=n.loadedName,e.fontWeight=o,e.fontStyle=s,e.tspan=this.svgFactory.createElement("svg:tspan"),e.tspan.setAttributeNS(null,"y",g(-e.y)),e.xcoords=[],e.ycoords=[]}},{key:"endText",value:function(){var t,e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(t=e.txtElement)&&void 0!==t&&t.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(t){t>0&&(this.current.lineWidth=t)}},{key:"setLineCap",value:function(t){this.current.lineCap=b[t]}},{key:"setLineJoin",value:function(t){this.current.lineJoin=_[t]}},{key:"setMiterLimit",value:function(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function(t,e,n){this.current.strokeColor=r.Util.makeHexColor(t,e,n)}},{key:"setFillAlpha",value:function(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function(t,e,n){this.current.fillColor=r.Util.makeHexColor(t,e,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function(t){var e=this.viewport.width,n=this.viewport.height,i=r.Util.inverseTransform(this.transformMatrix),o=r.Util.applyTransform([0,0],i),s=r.Util.applyTransform([0,n],i),a=r.Util.applyTransform([e,0],i),u=r.Util.applyTransform([e,n],i),c=Math.min(o[0],s[0],a[0],u[0]),l=Math.min(o[1],s[1],a[1],u[1]),h=Math.max(o[0],s[0],a[0],u[0]),d=Math.max(o[1],s[1],a[1],u[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",c),f.setAttributeNS(null,"y",l),f.setAttributeNS(null,"width",h-c),f.setAttributeNS(null,"height",d-l),f.setAttributeNS(null,"fill",this._makeShadingPattern(t)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(t){return"TilingPattern"===t[0]?this._makeTilingPattern(t):this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function(t){var e=t[1],n=t[2],i=t[3]||r.IDENTITY_MATRIX,o=a(t[4],4),u=o[0],c=o[1],l=o[2],h=o[3],d=t[5],f=t[6],p=t[7],g="shading".concat(E++),m=a(r.Util.normalizeRect([].concat(s(r.Util.applyTransform([u,c],i)),s(r.Util.applyTransform([l,h],i)))),4),v=m[0],y=m[1],b=m[2],_=m[3],w=a(r.Util.singularValueDecompose2dScale(i),2),S=d*w[0],k=f*w[1],A=this.svgFactory.createElement("svg:pattern");A.setAttributeNS(null,"id",g),A.setAttributeNS(null,"patternUnits","userSpaceOnUse"),A.setAttributeNS(null,"width",S),A.setAttributeNS(null,"height",k),A.setAttributeNS(null,"x","".concat(v)),A.setAttributeNS(null,"y","".concat(y));var C=this.svg,T=this.transformMatrix,x=this.current.fillColor,P=this.current.strokeColor,I=this.svgFactory.create(b-v,_-y);if(this.svg=I,this.transformMatrix=i,2===p){var O=r.Util.makeHexColor.apply(r.Util,s(e));this.current.fillColor=O,this.current.strokeColor=O}return this.executeOpTree(this.convertOpList(n)),this.svg=C,this.transformMatrix=T,this.current.fillColor=x,this.current.strokeColor=P,A.appendChild(I.childNodes[0]),this.defs.appendChild(A),"url(#".concat(g,")")}},{key:"_makeShadingPattern",value:function(t){switch(t[0]){case"RadialAxial":var e,n="shading".concat(E++),i=t[3];switch(t[1]){case"axial":var o=t[4],s=t[5];(e=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"x1",o[0]),e.setAttributeNS(null,"y1",o[1]),e.setAttributeNS(null,"x2",s[0]),e.setAttributeNS(null,"y2",s[1]);break;case"radial":var a=t[4],c=t[5],l=t[6],h=t[7];(e=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),e.setAttributeNS(null,"cx",c[0]),e.setAttributeNS(null,"cy",c[1]),e.setAttributeNS(null,"r",h),e.setAttributeNS(null,"fx",a[0]),e.setAttributeNS(null,"fy",a[1]),e.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var d,f=u(i);try{for(f.s();!(d=f.n()).done;){var p=d.value,g=this.svgFactory.createElement("svg:stop");g.setAttributeNS(null,"offset",p[0]),g.setAttributeNS(null,"stop-color",p[1]),e.appendChild(g)}}catch(m){f.e(m)}finally{f.f()}return this.defs.appendChild(e),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function(t,e){this.current.dashArray=t,this.current.dashPhase=e}},{key:"constructPath",value:function(t,e){var n,i=this.current,o=i.x,s=i.y,a=[],c=0,l=u(t);try{for(l.s();!(n=l.n()).done;)switch(0|n.value){case r.OPS.rectangle:o=e[c++],s=e[c++];var h=o+e[c++],d=s+e[c++];a.push("M",g(o),g(s),"L",g(h),g(s),"L",g(h),g(d),"L",g(o),g(d),"Z");break;case r.OPS.moveTo:o=e[c++],s=e[c++],a.push("M",g(o),g(s));break;case r.OPS.lineTo:o=e[c++],s=e[c++],a.push("L",g(o),g(s));break;case r.OPS.curveTo:o=e[c+4],s=e[c+5],a.push("C",g(e[c]),g(e[c+1]),g(e[c+2]),g(e[c+3]),g(o),g(s)),c+=6;break;case r.OPS.curveTo2:a.push("C",g(o),g(s),g(e[c]),g(e[c+1]),g(e[c+2]),g(e[c+3])),o=e[c+2],s=e[c+3],c+=4;break;case r.OPS.curveTo3:o=e[c+2],s=e[c+3],a.push("C",g(e[c]),g(e[c+1]),g(o),g(s),g(o),g(s)),c+=4;break;case r.OPS.closePath:a.push("Z")}}catch(f){l.e(f)}finally{l.f()}a=a.join(" "),i.path&&t.length>0&&t[0]!==r.OPS.rectangle&&t[0]!==r.OPS.moveTo?a=i.path.getAttributeNS(null,"d")+a:(i.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(i.path)),i.path.setAttributeNS(null,"d",a),i.path.setAttributeNS(null,"fill","none"),i.element=i.path,i.setCurrentPoint(o,s)}},{key:"endPath",value:function(){var t=this.current;if(t.path=null,this.pendingClip)if(t.element){var e="clippath".concat(k++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",e),n.setAttributeNS(null,"transform",m(this.transformMatrix));var r=t.element.cloneNode(!0);if(r.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),t.activeClipUrl){t.clipGroup=null;var i,o=u(this.extraStack);try{for(o.s();!(i=o.n()).done;)i.value.clipGroup=null}catch(s){o.e(s)}finally{o.f()}n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(e,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(t){this.pendingClip=t}},{key:"closePath",value:function(){var t=this.current;if(t.path){var e="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",e)}}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;){var i=a(e.value,2),o=i[0],s=i[1];switch(o){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s);break;case"CA":this.setStrokeAlpha(s);break;case"ca":this.setFillAlpha(s);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(o))}}}catch(c){n.e(c)}finally{n.f()}}},{key:"fill",value:function(){var t=this.current;t.element&&(t.element.setAttributeNS(null,"fill",t.fillColor),t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var t=this.current;t.element&&(this._setStrokeAttributes(t.element),t.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==e&&r.length>0&&(r=r.map(function(t){return e*t})),t.setAttributeNS(null,"stroke",n.strokeColor),t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),t.setAttributeNS(null,"stroke-miterlimit",g(n.miterLimit)),t.setAttributeNS(null,"stroke-linecap",n.lineCap),t.setAttributeNS(null,"stroke-linejoin",n.lineJoin),t.setAttributeNS(null,"stroke-width",g(e*n.lineWidth)+"px"),t.setAttributeNS(null,"stroke-dasharray",r.map(g).join(" ")),t.setAttributeNS(null,"stroke-dashoffset",g(e*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0"),t.setAttributeNS(null,"y","0"),t.setAttributeNS(null,"width","1px"),t.setAttributeNS(null,"height","1px"),t.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function(t){var e=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);e?this.paintInlineImageXObject(e):(0,r.warn)("Dependent image with object ID ".concat(t," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(t,e){var n=t.width,r=t.height,i=w(t,this.forceDataSchema,!!e),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",g(n)),o.setAttributeNS(null,"height",g(r)),this.current.element=o,this.clip("nonzero");var s=this.svgFactory.createElement("svg:image");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i),s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y",g(-r)),s.setAttributeNS(null,"width",g(n)+"px"),s.setAttributeNS(null,"height",g(r)+"px"),s.setAttributeNS(null,"transform","scale(".concat(g(1/n)," ").concat(g(-1/r),")")),e?e.appendChild(s):this._ensureTransformGroup().appendChild(s)}},{key:"paintImageMaskXObject",value:function(t){var e=this.current,n=t.width,r=t.height,i=e.fillColor;e.maskId="mask".concat(A++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",e.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width",g(n)),s.setAttributeNS(null,"height",g(r)),s.setAttributeNS(null,"fill",i),s.setAttributeNS(null,"mask","url(#".concat(e.maskId,")")),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(s),this.paintInlineImageXObject(t,o)}},{key:"paintFormXObjectBegin",value:function(t,e){if(Array.isArray(t)&&6===t.length&&this.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e){var n=e[2]-e[0],r=e[3]-e[1],i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",e[0]),i.setAttributeNS(null,"y",e[1]),i.setAttributeNS(null,"width",g(n)),i.setAttributeNS(null,"height",g(r)),this.current.element=i,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(t){var e=this.svgFactory.create(t.width,t.height),n=this.svgFactory.createElement("svg:defs");e.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",m(t.transform)),e.appendChild(r),this.svg=r,e}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(t),this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",m(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=n(4),i=n(130);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.XfaLayer=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,(n=[{key:"setupStorage",value:function(t,e,n,r,i){var o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(t.textContent=o.value),"print"===i)break;t.addEventListener("input",function(t){r.setValue(e,{value:t.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",function(t){r.setValue(e,{value:t.target.getAttribute(t.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==o.value&&t.setAttribute("value",o.value),"print"===i)break;t.addEventListener("input",function(t){r.setValue(e,{value:t.target.value})})}break;case"select":if(null!==o.value){var a,u=s(n.children);try{for(u.s();!(a=u.n()).done;){var c=a.value;c.attributes.value===o.value&&(c.attributes.selected=!0)}}catch(l){u.e(l)}finally{u.f()}}t.addEventListener("input",function(t){var n=t.target.options;r.setValue(e,{value:-1===n.selectedIndex?"":n[n.selectedIndex].value})})}}},{key:"setAttributes",value:function(t){var e,n=t.html,i=t.element,s=t.storage,a=void 0===s?null:s,u=t.intent,c=t.linkService,l=i.attributes,h=n instanceof HTMLAnchorElement;"radio"===l.type&&(l.name="".concat(l.name,"-").concat(u));for(var d=0,f=Object.entries(l);d<f.length;d++){var p=o(f[d],2),g=p[0],m=p[1];if(null!=m&&"dataId"!==g)if("style"!==g)if("textContent"===g)n.textContent=m;else if("class"===g)n.setAttribute(g,m.join(" "));else{if(h&&("href"===g||"newWindow"===g))continue;n.setAttribute(g,m)}else Object.assign(n.style,m)}h&&(c.addLinkAttributes||(0,r.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),null===(e=c.addLinkAttributes)||void 0===e||e.call(c,n,l.href,l.newWindow)),a&&l.dataId&&this.setupStorage(n,l.dataId,i,a)}},{key:"render",value:function(t){var e=t.annotationStorage,n=t.linkService,r=t.xfa,a=t.intent||"display",u=document.createElement(r.name);r.attributes&&this.setAttributes({html:u,element:r,intent:a,linkService:n});var c=[[r,-1,u]],l=t.div;l.appendChild(u);var h="matrix(".concat(t.viewport.transform.join(","),")");l.style.transform=h,l.setAttribute("class","xfaLayer xfaFont");for(var d=[];c.length>0;){var f,p=o(c[c.length-1],3),g=p[0],m=p[2];if(p[1]+1!==g.children.length){var v=g.children[++c[c.length-1][1]];if(null!==v){var y=v.name;if("#text"!==y){var b=void 0;if(b=null!=v&&null!==(f=v.attributes)&&void 0!==f&&f.xmlns?document.createElementNS(v.attributes.xmlns,y):document.createElement(y),m.appendChild(b),v.attributes&&this.setAttributes({html:b,element:v,storage:e,intent:a,linkService:n}),v.children&&v.children.length>0)c.push([v,-1,b]);else if(v.value){var _=document.createTextNode(v.value);i.XfaText.shouldBuildText(y)&&d.push(_),b.appendChild(_)}}else{var w=document.createTextNode(v.value);d.push(w),m.appendChild(w)}}}else c.pop()}var S,k=s(l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(k.s();!(S=k.n()).done;)S.value.setAttribute("readOnly",!0)}catch(A){k.e(A)}finally{k.f()}return{textDivs:d}}},{key:"update",value:function(t){var e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}])&&c(e,n),t}()},(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var i,o=(i=n(2))&&i.__esModule?i:{default:i},s=n(4),a=n(137);function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){f(o,r,i,s,a,"next",t)}function a(t){f(o,r,i,s,a,"throw",t)}s(void 0)})}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}var b=__webpack_require__(767),_=__webpack_require__(251),w=__webpack_require__(677),S=__webpack_require__(543),k=/^file:\/\/\/[a-zA-Z]:\//;e.PDFNodeStream=function(){function t(e){var n,r;m(this,t),this.source=e,this.url="file:"===(r=S.parse(n=e.url)).protocol||r.host?r:/^[a-z]:[/\\]/i.test(n)?S.parse("file:///".concat(n)):(r.host||(r.protocol="file:"),r),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return y(t,[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new P(this):new T(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=this.isFsUrl?new I(this,t,e):new x(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(r){n.e(r)}finally{n.f()}}}]),t}();var A=function(){function t(e){m(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}var e;return y(t,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=p(o.default.mark(function t(){var e,n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(e=this._readableStream.read())){t.next=10;break}return this._readCapability=(0,s.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",function(){e._readCapability.resolve()}),t.on("end",function(){t.destroy(),e._done=!0,e._readCapability.resolve()}),t.on("error",function(t){e._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),t}(),E=function(){function t(e){m(this,t),this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!e.source.disableStream}var e;return y(t,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=p(o.default.mark(function t(){var e,n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:if(null!==(e=this._readableStream.read())){t.next=10;break}return this._readCapability=(0,s.createPromiseCapability)(),t.abrupt("return",this.read());case 10:return this._loaded+=e.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(e).buffer,t.abrupt("return",{value:n,done:!1});case 14:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._readableStream?this._readableStream.destroy(t):this._error(t)}},{key:"_error",value:function(t){this._storedError=t,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(t){var e=this;this._readableStream=t,t.on("readable",function(){e._readCapability.resolve()}),t.on("end",function(){t.destroy(),e._done=!0,e._readCapability.resolve()}),t.on("error",function(t){e._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}]),t}();function C(t,e){return{protocol:t.protocol,auth:t.auth,host:t.hostname,port:t.port,path:t.path,method:"GET",headers:e}}var T=function(t){u(n,t);var e=l(n);function n(t){var r;m(this,n);var i=function(e){if(404===e.statusCode){var n=new s.MissingPDFException('Missing PDF "'.concat(r._url,'".'));return r._storedError=n,void r._headersCapability.reject(n)}r._headersCapability.resolve(),r._setReadableStream(e);var i=function(t){return r._readableStream.headers[t.toLowerCase()]},o=(0,a.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:t.isHttp,rangeChunkSize:r._rangeChunkSize,disableRange:r._disableRange}),u=o.suggestedLength;r._isRangeSupported=o.allowRangeRequests,r._contentLength=u||r._contentLength,r._filename=(0,a.extractFilenameFromHeader)(i)};return(r=e.call(this,t))._request=null,r._request="http:"===r._url.protocol?_.request(C(r._url,t.httpHeaders),i):w.request(C(r._url,t.httpHeaders),i),r._request.on("error",function(t){r._storedError=t,r._headersCapability.reject(t)}),r._request.end(),r}return n}(A),x=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;for(var a in m(this,n),(o=e.call(this,t))._httpHeaders={},t.httpHeaders){var u=t.httpHeaders[a];void 0!==u&&(o._httpHeaders[a]=u)}o._httpHeaders.Range="bytes=".concat(r,"-").concat(i-1);var c=function(t){if(404!==t.statusCode)o._setReadableStream(t);else{var e=new s.MissingPDFException('Missing PDF "'.concat(o._url,'".'));o._storedError=e}};return o._request=null,o._request="http:"===o._url.protocol?_.request(C(o._url,o._httpHeaders),c):w.request(C(o._url,o._httpHeaders),c),o._request.on("error",function(t){o._storedError=t}),o._request.end(),o}return n}(E),P=function(t){u(n,t);var e=l(n);function n(t){var r;m(this,n),r=e.call(this,t);var i=decodeURIComponent(r._url.path);return k.test(r._url.href)&&(i=i.replace(/^\//,"")),b.lstat(i,function(t,e){if(t)return"ENOENT"===t.code&&(t=new s.MissingPDFException('Missing PDF "'.concat(i,'".'))),r._storedError=t,void r._headersCapability.reject(t);r._contentLength=e.size,r._setReadableStream(b.createReadStream(i)),r._headersCapability.resolve()}),r}return n}(A),I=function(t){u(n,t);var e=l(n);function n(t,r,i){var o;m(this,n),o=e.call(this,t);var s=decodeURIComponent(o._url.path);return k.test(o._url.href)&&(s=s.replace(/^\//,"")),o._setReadableStream(b.createReadStream(s,{start:r,end:i-1})),o}return n}(E)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=function(t,e){return 404===t||0===t&&e.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+e+'".'):new r.UnexpectedResponseException("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)},e.extractFilenameFromHeader=function(t){var e=t("Content-Disposition");if(e){var n=(0,i.getFilenameFromContentDispositionHeader)(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if((0,o.isPdfFile)(n))return n}return null},e.validateRangeRequestCapabilities=function(t){var e=t.getResponseHeader,n=t.isHttp,i=t.rangeChunkSize,o=t.disableRange;(0,r.assert)(i>0,"Range chunk size must be larger than zero");var s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);return Number.isInteger(a)?(s.suggestedLength=a,a<=2*i||o||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s):s},e.validateResponseStatus=function(t){return 200===t||206===t};var r=n(4),i=n(138),o=n(1)},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=function(t){var e=!0,n=a("filename\\*","i").exec(t);if(n){var o=l(n=n[1]);return c(o=d(o=h(o=unescape(o))))}if(n=function(t){for(var e,n=[],r=a("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(e=r.exec(t));){var o=i(e,4),s=o[1],u=o[2],c=o[3];if((s=parseInt(s,10))in n){if(0===s)break}else n[s]=[u,c]}for(var d=[],f=0;f<n.length&&f in n;++f){var p=i(n[f],2),g=p[0],m=p[1];m=l(m),g&&(m=unescape(m),0===f&&(m=h(m))),d.push(m)}return d.join("")}(t))return c(d(n));if(n=a("filename","i").exec(t)){var s=l(n=n[1]);return c(s=d(s))}function a(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function u(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var i=new TextDecoder(t,{fatal:!0}),o=(0,r.stringToBytes)(n);n=i.decode(o),e=!1}catch(s){if(/^utf-?8$/i.test(t))try{n=decodeURIComponent(escape(n)),e=!1}catch(a){}}}return n}function c(t){return e&&/[\x80-\xff]/.test(t)&&(t=u("utf-8",t),e&&(t=u("iso-8859-1",t))),t}function l(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),n=0;n<e.length;++n){var r=e[n].indexOf('"');-1!==r&&(e[n]=e[n].slice(0,r),e.length=n+1),e[n]=e[n].replace(/\\(.)/g,"$1")}t=e.join('"')}return t}function h(t){var e=t.indexOf("'");return-1===e?t:u(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function d(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(t,e,n,r){if("q"===n||"Q"===n)return u(e,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}));try{r=atob(r)}catch(i){}return u(e,r)})}return""};var r=n(4);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(137);function a(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)})}}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var p=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(this,t),this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return f(t,[{key:"requestRange",value:function(t,e,n){var r={begin:t,end:e};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};for(var i in e.open("GET",this.url),e.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];void 0!==o&&e.setRequestHeader(i,o)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}},{key:"onProgress",value:function(t,e){var n,r=this.pendingRequests[t];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,e))}},{key:"onStateChange",value:function(t,e){var n=this.pendingRequests[t];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===r.status&&this.isHttp){var i;null===(i=n.onError)||void 0===i||i.call(n,r.status)}else{var s=r.status||200;if(200===s&&206===n.expectedStatus||s===n.expectedStatus){var a=function(t){var e=t.response;return"string"!=typeof e?e:(0,o.stringToBytes)(e).buffer}(r);if(206===s){var u=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(c[1],10),chunk:a})}else if(a)n.onDone({begin:0,chunk:a});else{var l;null===(l=n.onError)||void 0===l||l.call(n,r.status)}}else{var h;null===(h=n.onError)||void 0===h||h.call(n,r.status)}}}}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}]),t}();e.PDFNetworkStream=function(){function t(e){h(this,t),this._source=e,this._manager=new p(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return f(t,[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var n=new m(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var n,r=c(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;)n.value.cancel(t)}catch(i){r.e(i)}finally{r.f()}}}]),t}();var g=function(){function t(e,n){h(this,t),this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}var e;return f(t,[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=function(t){return e.getResponseHeader(t)},r=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.suggestedLength;r.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,s.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(t){this._storedError=(0,s.createResponseStatusError)(t,this._url),this._headersReceivedCapability.reject(this._storedError);var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.reject(this._storedError)}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(e=u(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}return e=this._cachedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 10:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t);var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),t}(),m=function(){function t(e,n,r){h(this,t),this._manager=e;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}var e;return f(t,[{key:"_close",value:function(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}},{key:"_onDone",value:function(t){var e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;var n,r=c(this._requests);try{for(r.s();!(n=r.n()).done;)n.value.resolve({value:void 0,done:!0})}catch(i){r.e(i)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(t){this._storedError=(0,s.createResponseStatusError)(t,this._url);var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.reject(this._storedError)}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(t){var e;this.isStreamingSupported||null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(e=u(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){t.next=6;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 6:if(!this._done){t.next=8;break}return t.abrupt("return",{value:void 0,done:!0});case 8:return n=(0,o.createPromiseCapability)(),this._requests.push(n),t.abrupt("return",n.promise);case 11:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=c(this._requests);try{for(n.s();!(e=n.n()).done;)e.value.resolve({value:void 0,done:!0})}catch(r){n.e(r)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),t}()},(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(137);function a(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)})}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}function f(t,e,n){return{method:"GET",headers:t,signal:null==n?void 0:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function p(t){var e=new Headers;for(var n in t){var r=t[n];void 0!==r&&e.append(n,r)}return e}e.PDFFetchStream=function(){function t(e){l(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return d(t,[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new g(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new m(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}(this._rangeRequestReaders.slice(0));try{for(n.s();!(e=n.n()).done;)e.value.cancel(t)}catch(r){n.e(r)}finally{n.f()}}}]),t}();var g=function(){function t(e){var n=this;l(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=p(this._stream.httpHeaders);var i=r.url;fetch(i,f(this._headers,this._withCredentials,this._abortController)).then(function(t){if(!(0,s.validateResponseStatus)(t.status))throw(0,s.createResponseStatusError)(t.status,i);n._reader=t.body.getReader(),n._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=(0,s.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),a=r.suggestedLength;n._isRangeSupported=r.allowRangeRequests,n._contentLength=a||n._contentLength,n._filename=(0,s.extractFilenameFromHeader)(e),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}var e;return d(t,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=u(i.default.mark(function t(){var e,n,r,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(n=(e=t.sent).value,!(r=e.done)){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),o=new Uint8Array(n).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),t}(),m=function(){function t(e,n,r){var i=this;l(this,t),this._stream=e,this._reader=null,this._loaded=0;var a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!a.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=p(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var u=a.url;fetch(u,f(this._headers,this._withCredentials,this._abortController)).then(function(t){if(!(0,s.validateResponseStatus)(t.status))throw(0,s.createResponseStatusError)(t.status,u);i._readCapability.resolve(),i._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}var e;return d(t,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(e=u(i.default.mark(function t(){var e,n,r,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(n=(e=t.sent).value,!(r=e.done)){t.next=9;break}return t.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),o=new Uint8Array(n).buffer,t.abrupt("return",{value:o,done:!1});case 13:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(t){this._reader&&this._reader.cancel(t),this._abortController&&this._abortController.abort()}}]),t}()}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__w_pdfjs_require__),n.loaded=!0,n.exports}__w_pdfjs_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__={};return(()=>{"use strict";var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return e.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return e.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return e.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return e.getXfaPageViewport}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return e.isPdfFile}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return e.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return e.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return e.PDFDateString}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return e.PixelsPerInch}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return e.RenderingCancelledException}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return n.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return n.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return n.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return n.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return r.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return o.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return c.XfaLayer}});var e=__w_pdfjs_require__(1),n=__w_pdfjs_require__(4),r=__w_pdfjs_require__(119),i=__w_pdfjs_require__(131),o=__w_pdfjs_require__(125),s=__w_pdfjs_require__(6),a=__w_pdfjs_require__(133),u=__w_pdfjs_require__(134),c=__w_pdfjs_require__(135);if(s.isNodeJS){var l=__w_pdfjs_require__(136).PDFNodeStream;(0,r.setPDFNetworkStreamFactory)(function(t){return new l(t)})}else{var h=__w_pdfjs_require__(139).PDFNetworkStream,d=__w_pdfjs_require__(140).PDFFetchStream;(0,r.setPDFNetworkStreamFactory)(function(t){return(0,e.isValidFetchUrl)(t.url)?new d(t):new h(t)})}})(),__webpack_exports__})()},module.exports=factory()},917:function(t,e,n){var r;r=function(){return(()=>{"use strict";var t=[,(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultAnnotationLayerFactory=e.AnnotationLayerBuilder=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(5),a=n(6);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}var p=function(){function t(e){var n=e.pageDiv,r=e.pdfPage,i=e.linkService,o=e.downloadManager,a=e.annotationStorage,u=void 0===a?null:a,c=e.imageResourcesPath,l=void 0===c?"":c,d=e.renderForms,f=void 0===d||d,p=e.l10n,g=void 0===p?s.NullL10n:p,m=e.enableScripting,v=void 0!==m&&m,y=e.hasJSActionsPromise,b=void 0===y?null:y,_=e.fieldObjectsPromise,w=void 0===_?null:_,S=e.mouseState,k=void 0===S?null:S;h(this,t),this.pageDiv=n,this.pdfPage=r,this.linkService=i,this.downloadManager=o,this.imageResourcesPath=l,this.renderForms=f,this.l10n=g,this.annotationStorage=u,this.enableScripting=v,this._hasJSActionsPromise=b,this._fieldObjectsPromise=w,this._mouseState=k,this.div=null,this._cancelled=!1}var e,n;return f(t,[{key:"render",value:(e=i.default.mark(function t(e){var n,r,s,a,c,l,h,d,f=arguments;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"display",t.next=3,Promise.all([this.pdfPage.getAnnotations({intent:n}),this._hasJSActionsPromise,this._fieldObjectsPromise]);case 3:if(r=u(t.sent,3),s=r[0],c=void 0!==(a=r[1])&&a,h=void 0===(l=r[2])?null:l,!this._cancelled&&0!==s.length){t.next=12;break}return t.abrupt("return");case 12:d={viewport:e.clone({dontFlip:!0}),div:this.div,annotations:s,page:this.pdfPage,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:c,fieldObjects:h,mouseState:this._mouseState},this.div?o.AnnotationLayer.update(d):(this.div=document.createElement("div"),this.div.className="annotationLayer",this.pageDiv.appendChild(this.div),d.div=this.div,o.AnnotationLayer.render(d),this.l10n.translate(this.div));case 14:case"end":return t.stop()}},t,this)}),n=function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(t){l(o,r,i,s,a,"next",t)}function a(t){l(o,r,i,s,a,"throw",t)}s(void 0)})},function(t){return n.apply(this,arguments)})},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),t}();e.AnnotationLayerBuilder=p,e.DefaultAnnotationLayerFactory=function(){function t(){h(this,t)}return f(t,[{key:"createAnnotationLayerBuilder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.NullL10n,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;return new p({pageDiv:t,pdfPage:e,imageResourcesPath:r,renderForms:i,linkService:new a.SimpleLinkService,l10n:o,annotationStorage:n,enableScripting:u,hasJSActionsPromise:c,fieldObjectsPromise:h,mouseState:l})}}]),t}()},(t,e,n)=>{t.exports=n(3)},(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){var e,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(R){c=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=Object.create((e&&e.prototype instanceof v?e:v).prototype),o=new P(r||[]);return i._invoke=function(t,e,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===g){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=h(t,e,n);if("normal"===u.type){if(r=n.done?g:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=g,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(R){return{type:"throw",arg:R}}}t.wrap=l;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function v(){}function y(){}function b(){}var _={};c(_,s,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(I([])));S&&S!==n&&i.call(S,s)&&(_=S);var k=b.prototype=v.prototype=Object.create(_);function A(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function n(o,s,a,u){var c=h(t[o],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"===r(d)&&i.call(d,"__await")?e.resolve(d.__await).then(function(t){n("next",t,a,u)},function(t){n("throw",t,a,u)}):e.resolve(d).then(function(t){l.value=t,a(l)},function(t){return n("throw",t,a,u)})}u(c.arg)}var o;this._invoke=function(t,r){function i(){return new e(function(e,i){n(t,r,e,i)})}return o=o?o.then(i,i):i()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return y.prototype=b,c(k,"constructor",b),c(b,"constructor",y),y.displayName=c(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,c(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},A(E.prototype),c(E.prototype,a,function(){return this}),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new E(l(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then(function(t){return t.done?t.value:s.next()})},A(k),c(k,u,"Generator"),c(k,s,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}("object"===r(t=n.nmd(t))?t.exports:{});try{regeneratorRuntime=i}catch(o){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},t=>{var e;e="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:n(465),t.exports=e},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fixupLangCode=function(t){return c[null==t?void 0:t.toLowerCase()]||t},e.getL10nFallback=u,e.NullL10n=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};function o(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function a(t){o(s,r,i,a,u,"next",t)}function u(t){o(s,r,i,a,u,"throw",t)}a(void 0)})}}var a={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function u(t,e){switch(t){case"find_match_count":t="find_match_count[".concat(1===e.total?"one":"other","]");break;case"find_match_count_limit":t="find_match_count_limit[".concat(1===e.limit?"one":"other","]")}return a[t]||""}var c={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};function l(t,e){return e?t.replace(/\{\{\s*(\w+)\s*\}\}/g,function(t,n){return n in e?e[n]:"{{"+n+"}}"}):t}e.NullL10n={getLanguage:function(){return s(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","en-us");case 1:case"end":return t.stop()}},t)}))()},getDirection:function(){return s(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return","ltr");case 1:case"end":return t.stop()}},t)}))()},get:function(t){var e=arguments;return s(i.default.mark(function n(){var r,o;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>1&&void 0!==e[1]?e[1]:null,o=e.length>2&&void 0!==e[2]?e[2]:u(t,r),n.abrupt("return",l(o,r));case 3:case"end":return n.stop()}},n)}))()},translate:function(t){return s(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}))()}}},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleLinkService=e.PDFLinkService=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(7);function a(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,u,"next",t)}function u(t){a(o,r,i,s,u,"throw",t)}s(void 0)})}}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}e.PDFLinkService=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.eventBus,r=e.externalLinkTarget,i=void 0===r?null:r,o=e.externalLinkRel,s=void 0===o?null:o,a=e.ignoreDestinationZoom,u=void 0!==a&&a;l(this,t),this.eventBus=n,this.externalLinkTarget=i,this.externalLinkRel=s,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=u,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}var e;return d(t,[{key:"setDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=e,this.pdfDocument=t,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setHistory",value:function(t){this.pdfHistory=t}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(t){this.pdfViewer.currentPageNumber=t}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(t){this.pdfViewer.pagesRotation=t}},{key:"_goToDestinationHelper",value:function(t){var e,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,o=i[0];if("object"===c(o)&&null!==o){if(null===(e=this._cachedPageNumber(o)))return void this.pdfDocument.getPageIndex(o).then(function(e){n.cachePageRef(e+1,o),n._goToDestinationHelper(t,r,i)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(o,'" is not ')+'a valid page reference, for dest="'.concat(t,'".'))})}else{if(!Number.isInteger(o))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(o,'" is not ')+'a valid destination reference, for dest="'.concat(t,'".'));e=o+1}!e||e<1||e>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(e,'" is not ')+'a valid page number, for dest="'.concat(t,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:r,explicitDest:i,pageNumber:e})),this.pdfViewer.scrollPageIntoView({pageNumber:e,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(e=u(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pdfDocument){t.next=2;break}return t.abrupt("return");case 2:if("string"!=typeof e){t.next=9;break}return n=e,t.next=6,this.pdfDocument.getDestination(e);case 6:r=t.sent,t.next=13;break;case 9:return n=null,t.next=12,e;case 12:r=t.sent;case 13:if(Array.isArray(r)){t.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(r,'" is not ')+'a valid destination array, for dest="'.concat(e,'".')),t.abrupt("return");case 16:this._goToDestinationHelper(e,n,r);case 17:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"goToPage",value:function(t){if(this.pdfDocument){var e="string"==typeof t&&this.pdfViewer.pageLabelToPageNumber(t)||0|t;Number.isInteger(e)&&e>0&&e<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(e)),this.pdfViewer.scrollPageIntoView({pageNumber:e})):console.error('PDFLinkService.goToPage: "'.concat(t,'" is not a valid page.'))}}},{key:"addLinkAttributes",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,o.addLinkAttributes)(t,{url:e,target:n?o.LinkTarget.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function(t){if("string"==typeof t){if(t.length>0)return this.getAnchorUrl("#"+escape(t))}else if(Array.isArray(t)){var e=JSON.stringify(t);if(e.length>0)return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(t){return(this.baseUrl||"")+t}},{key:"setHash",value:function(t){var e,n;if(this.pdfDocument)if(t.includes("=")){var r=(0,s.parseQueryString)(t);if(r.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:r.get("search").replace(/"/g,""),phraseSearch:"true"===r.get("phrase")}),r.has("page")&&(e=0|r.get("page")||1),r.has("zoom")){var i=r.get("zoom").split(","),o=i[0],a=parseFloat(o);o.includes("Fit")?"Fit"===o||"FitB"===o?n=[null,{name:o}]:"FitH"===o||"FitBH"===o||"FitV"===o||"FitBV"===o?n=[null,{name:o},i.length>1?0|i[1]:null]:"FitR"===o?5!==i.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):n=[null,{name:o},0|i[1],0|i[2],0|i[3],0|i[4]]:console.error('PDFLinkService.setHash: "'.concat(o,'" is not ')+"a valid zoom value."):n=[null,{name:"XYZ"},i.length>1?0|i[1]:null,i.length>2?0|i[2]:null,a?a/100:o]}n?this.pdfViewer.scrollPageIntoView({pageNumber:e||this.page,destArray:n,allowNegativeOffset:!0}):e&&(this.page=e),r.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:r.get("pagemode")}),r.has("nameddest")&&this.goToDestination(r.get("nameddest"))}else{n=unescape(t);try{n=JSON.parse(n),Array.isArray(n)||(n=n.toString())}catch(u){}if("string"==typeof n||function(t){if(!Array.isArray(t))return!1;var e=t.length;if(e<2)return!1;var n=t[0];if(!("object"===c(n)&&Number.isInteger(n.num)&&Number.isInteger(n.gen)||Number.isInteger(n)&&n>=0))return!1;var r=t[1];if("object"!==c(r)||"string"!=typeof r.name)return!1;var i=!0;switch(r.name){case"XYZ":if(5!==e)return!1;break;case"Fit":case"FitB":return 2===e;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==e)return!1;break;case"FitR":if(6!==e)return!1;i=!1;break;default:return!1}for(var o=2;o<e;o++){var s=t[o];if(!("number"==typeof s||i&&null===s))return!1}return!0}(n))return void this.goToDestination(n);console.error('PDFLinkService.setHash: "'.concat(unescape(t),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(t){var e,n;switch(t){case"GoBack":null===(e=this.pdfHistory)||void 0===e||e.back();break;case"GoForward":null===(n=this.pdfHistory)||void 0===n||n.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}},{key:"cachePageRef",value:function(t,e){if(e){var n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);this._pagesRefCache[n]=t}}},{key:"_cachedPageNumber",value:function(t){var e,n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return(null===(e=this._pagesRefCache)||void 0===e?void 0:e[n])||null}},{key:"isPageVisible",value:function(t){return this.pdfViewer.isPageVisible(t)}},{key:"isPageCached",value:function(t){return this.pdfViewer.isPageCached(t)}}]),t}(),e.SimpleLinkService=function(){function t(){l(this,t),this.externalLinkEnabled=!0}var e;return d(t,[{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(t){}},{key:"rotation",get:function(){return 0},set:function(t){}},{key:"goToDestination",value:(e=u(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)})),function(t){return e.apply(this,arguments)})},{key:"goToPage",value:function(t){}},{key:"addLinkAttributes",value:function(t,e){(0,o.addLinkAttributes)(t,{url:e,enabled:this.externalLinkEnabled})}},{key:"getDestinationHash",value:function(t){return"#"}},{key:"getAnchorUrl",value:function(t){return"#"}},{key:"setHash",value:function(t){}},{key:"executeNamedAction",value:function(t){}},{key:"cachePageRef",value:function(t,e){}},{key:"isPageVisible",value:function(t){return!0}},{key:"isPageCached",value:function(t){return!0}}]),t}()},(t,e)=>{function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=l(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function l(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0}),e.apiPageLayoutToSpreadMode=function(t){switch(t){case"SinglePage":case"OneColumn":return p.NONE;case"TwoColumnLeft":case"TwoPageLeft":return p.ODD;case"TwoColumnRight":case"TwoPageRight":return p.EVEN}return p.NONE},e.apiPageModeToSidebarView=function(t){switch(t){case"UseNone":return d.NONE;case"UseThumbs":return d.THUMBS;case"UseOutlines":return d.OUTLINE;case"UseAttachments":return d.ATTACHMENTS;case"UseOC":return d.LAYERS}return d.NONE},e.approximateFraction=function(t){if(Math.floor(t)===t)return[t,1];var e=1/t;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];for(var n=t>1?e:t,r=0,i=1,o=1,s=1;;){var a=r+o,u=i+s;if(u>8)break;n<=a/u?(o=a,s=u):(r=a,i=u)}return n-r/i<o/s-n?n===t?[r,i]:[i,r]:n===t?[o,s]:[s,o]},e.backtrackBeforeAllVisibleElements=m,e.binarySearchFirstItem=g,e.getActiveOrFocusedElement=function(){for(var t=document,e=t.activeElement||t.querySelector(":focus");null!==(n=e)&&void 0!==n&&n.shadowRoot;){var n;e=(t=e.shadowRoot).activeElement||t.querySelector(":focus")}return e},e.getOutputScale=function(t){var e=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.backingStorePixelRatio||1);return{sx:e,sy:e,scaled:1!==e}},e.getPageSizeInches=function(t){var e,n=t.userUnit,r=t.rotate,i=function(t){if(Array.isArray(t))return t}(e=t.view)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),4!==o.length);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e)||l(e,4)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r%180!=0,s=(i[2]-i[0])/72*n,a=(i[3]-i[1])/72*n;return{width:o?a:s,height:o?s:a}},e.getVisibleElements=function(t){var e=t.scrollEl,n=t.views,r=t.sortByVisibility,i=void 0!==r&&r,o=t.horizontal,s=void 0!==o&&o,a=t.rtl,u=void 0!==a&&a,c=e.scrollTop,l=c+e.clientHeight,h=e.scrollLeft,d=h+e.clientWidth,f=[],p=n.length,v=g(n,s?function(t){var e=t.div,n=e.offsetLeft+e.clientLeft;return u?n<d:n+e.clientWidth>h}:function(t){var e=t.div;return e.offsetTop+e.clientTop+e.clientHeight>c});v>0&&v<p&&!s&&(v=m(v,n,c));for(var y=s?d:-1,b=v;b<p;b++){var _=n[b],w=_.div,S=w.offsetLeft+w.clientLeft,k=w.offsetTop+w.clientTop,A=w.clientWidth,E=w.clientHeight,C=S+A,T=k+E;if(-1===y)T>=l&&(y=T);else if((s?S:k)>y)break;if(!(T<=c||k>=l||C<=h||S>=d)){var x=Math.max(0,c-k)+Math.max(0,T-l),P=(A-(Math.max(0,h-S)+Math.max(0,C-d)))/A;f.push({id:_.id,x:S,y:k,view:_,percent:(E-x)/E*P*100|0,widthPercent:100*P|0})}}var I=f[0],O=f[f.length-1];return i&&f.sort(function(t,e){var n=t.percent-e.percent;return Math.abs(n)>.001?-n:t.id-e.id}),{first:I,last:O,views:f}},e.isPortraitOrientation=function(t){return t.width<=t.height},e.isValidRotation=function(t){return Number.isInteger(t)&&t%90==0},e.isValidScrollMode=function(t){return Number.isInteger(t)&&Object.values(f).includes(t)&&t!==f.UNKNOWN},e.isValidSpreadMode=function(t){return Number.isInteger(t)&&Object.values(p).includes(t)&&t!==p.UNKNOWN},e.moveToEndOfArray=function(t,e){for(var n=[],r=t.length,i=0,o=0;o<r;++o)e(t[o])?n.push(t[o]):(t[i]=t[o],++i);for(var s=0;i<r;++s,++i)t[i]=n[s]},e.noContextMenuHandler=function(t){t.preventDefault()},e.normalizeWheelEventDelta=function(t){var e=v(t);return 0===t.deltaMode?e/=900:1===t.deltaMode&&(e/=30),e},e.normalizeWheelEventDirection=v,e.parseQueryString=function(t){var e,n=new Map,r=c(t.split("&"));try{for(r.s();!(e=r.n()).done;){var i=e.value.split("="),o=i[0].toLowerCase(),s=i.length>1?i[1]:"";n.set(decodeURIComponent(o),decodeURIComponent(s))}}catch(a){r.e(a)}finally{r.f()}return n},e.roundToDivide=function(t,e){var n=t%e;return 0===n?t:Math.round(t-n+e)},e.scrollIntoView=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.offsetParent;if(r){for(var i=t.offsetTop+t.clientTop,o=t.offsetLeft+t.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&(r.classList.contains("markedContent")||"hidden"===getComputedStyle(r).overflow);)if(i+=r.offsetTop,o+=r.offsetLeft,!(r=r.offsetParent))return;e&&(void 0!==e.top&&(i+=e.top),void 0!==e.left&&(r.scrollLeft=o+=e.left)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")},e.waitOnEventOrTimeout=function(t){var e=t.target,n=t.name,r=t.delay,i=void 0===r?0:r;return new Promise(function(t,r){if("object"!==u(e)||!n||"string"!=typeof n||!(Number.isInteger(i)&&i>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function o(r){e instanceof _?e._off(n,s):e.removeEventListener(n,s),c&&clearTimeout(c),t(r)}var s=o.bind(null,y.EVENT);e instanceof _?e._on(n,s):e.addEventListener(n,s);var a=o.bind(null,y.TIMEOUT),c=setTimeout(a,i)})},e.watchScroll=function(t,e){var n=function(n){i||(i=window.requestAnimationFrame(function(){i=null;var n=t.scrollLeft,o=r.lastX;n!==o&&(r.right=n>o),r.lastX=n;var s=t.scrollTop,a=r.lastY;s!==a&&(r.down=s>a),r.lastY=s,e(r)}))},r={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:n},i=null;return t.addEventListener("scroll",n,!0),r},e.WaitOnType=e.VERTICAL_PADDING=e.UNKNOWN_SCALE=e.TextLayerMode=e.SpreadMode=e.SidebarView=e.ScrollMode=e.SCROLLBAR_PADDING=e.RendererType=e.ProgressBar=e.PresentationModeState=e.MIN_SCALE=e.MAX_SCALE=e.MAX_AUTO_SCALE=e.EventBus=e.DEFAULT_SCALE_VALUE=e.DEFAULT_SCALE_DELTA=e.DEFAULT_SCALE=e.AutoPrintRegExp=e.AutomationEventBus=e.animationStarted=void 0,e.DEFAULT_SCALE_VALUE="auto",e.DEFAULT_SCALE=1,e.DEFAULT_SCALE_DELTA=1.1,e.MIN_SCALE=.1,e.MAX_SCALE=10,e.UNKNOWN_SCALE=0,e.MAX_AUTO_SCALE=1.25,e.SCROLLBAR_PADDING=40,e.VERTICAL_PADDING=5,e.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var d={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};e.SidebarView=d,e.RendererType={CANVAS:"canvas",SVG:"svg"},e.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var f={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};e.ScrollMode=f;var p={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function g(t,e){var n=0,r=t.length-1;if(r<0||!e(t[r]))return t.length;if(e(t[n]))return n;for(;n<r;){var i=n+r>>1;e(t[i])?r=i:n=i+1}return n}function m(t,e,n){if(t<2)return t;var r=e[t].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=e[t-1].div).offsetTop+r.clientTop);for(var o=t-2;o>=0&&!((r=e[o].div).offsetTop+r.clientTop+r.clientHeight<=i);--o)t=o;return t}function v(t){var e=Math.hypot(t.deltaX,t.deltaY),n=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(e=-e),e}e.SpreadMode=p,e.AutoPrintRegExp=/\bprint\s*\(/;var y={EVENT:"event",TIMEOUT:"timeout"};e.WaitOnType=y;var b=new Promise(function(t){window.requestAnimationFrame(t)});e.animationStarted=b;var _=function(){function t(){o(this,t),this._listeners=Object.create(null)}return a(t,[{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(t,e,{external:!0,once:null==n?void 0:n.once})}},{key:"off",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(t,e,{external:!0,once:null==n?void 0:n.once})}},{key:"dispatch",value:function(t,e){var n=this._listeners[t];if(n&&0!==n.length){var r,i,o=c(n.slice(0));try{for(o.s();!(i=o.n()).done;){var s=i.value,a=s.listener,u=s.external;s.once&&this._off(t,a),u?(r||(r=[])).push(a):a(e)}}catch(d){o.e(d)}finally{o.f()}if(r){var l,h=c(r);try{for(h.s();!(l=h.n()).done;)(0,l.value)(e)}catch(d){h.e(d)}finally{h.f()}r=null}}}},{key:"_on",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=(n=this._listeners)[t]||(n[t]=[]);i.push({listener:e,external:!0===(null==r?void 0:r.external),once:!0===(null==r?void 0:r.once)})}},{key:"_off",value:function(t,e){var n=this._listeners[t];if(n)for(var r=0,i=n.length;r<i;r++)if(n[r].listener===e)return void n.splice(r,1)}}]),t}();e.EventBus=_,e.AutomationEventBus=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(c,t);var e,s,u=(e=c,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=i(e);if(s){var o=i(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return r(this,t)});function c(){return o(this,c),u.apply(this,arguments)}return a(c,[{key:"dispatch",value:function(t,e){throw new Error("Not implemented: AutomationEventBus.dispatch")}}]),c}(_),e.ProgressBar=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.height,i=n.width,s=n.units;o(this,t),this.visible=!0,this.div=document.querySelector(e+" .progress"),this.bar=this.div.parentNode,this.height=r||100,this.width=i||100,this.units=s||"%",this.div.style.height=this.height+this.units,this.percent=0}return a(t,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"percent",get:function(){return this._percent},set:function(t){this._indeterminate=isNaN(t),this._percent=Math.min(Math.max(t,0),100),this._updateBar()}},{key:"setWidth",value:function(t){if(t){var e=t.parentNode.offsetWidth-t.offsetWidth;e>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(e,"px"))}}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}]),t}()},(t,e)=>{function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}Object.defineProperty(e,"__esModule",{value:!0}),e.StructTreeLayerBuilder=e.DefaultStructTreeLayerFactory=void 0;var s={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},a=/^H(\d+)$/,u=function(){function t(e){var n=e.pdfPage;r(this,t),this.pdfPage=n}return o(t,[{key:"render",value:function(t){return this._walk(t)}},{key:"_setAttributes",value:function(t,e){void 0!==t.alt&&e.setAttribute("aria-label",t.alt),void 0!==t.id&&e.setAttribute("aria-owns",t.id)}},{key:"_walk",value:function(t){if(!t)return null;var e=document.createElement("span");if("role"in t){var r=t.role,i=r.match(a);i?(e.setAttribute("role","heading"),e.setAttribute("aria-level",i[1])):s[r]&&e.setAttribute("role",s[r])}if(this._setAttributes(t,e),t.children)if(1===t.children.length&&"id"in t.children[0])this._setAttributes(t.children[0],e);else{var o,u=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t))){r&&(t=r);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw s}}}}(t.children);try{for(u.s();!(o=u.n()).done;)e.appendChild(this._walk(o.value))}catch(c){u.e(c)}finally{u.f()}}return e}}]),t}();e.StructTreeLayerBuilder=u,e.DefaultStructTreeLayerFactory=function(){function t(){r(this,t)}return o(t,[{key:"createStructTreeLayerBuilder",value:function(t){return new u({pdfPage:t})}}]),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerBuilder=e.DefaultTextLayerFactory=void 0;var r=n(4);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var a=function(){function t(e){var n=e.textLayerDiv,r=e.eventBus,o=e.pageIndex,s=e.viewport,a=e.highlighter,u=void 0===a?null:a,c=e.enhanceTextSelection,l=void 0!==c&&c;i(this,t),this.textLayerDiv=n,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=o+1,this.viewport=s,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=u,this.enhanceTextSelection=l,this._bindMouse()}return s(t,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var t=document.createElement("div");t.className="endOfContent",this.textLayerDiv.appendChild(t)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs.length=0,null===(t=this.highlighter)||void 0===t||t.setTextMapping(this.textDivs,this.textContentItemsStr);var i=document.createDocumentFragment();this.textLayerRenderTask=(0,r.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:i,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:n,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){var t;e.textLayerDiv.appendChild(i),e._finishRendering(),null===(t=e.highlighter)||void 0===t||t.enable()},function(t){})}}},{key:"cancel",value:function(){var t;this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),null===(t=this.highlighter)||void 0===t||t.disable()}},{key:"setTextContentStream",value:function(t){this.cancel(),this.textContentStream=t}},{key:"setTextContent",value:function(t){this.cancel(),this.textContent=t}},{key:"_bindMouse",value:function(){var t=this,e=this.textLayerDiv,n=null;e.addEventListener("mousedown",function(r){if(t.enhanceTextSelection&&t.textLayerRenderTask)return t.textLayerRenderTask.expandTextDivs(!0),void(n&&(clearTimeout(n),n=null));var i=e.querySelector(".endOfContent");if(i){var o=r.target!==e;if(o=o&&"none"!==window.getComputedStyle(i).getPropertyValue("-moz-user-select")){var s=e.getBoundingClientRect(),a=Math.max(0,(r.pageY-s.top)/s.height);i.style.top=(100*a).toFixed(2)+"%"}i.classList.add("active")}}),e.addEventListener("mouseup",function(){if(t.enhanceTextSelection&&t.textLayerRenderTask)n=setTimeout(function(){t.textLayerRenderTask&&t.textLayerRenderTask.expandTextDivs(!1),n=null},300);else{var r=e.querySelector(".endOfContent");r&&(r.style.top="",r.classList.remove("active"))}})}}]),t}();e.TextLayerBuilder=a,e.DefaultTextLayerFactory=function(){function t(){i(this,t)}return s(t,[{key:"createTextLayerBuilder",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return new a({textLayerDiv:t,pageIndex:e,viewport:n,enhanceTextSelection:r,eventBus:i,highlighter:o})}}]),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayerBuilder=e.DefaultXfaLayerFactory=void 0;var r=n(6),i=n(4);function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}var u=function(){function t(e){var n=e.pageDiv,r=e.pdfPage,i=e.annotationStorage,s=e.linkService,a=e.xfaHtml;o(this,t),this.pageDiv=n,this.pdfPage=r,this.annotationStorage=i,this.linkService=s,this.xfaHtml=a,this.div=null,this._cancelled=!1}return a(t,[{key:"render",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display";if("print"===n){var r={viewport:t.clone({dontFlip:!0}),div:this.div,xfa:this.xfaHtml,page:null,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},o=document.createElement("div");this.pageDiv.appendChild(o),r.div=o;var s=i.XfaLayer.render(r);return Promise.resolve(s)}return this.pdfPage.getXfa().then(function(r){if(e._cancelled||!r)return{textDivs:[]};var o={viewport:t.clone({dontFlip:!0}),div:e.div,xfa:r,page:e.pdfPage,annotationStorage:e.annotationStorage,linkService:e.linkService,intent:n};return e.div?i.XfaLayer.update(o):(e.div=document.createElement("div"),e.pageDiv.appendChild(e.div),o.div=e.div,i.XfaLayer.render(o))}).catch(function(t){console.error(t)})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}]),t}();e.XfaLayerBuilder=u,e.DefaultXfaLayerFactory=function(){function t(){o(this,t)}return a(t,[{key:"createXfaLayerBuilder",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new u({pageDiv:t,pdfPage:e,annotationStorage:n,linkService:new r.SimpleLinkService,xfaHtml:i})}}]),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DownloadManager=void 0;var r=n(4),i=n(12);function o(t,e){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=t,n.target="_parent","download"in n&&(n.download=e),(document.body||document.documentElement).appendChild(n),n.click(),n.remove()}e.DownloadManager=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._openBlobUrls=new WeakMap}var e;return(e=[{key:"downloadUrl",value:function(t,e){(0,r.createValidAbsoluteUrl)(t,"http://example.com")?o(t+"#pdfjs.action=download",e):console.error("downloadUrl - not a valid URL: ".concat(t))}},{key:"downloadData",value:function(t,e,n){o((0,r.createObjectURL)(t,n,i.compatibilityParams.disableCreateObjectURL),e)}},{key:"openOrDownloadData",value:function(t,e,n){var o=(0,r.isPdfFile)(n),s=o?"application/pdf":"";if(o&&!i.compatibilityParams.disableCreateObjectURL){var a,u=this._openBlobUrls.get(t);u||(u=URL.createObjectURL(new Blob([e],{type:s})),this._openBlobUrls.set(t,u)),a="?file="+encodeURIComponent(u+"#"+n);try{return window.open(a),!0}catch(c){console.error("openOrDownloadData: ".concat(c)),URL.revokeObjectURL(u),this._openBlobUrls.delete(t)}}return this.downloadData(e,n,s),!1}},{key:"download",value:function(t,e,n){i.compatibilityParams.disableCreateObjectURL?this.downloadUrl(e,n):o(URL.createObjectURL(t),n)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e)=>{function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.OptionKind=e.compatibilityParams=e.AppOptions=void 0;var i=Object.create(null);e.compatibilityParams=i;var o="undefined"!=typeof navigator&&navigator.userAgent||"",s="undefined"!=typeof navigator&&navigator.platform||"",a="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,u=/Android/.test(o),c=/\b(iPad|iPhone|iPod)(?=;)/.test(o)||"MacIntel"===s&&a>1;/CriOS/.test(o)&&(i.disableCreateObjectURL=!0),(c||u)&&(i.maxCanvasPixels=5242880);var l={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};e.OptionKind=l;var h={annotationMode:{value:2,kind:l.VIEWER+l.PREFERENCE},cursorToolOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:l.VIEWER},defaultZoomValue:{value:"",kind:l.VIEWER+l.PREFERENCE},disableHistory:{value:!1,kind:l.VIEWER},disablePageLabels:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePermissions:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:l.VIEWER+l.PREFERENCE},enableScripting:{value:!0,kind:l.VIEWER+l.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:l.VIEWER},externalLinkTarget:{value:0,kind:l.VIEWER+l.PREFERENCE},historyUpdateUrl:{value:!1,kind:l.VIEWER+l.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},imageResourcesPath:{value:"./images/",kind:l.VIEWER},maxCanvasPixels:{value:16777216,compatibility:i.maxCanvasPixels,kind:l.VIEWER},pdfBugEnabled:{value:!1,kind:l.VIEWER+l.PREFERENCE},printResolution:{value:150,kind:l.VIEWER},renderer:{value:"canvas",kind:l.VIEWER},sidebarViewOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},scrollModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},spreadModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},textLayerMode:{value:1,kind:l.VIEWER+l.PREFERENCE},useOnlyCssZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},viewerCssTheme:{value:0,kind:l.VIEWER+l.PREFERENCE},viewOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},cMapPacked:{value:!0,kind:l.API},cMapUrl:{value:"../web/cmaps/",kind:l.API},disableAutoFetch:{value:!1,kind:l.API+l.PREFERENCE},disableFontFace:{value:!1,kind:l.API+l.PREFERENCE},disableRange:{value:!1,kind:l.API+l.PREFERENCE},disableStream:{value:!1,kind:l.API+l.PREFERENCE},docBaseUrl:{value:"",kind:l.API},enableXfa:{value:!0,kind:l.API+l.PREFERENCE},fontExtraProperties:{value:!1,kind:l.API},isEvalSupported:{value:!0,kind:l.API},maxImageSize:{value:-1,kind:l.API},pdfBug:{value:!1,kind:l.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:l.API},verbosity:{value:1,kind:l.API},workerPort:{value:null,kind:l.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:l.WORKER}};h.disablePreferences={value:!1,kind:l.VIEWER},h.locale={value:"undefined"!=typeof navigator?navigator.language:"en-US",kind:l.VIEWER},h.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:l.VIEWER},h.renderer.kind+=l.PREFERENCE;var d=Object.create(null);e.AppOptions=function(){function t(){throw function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),new Error("Cannot initialize AppOptions.")}var e,i;return e=t,(i=[{key:"get",value:function(t){var e=d[t];if(void 0!==e)return e;var n,r=h[t];return void 0!==r?null!==(n=r.compatibility)&&void 0!==n?n:r.value:void 0}},{key:"getAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Object.create(null);for(var r in h){var i,o=h[r];if(t){if(0==(t&o.kind))continue;if(t===l.PREFERENCE){var s=o.value,a=n(s);if("boolean"===a||"string"===a||"number"===a&&Number.isInteger(s)){e[r]=s;continue}throw new Error("Invalid type for preference: ".concat(r))}}var u=d[r];e[r]=void 0!==u?u:null!==(i=o.compatibility)&&void 0!==i?i:o.value}return e}},{key:"set",value:function(t,e){d[t]=e}},{key:"setAll",value:function(t){for(var e in t)d[e]=t[e]}},{key:"remove",value:function(t){delete d[t]}},{key:"_hasUserOptions",value:function(){return Object.keys(d).length>0}}])&&r(e,i),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GenericL10n=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r};n(14);var o=n(5);function s(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){s(o,r,i,a,u,"next",t)}function u(t){s(o,r,i,a,u,"throw",t)}a(void 0)})}}var u=document.webL10n;e.GenericL10n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._lang=e,this._ready=new Promise(function(t,n){u.setLanguage((0,o.fixupLangCode)(e),function(){t(u)})})}var e,n,r,s,c,l;return e=t,(n=[{key:"getLanguage",value:(l=a(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.getLanguage());case 4:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"getDirection",value:(c=a(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.getDirection());case 4:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)})},{key:"get",value:(s=a(i.default.mark(function t(e){var n,r,s=arguments;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:null,r=s.length>2&&void 0!==s[2]?s[2]:(0,o.getL10nFallback)(e,n),t.next=4,this._ready;case 4:return t.abrupt("return",t.sent.get(e,n,r));case 6:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)})},{key:"translate",value:(r=a(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:return t.abrupt("return",t.sent.translate(e));case 4:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}()},()=>{document.webL10n=function(t,e,n){var r={},i="",o="textContent",s="",a={},u="loading";function c(t,e,n){e=e||function(t){},n=n||function(){};var r=new XMLHttpRequest;r.open("GET",t,!0),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=utf-8"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status||0===r.status?e(r.responseText):n())},r.onerror=n,r.ontimeout=n;try{r.send(null)}catch(i){n()}}function l(t,e,n){var i=r[t];if(!i){if(console.warn("#"+t+" is undefined."),!n)return null;i=n}var o={};for(var s in i){var a=i[s];a=d(a=h(a,e,t,s),e,t),o[s]=a}return o}function h(t,e,n,i){var o=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(t);if(!o||!o.length)return t;var s,u=o[1],c=o[2];return e&&c in e?s=e[c]:c in r&&(s=r[c]),u in a&&(t=(0,a[u])(t,s,n,i)),t}function d(t,e,n){return t.replace(/\{\{\s*(.+?)\s*\}\}/g,function(t,i){return e&&i in e?e[i]:i in r?r[i]:(console.log("argument {{"+i+"}} for #"+n+" is undefined."),t)})}function f(t){var n=function(t){if(!t)return{};var e=t.getAttribute("data-l10n-id"),n=t.getAttribute("data-l10n-args"),r={};if(n)try{r=JSON.parse(n)}catch(i){console.warn("could not parse arguments for #"+e)}return{id:e,args:r}}(t);if(n.id){var r=l(n.id,n.args);if(r){if(r[o]){if(0===function(t){if(t.children)return t.children.length;if(void 0!==t.childElementCount)return t.childElementCount;for(var e=0,n=0;n<t.childNodes.length;n++)e+=1===t.nodeType?1:0;return e}(t))t[o]=r[o];else{for(var i=t.childNodes,s=!1,a=0,u=i.length;a<u;a++)3===i[a].nodeType&&/\S/.test(i[a].nodeValue)&&(s?i[a].nodeValue="":(i[a].nodeValue=r[o],s=!0));if(!s){var c=e.createTextNode(r[o]);t.insertBefore(c,t.firstChild)}}delete r[o]}for(var h in r)t[h]=r[h]}else console.warn("#"+n.id+" is undefined.")}}return a.plural=function(t,e,n,i){var u=parseFloat(e);if(isNaN(u))return t;if(i!=o)return t;a._pluralRules||(a._pluralRules=function(t){function e(t,e){return-1!==e.indexOf(t)}function n(t,e,n){return e<=t&&t<=n}var r={0:function(t){return"other"},1:function(t){return n(t%100,3,10)?"few":0===t?"zero":n(t%100,11,99)?"many":2==t?"two":1==t?"one":"other"},2:function(t){return 0!==t&&t%10==0?"many":2==t?"two":1==t?"one":"other"},3:function(t){return 1==t?"one":"other"},4:function(t){return n(t,0,1)?"one":"other"},5:function(t){return n(t,0,2)&&2!=t?"one":"other"},6:function(t){return 0===t?"zero":t%10==1&&t%100!=11?"one":"other"},7:function(t){return 2==t?"two":1==t?"one":"other"},8:function(t){return n(t,3,6)?"few":n(t,7,10)?"many":2==t?"two":1==t?"one":"other"},9:function(t){return 0===t||1!=t&&n(t%100,1,19)?"few":1==t?"one":"other"},10:function(t){return n(t%10,2,9)&&!n(t%100,11,19)?"few":t%10!=1||n(t%100,11,19)?"other":"one"},11:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":t%10==0||n(t%10,5,9)||n(t%100,11,14)?"many":t%10==1&&t%100!=11?"one":"other"},12:function(t){return n(t,2,4)?"few":1==t?"one":"other"},13:function(t){return n(t%10,2,4)&&!n(t%100,12,14)?"few":1!=t&&n(t%10,0,1)||n(t%10,5,9)||n(t%100,12,14)?"many":1==t?"one":"other"},14:function(t){return n(t%100,3,4)?"few":t%100==2?"two":t%100==1?"one":"other"},15:function(t){return 0===t||n(t%100,2,10)?"few":n(t%100,11,19)?"many":1==t?"one":"other"},16:function(t){return t%10==1&&11!=t?"one":"other"},17:function(t){return 3==t?"few":0===t?"zero":6==t?"many":2==t?"two":1==t?"one":"other"},18:function(t){return 0===t?"zero":n(t,0,2)&&0!==t&&2!=t?"one":"other"},19:function(t){return n(t,2,10)?"few":n(t,0,1)?"one":"other"},20:function(t){return!n(t%10,3,4)&&t%10!=9||n(t%100,10,19)||n(t%100,70,79)||n(t%100,90,99)?t%1e6==0&&0!==t?"many":t%10!=2||e(t%100,[12,72,92])?t%10!=1||e(t%100,[11,71,91])?"other":"one":"two":"few"},21:function(t){return 0===t?"zero":1==t?"one":"other"},22:function(t){return n(t,0,1)||n(t,11,99)?"one":"other"},23:function(t){return n(t%10,1,2)||t%20==0?"one":"other"},24:function(t){return n(t,3,10)||n(t,13,19)?"few":e(t,[2,12])?"two":e(t,[1,11])?"one":"other"}},i={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[t.replace(/-.*$/,"")];return i in r?r[i]:(console.warn("plural form unknown for ["+t+"]"),function(){return"other"})}(s));var c="["+a._pluralRules(u)+"]";return 0===u&&n+"[zero]"in r?t=r[n+"[zero]"][i]:1==u&&n+"[one]"in r?t=r[n+"[one]"][i]:2==u&&n+"[two]"in r?t=r[n+"[two]"][i]:n+c in r?t=r[n+c][i]:n+"[other]"in r&&(t=r[n+"[other]"][i]),t},{get:function(t,e,n){var r,i=t.lastIndexOf("."),s=o;i>0&&(s=t.substring(i+1),t=t.substring(0,i)),n&&((r={})[s]=n);var a=l(t,e,r);return a&&s in a?a[s]:"{{"+t+"}}"},getData:function(){return r},getText:function(){return i},getLanguage:function(){return s},setLanguage:function(t,n){!function(t,n){t&&(t=t.toLowerCase()),n=n||function(){},r={},i="",s="",s=t;var a=e.querySelectorAll('link[type="application/l10n"]'),l=a.length;if(0!==l){var h,d,f=0;d=function(){++f>=l&&(n(),u="complete")};for(var p=0;p<l;p++)new y(a[p]).load(t,d)}else{var g=(h=e.querySelector('script[type="application/l10n"]'))?JSON.parse(h.innerHTML):null;if(g&&g.locales&&g.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(r=g.locales[t])){var m=g.default_locale.toLowerCase();for(var v in g.locales){if((v=v.toLowerCase())===t){r=g.locales[t];break}v===m&&(r=g.locales[m])}}n()}else console.log("no resource to load, early way out");u="complete"}function y(t){var e=t.href;this.load=function(t,n){!function(t,e,n,s){var a=t.replace(/[^\/]*$/,"")||"./";function u(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}c(t,function(t){i+=t,function(t,i){var s={},l=/^\s*|\s*$/,h=/^\s*#|^\s*$/,d=/^\s*\[(.*)\]\s*$/,f=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;function g(t,n,r){var i=t.replace(l,"").split(/[\r\n]+/),o="*",c=e.split("-",1)[0],g=!1,v="";!function t(){for(;;){if(!i.length)return void r();var l=i.shift();if(!h.test(l)){if(n){if(v=d.exec(l)){o=v[1].toLowerCase(),g="*"!==o&&o!==e&&o!==c;continue}if(g)continue;if(v=f.exec(l))return void m(a+v[1],t)}var y=l.match(p);y&&3==y.length&&(s[y[1]]=u(y[2]))}}}()}function m(t,e){c(t,function(t){g(t,!1,e)},function(){console.warn(t+" not found."),e()})}g(t,!0,function(){!function(t){for(var e in t){var i,s,a=e.lastIndexOf(".");a>0?(i=e.substring(0,a),s=e.substring(a+1)):(i=e,s=o),r[i]||(r[i]={}),r[i][s]=t[e]}n&&n()}(s)})}(t)},s)}(e,t,n,function(){console.warn(e+" not found."),console.warn('"'+t+'" resource not found'),s="",n()})}}}(t,function(){n&&n()})},getDirection:function(){var t=s.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(t)>=0?"rtl":"ltr"},translate:function(t){for(var n=function(t){return t?t.querySelectorAll("*[data-l10n-id]"):[]}(t=t||e.documentElement),r=n.length,i=0;i<r;i++)f(n[i]);f(t)},getReadyState:function(){return u},ready:function(n){n&&("complete"==u||"interactive"==u?t.setTimeout(function(){n()}):e.addEventListener&&e.addEventListener("localized",function t(){e.removeEventListener("localized",t),n()}))}}}(window,document)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFindController=e.FindState=void 0;var r=n(4),i=n(16),o=n(7);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||u(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=u(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function u(t,e){if(t){if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};e.FindState=l;var h={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},d=null;function f(t){if(!d){var e=Object.keys(h).join("");d=new RegExp("[".concat(e,"]"),"g")}var n=null;return[t.replace(d,function(t,e){var r=h[t],i=r.length-t.length;return 0!==i&&(n||(n=[])).push([e,i]),r}),n]}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return t;var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=s(n.value,2),u=o[0],c=o[1],l=u+r;if(l>=t)break;if(l+c>t){r+=t-l;break}r+=c}}catch(h){i.e(h)}finally{i.f()}return t-r}e.PDFFindController=function(){function t(e){var n=e.linkService,r=e.eventBus;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._linkService=n,this._eventBus=r,this._reset(),r._on("findbarclose",this._onFindBarClose.bind(this))}var e;return(e=[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"setDocument",value:function(t){this._pdfDocument&&this._reset(),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(t,e){var n=this;if(e){var r=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(t,e))&&(this._dirtyMatch=!0),this._state=e,"findhighlightallchange"!==t&&this._updateUIState(l.PENDING),this._firstPageCapability.promise.then(function(){if(n._pdfDocument&&(!r||n._pdfDocument===r)){n._extractText();var e=!n._highlightMatches,i=!!n._findTimeout;n._findTimeout&&(clearTimeout(n._findTimeout),n._findTimeout=null),"find"===t?n._findTimeout=setTimeout(function(){n._nextMatch(),n._findTimeout=null},250):n._dirtyMatch?n._nextMatch():"findagain"===t?(n._nextMatch(),e&&n._state.highlightAll&&n._updateAllPages()):"findhighlightallchange"===t?(i?n._nextMatch():n._highlightMatches=!0,n._updateAllPages()):n._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(t){var e=t.element,n=void 0===e?null:e,r=t.selectedLeft,i=void 0===r?0:r,s=t.pageIndex,a=void 0===s?-1:s,u=t.matchIndex,c=void 0===u?-1:u;this._scrollMatches&&n&&-1!==c&&c===this._selected.matchIdx&&-1!==a&&a===this._selected.pageIdx&&(this._scrollMatches=!1,(0,o.scrollIntoView)(n,{top:-50,left:i+-400},!0))}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,r.createPromiseCapability)()}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var t=s(f(this._state.query),1);this._normalizedQuery=t[0]}return this._normalizedQuery}},{key:"_shouldDirtyMatch",value:function(t,e){if(e.query!==this._state.query)return!0;switch(t){case"findagain":var n=this._selected.pageIdx+1,r=this._linkService;return n>=1&&n<=r.pagesCount&&n!==r.page&&!r.isPageVisible(n);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(t,e,n){function r(e){var n=t[e];if(e<t.length-1&&n.match===t[e+1].match)return n.skipped=!0,!0;for(var r=e-1;r>=0;r--){var i=t[r];if(!i.skipped){if(i.match+i.matchLength<n.match)break;if(i.match+i.matchLength>=n.match+n.matchLength)return n.skipped=!0,!0}}return!1}t.sort(function(t,e){return t.match===e.match?t.matchLength-e.matchLength:t.match-e.match});for(var i=0,o=t.length;i<o;i++)r(i)||(e.push(t[i].match),n.push(t[i].matchLength))}},{key:"_isEntireWord",value:function(t,e,n){if(e>0){var r=t.charCodeAt(e),o=t.charCodeAt(e-1);if((0,i.getCharacterType)(r)===(0,i.getCharacterType)(o))return!1}var s=e+n-1;if(s<t.length-1){var a=t.charCodeAt(s),u=t.charCodeAt(s+1);if((0,i.getCharacterType)(a)===(0,i.getCharacterType)(u))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(t,e,n,r,i){for(var o=[],s=[],a=t.length,u=-a;-1!==(u=n.indexOf(t,u+a));)if(!i||this._isEntireWord(n,u,a)){var c=p(u,r),l=p(u+a-1,r)-c+1;o.push(c),s.push(l)}this._pageMatches[e]=o,this._pageMatchesLength[e]=s}},{key:"_calculateWordMatch",value:function(t,e,n,r,i){for(var o=[],s=t.match(/\S+/g),a=0,u=s.length;a<u;a++)for(var c=s[a],l=c.length,h=-l;-1!==(h=n.indexOf(c,h+l));)if(!i||this._isEntireWord(n,h,l)){var d=p(h,r),f=p(h+l-1,r)-d+1;o.push({match:d,matchLength:f,skipped:!1})}this._pageMatchesLength[e]=[],this._pageMatches[e]=[],this._prepareMatches(o,this._pageMatches[e],this._pageMatchesLength[e])}},{key:"_calculateMatch",value:function(t){var e=this._pageContents[t],n=this._pageDiffs[t],r=this._query,i=this._state,o=i.entireWord,s=i.phraseSearch;if(0!==r.length){i.caseSensitive||(e=e.toLowerCase(),r=r.toLowerCase()),s?this._calculatePhraseMatch(r,t,e,n,o):this._calculateWordMatch(r,t,e,n,o),this._state.highlightAll&&this._updatePage(t),this._resumePageIdx===t&&(this._resumePageIdx=null,this._nextPageMatch());var a=this._pageMatches[t].length;a>0&&(this._matchesCountTotal+=a,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var t=this;if(!(this._extractTextPromises.length>0))for(var e=Promise.resolve(),n=function(n,i){var o=(0,r.createPromiseCapability)();t._extractTextPromises[n]=o.promise,e=e.then(function(){return t._pdfDocument.getPage(n+1).then(function(t){return t.getTextContent({normalizeWhitespace:!0})}).then(function(e){for(var r=e.items,i=[],a=0,u=r.length;a<u;a++)i.push(r[a].str);var c=s(f(i.join("")),2);t._pageContents[n]=c[0],t._pageDiffs[n]=c[1],o.resolve(n)},function(e){console.error("Unable to get text content for page ".concat(n+1),e),t._pageContents[n]="",t._pageDiffs[n]=null,o.resolve(n)})})},i=0,o=this._linkService.pagesCount;i<o;i++)n(i)}},{key:"_updatePage",value:function(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var t=this,e=this._state.findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var i=0;i<r;i++)this._pendingFindMatches.has(i)||(this._pendingFindMatches.add(i),this._extractTextPromises[i].then(function(e){t._pendingFindMatches.delete(e),t._calculateMatch(e)}))}if(""!==this._query){if(!this._resumePageIdx){var o=this._offset;if(this._pagesToSearch=r,null!==o.matchIdx){if(!e&&o.matchIdx+1<this._pageMatches[o.pageIdx].length||e&&o.matchIdx>0)return o.matchIdx=e?o.matchIdx-1:o.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(e)}this._nextPageMatch()}}else this._updateUIState(l.FOUND)}},{key:"_matchesReady",value:function(t){var e=this._offset,n=t.length,r=this._state.findPrevious;return n?(e.matchIdx=r?n-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(r),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var e=this._offset.pageIdx;if(!(t=this._pageMatches[e])){this._resumePageIdx=e;break}}while(!this._matchesReady(t))}},{key:"_advanceOffsetPage",value:function(t){var e=this._offset,n=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=n||e.pageIdx<0)&&(e.pageIdx=t?n-1:0,e.wrapped=!0)}},{key:"_updateMatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=l.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,t){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=n?l.WRAPPED:l.FOUND,-1!==r&&r!==this._selected.pageIdx&&this._updatePage(r)}this._updateUIState(e,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(t){var e=this,n=this._pdfDocument;this._firstPageCapability.promise.then(function(){!e._pdfDocument||n&&e._pdfDocument!==n||(e._findTimeout&&(clearTimeout(e._findTimeout),e._findTimeout=null),e._resumePageIdx&&(e._resumePageIdx=null,e._dirtyMatch=!0),e._updateUIState(l.FOUND),e._highlightMatches=!1,e._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var t=this._selected,e=t.pageIdx,n=t.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var o=0;o<e;o++){var s;r+=(null===(s=this._pageMatches[o])||void 0===s?void 0:s.length)||0}r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(t,e){var n,r;this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:e,matchesCount:this._requestMatchesCount(),rawQuery:null!==(n=null===(r=this._state)||void 0===r?void 0:r.query)&&void 0!==n?n:null})}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getCharacterType=function(t){return function(t){return t<11904}(t)?function(t){return 0==(65408&t)}(t)?function(t){return 32===t||9===t||13===t||10===t}(t)?n.SPACE:function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function(t){return t>=48&&t<=57}(t)||95===t?n.ALPHA_LETTER:n.PUNCT:function(t){return 3584==(65408&t)}(t)?n.THAI_LETTER:160===t?n.SPACE:n.ALPHA_LETTER:function(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?n.HAN_LETTER:function(t){return t>=12448&&t<=12543}(t)?n.KATAKANA_LETTER:function(t){return t>=12352&&t<=12447}(t)?n.HIRAGANA_LETTER:function(t){return t>=65376&&t<=65439}(t)?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER},e.CharacterType=void 0;var n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};e.CharacterType=n},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isDestArraysEqual=c,e.isDestHashesEqual=u,e.PDFHistory=void 0;var r=n(7);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(){return document.location.hash}function u(t,e){return"string"==typeof t&&"string"==typeof e&&(t===e||(0,r.parseQueryString)(t).get("nameddest")===e)}function c(t,e){function n(t,e){if(i(t)!==i(e))return!1;if(Array.isArray(t)||Array.isArray(e))return!1;if(null!==t&&"object"===i(t)&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!n(t[r],e[r]))return!1;return!0}return t===e||Number.isNaN(t)&&Number.isNaN(e)}if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0,o=t.length;r<o;r++)if(!n(t[r],e[r]))return!1;return!0}e.PDFHistory=function(){function t(e){var n=this,i=e.linkService,o=e.eventBus;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.linkService=i,this.eventBus=o,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(t){n._isViewerInPresentationMode=t.state!==r.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){n._isPagesLoaded=!1,n.eventBus._on("pagesloaded",function(t){n._isPagesLoaded=!!t.pagesCount},{once:!0})})}var e;return(e=[{key:"initialize",value:function(t){var e=t.fingerprint,n=t.resetHistory,r=void 0!==n&&n,i=t.updateUrl,o=void 0!==i&&i;if(e&&"string"==typeof e){this._initialized&&this.reset();var s=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===o,this._initialized=!0,this._bindEvents();var u=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=a(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(u,!0)||r){var c=this._parseCurrentHash(!0),l=c.hash,h=c.page,d=c.rotation;return!l||s||r?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:l,page:h,rotation:d},!0)}var f=u.destination;this._updateInternalState(f,u.uid,!0),void 0!==f.rotation&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark="page=".concat(f.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(t){var e=this,n=t.namedDest,r=void 0===n?null:n,i=t.explicitDest,o=t.pageNumber;if(this._initialized)if(r&&"string"!=typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(this._isValidPage(o)||null===o&&!this._destination){var s=r||JSON.stringify(i);if(s){var a=!1;if(this._destination&&(u(this._destination.hash,s)||c(this._destination.dest,i))){if(this._destination.page)return;a=!0}this._popStateInProgress&&!a||(this._pushOrReplaceState({dest:i,hash:s,page:o,rotation:this.linkService.rotation},a),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){e._popStateInProgress=!1})))}}else console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(t){var e,n=this;this._initialized&&(this._isValidPage(t)?(null===(e=this._destination)||void 0===e?void 0:e.page)!==t&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:"page=".concat(t),page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){n._popStateInProgress=!1})))):console.error('PDFHistory.pushPage: "'.concat(t,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;this._isValidState(t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}},{key:"_pushOrReplaceState",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:t};if(this._updateInternalState(t,i.uid),this._updateUrl&&null!=t&&t.hash){var o=document.location.href.split("#")[0];o.startsWith("file://")||(e="".concat(o,"#").concat(t.hash))}r?window.history.replaceState(i,"",e):window.history.pushState(i,"",e)}},{key:"_tryPushCurrentPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var e=this._position;if(t&&((e=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)this._pushOrReplaceState(e,!0);else if(this._destination.hash!==e.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var n=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(void 0!==this._destination.dest||!this._destination.first)return;n=!0}this._pushOrReplaceState(e,n)}}else this._pushOrReplaceState(e)}}},{key:"_isValidPage",value:function(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}},{key:"_isValidState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!e)return!1;if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var n=performance.getEntriesByType("navigation"),r=o(n,1),s=r[0];if("reload"!==(null==s?void 0:s.type))return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&null!==t.destination&&"object"===i(t.destination)}},{key:"_updateInternalState",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&null!=t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=unescape(a()).substring(1),n=(0,r.parseQueryString)(e),i=n.get("nameddest")||"",o=0|n.get("page");return(!this._isValidPage(o)||t&&i.length>0)&&(o=null),{hash:e,page:o,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(t){var e=this,n=t.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(n.pageNumber):n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){e._popStateInProgress||e._tryPushCurrentPosition(!0),e._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(t){var e=this,n=t.state,i=a(),o=this._currentHash!==i;if(this._currentHash=i,n){if(this._isValidState(n)){this._popStateInProgress=!0,o&&(this._blockHashChange++,(0,r.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){e._blockHashChange--}));var s=n.destination;this._updateInternalState(s,n.uid,!0),(0,r.isValidRotation)(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(function(){e._popStateInProgress=!1})}}else{this._uid++;var u=this._parseCurrentHash();this._pushOrReplaceState({hash:u.hash,page:u.page,rotation:u.rotation},!0)}}},{key:"_pageHide",value:function(){this._destination&&!this._destination.temporary||this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFPageView=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(7),a=n(12),u=n(5),c=n(19);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){f(o,r,i,s,a,"next",t)}function a(t){f(o,r,i,s,a,"throw",t)}s(void 0)})}}var g=a.compatibilityParams.maxCanvasPixels||16777216;e.PDFPageView=function(){function t(e){var n,r,i,a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var l=e.container,h=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||s.DEFAULT_SCALE,this.viewport=h,this.pdfPageRotate=h.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=null!==(n=e.textLayerMode)&&void 0!==n?n:s.TextLayerMode.ENABLE,this._annotationMode=null!==(r=e.annotationMode)&&void 0!==r?r:o.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels||g,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.textLayerFactory=e.textLayerFactory,this.annotationLayerFactory=e.annotationLayerFactory,this.xfaLayerFactory=e.xfaLayerFactory,this.textHighlighter=null===(i=e.textHighlighterFactory)||void 0===i?void 0:i.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=e.structTreeLayerFactory,this.renderer=e.renderer||s.RendererType.CANVAS,this.l10n=e.l10n||u.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=c.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!(null!==(a=this.renderingQueue)&&void 0!==a&&a.hasViewer()),this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;var d=document.createElement("div");d.className="page",d.style.width=Math.floor(this.viewport.width)+"px",d.style.height=Math.floor(this.viewport.height)+"px",d.setAttribute("data-page-number",this.id),d.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(function(t){d.setAttribute("aria-label",t)}),this.div=d,l.appendChild(d)}var e,n,r,d,f;return e=t,(n=[{key:"setPdfPage",value:function(t){this.pdfPage=t,this.pdfPageRotate=t.rotate,this.viewport=t.getViewport({scale:this.scale*o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(f=p(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,this.annotationLayer.render(this.viewport,"display");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e=t.t0;case 9:return t.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:e}),t.finish(9);case 12:case"end":return t.stop()}},t,this,[[1,6,9,12]])})),function(){return f.apply(this,arguments)})},{key:"_renderXfaLayer",value:(d=p(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,this.xfaLayer.render(this.viewport,"display");case 4:n=t.sent,this.textHighlighter&&this._buildXfaTextContentItems(n.textDivs),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e=t.t0;case 11:return t.prev=11,this.eventBus.dispatch("xfalayerrendered",{source:this,pageNumber:this.id,error:e}),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[1,8,11,14]])})),function(){return d.apply(this,arguments)})},{key:"_buildXfaTextContentItems",value:(r=p(i.default.mark(function t(e){var n,r,o;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pdfPage.getTextContent();case 2:n=[],r=h(t.sent.items);try{for(r.s();!(o=r.n()).done;)n.push(o.value.str)}catch(i){r.e(i)}finally{r.f()}this.textHighlighter.setTextMapping(e,n),this.textHighlighter.enable();case 8:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var e=this.zoomLayer.firstChild;this.paintedViewportMap.delete(e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var t,e,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.keepZoomLayer,o=void 0!==i&&i,s=r.keepAnnotationLayer,a=void 0!==s&&s,u=r.keepXfaLayer,l=void 0!==u&&u;this.cancelRendering({keepAnnotationLayer:a,keepXfaLayer:l}),this.renderingState=c.RenderingStates.INITIAL;var h=this.div;h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px";for(var d=h.childNodes,f=o&&this.zoomLayer||null,p=a&&(null===(t=this.annotationLayer)||void 0===t?void 0:t.div)||null,g=l&&(null===(e=this.xfaLayer)||void 0===e?void 0:e.div)||null,m=d.length-1;m>=0;m--){var v=d[m];switch(v){case f:case p:case g:continue}h.removeChild(v)}h.removeAttribute("data-loaded"),p&&this.annotationLayer.hide(),g&&this.xfaLayer.hide(),f||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(function(t){var e;null===(e=n.loadingIconDiv)||void 0===e||e.setAttribute("aria-label",t)}),h.appendChild(this.loadingIconDiv)}},{key:"update",value:function(t){var e=t.scale,n=void 0===e?0:e,r=t.rotation,i=void 0===r?null:r,s=t.optionalContentConfigPromise,a=void 0===s?null:s;if("object"!==l(arguments[0]))return console.error("PDFPageView.update called with separate parameters, please use an object instead."),void this.update({scale:arguments[0],rotation:arguments[1],optionalContentConfigPromise:arguments[2]});if(this.scale=n||this.scale,"number"==typeof i&&(this.rotation=i),a instanceof Promise&&(this._optionalContentConfigPromise=a),this._isStandalone){var u=document.documentElement;u.style.setProperty("--zoom-factor",this.scale)}var c=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*o.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:c}),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var h=!1;if(this.canvas&&this.maxCanvasPixels>0){var d=this.outputScale;(Math.floor(this.viewport.width)*d.sx|0)*(Math.floor(this.viewport.height)*d.sy|0)>this.maxCanvasPixels&&(h=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&h)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}},{key:"cancelRendering",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.keepAnnotationLayer,r=void 0!==n&&n,i=e.keepXfaLayer,o=void 0!==i&&i;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!this.annotationLayer||r&&this.annotationLayer.div||(this.annotationLayer.cancel(),this.annotationLayer=null),!this.xfaLayer||o&&this.xfaLayer.div||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(t=this.textHighlighter)||void 0===t||t.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}},{key:"cssTransform",value:function(t){var e=t.target,n=t.redrawAnnotationLayer,r=void 0!==n&&n,i=t.redrawXfaLayer,o=void 0!==i&&i,s=this.viewport.width,a=this.viewport.height,u=this.div;e.style.width=e.parentNode.style.width=u.style.width=Math.floor(s)+"px",e.style.height=e.parentNode.style.height=u.style.height=Math.floor(a)+"px";var c=this.viewport.rotation-this.paintedViewportMap.get(e).rotation,l=Math.abs(c),h=1,d=1;if(90!==l&&270!==l||(h=a/s,d=s/a),e.style.transform="rotate(".concat(c,"deg) scale(").concat(h,", ").concat(d,")"),this.textLayer){var f=this.textLayer.viewport,p=Math.abs(this.viewport.rotation-f.rotation),g=s/f.width;90!==p&&270!==p||(g=s/f.height);var m,v,y=this.textLayer.textLayerDiv;switch(p){case 0:m=v=0;break;case 90:m=0,v="-"+y.style.height;break;case 180:m="-"+y.style.width,v="-"+y.style.height;break;case 270:m="-"+y.style.width,v=0;break;default:console.error("Bad rotation value.")}y.style.transform="rotate(".concat(p,"deg) ")+"scale(".concat(g,") ")+"translate(".concat(m,", ").concat(v,")"),y.style.transformOrigin="0% 0%"}r&&this.annotationLayer&&this._renderAnnotationLayer(),o&&this.xfaLayer&&this._renderXfaLayer()}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(t,e){return this.viewport.convertToPdfPoint(t,e)}},{key:"draw",value:function(){var t,e,n=this;this.renderingState!==c.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var r=this.div,a=this.pdfPage;if(!a)return this.renderingState=c.RenderingStates.FINISHED,this.loadingIconDiv&&(r.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=c.RenderingStates.RUNNING;var u=document.createElement("div");u.style.width=r.style.width,u.style.height=r.style.height,u.classList.add("canvasWrapper"),null!==(t=this.annotationLayer)&&void 0!==t&&t.div?r.insertBefore(u,this.annotationLayer.div):r.appendChild(u);var l=null;if(this.textLayerMode!==s.TextLayerMode.DISABLE&&this.textLayerFactory){var h,d=document.createElement("div");d.className="textLayer",d.style.width=u.style.width,d.style.height=u.style.height,null!==(h=this.annotationLayer)&&void 0!==h&&h.div?r.insertBefore(d,this.annotationLayer.div):r.appendChild(d),l=this.textLayerFactory.createTextLayerBuilder(d,this.id-1,this.viewport,this.textLayerMode===s.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=l,null!==(e=this.xfaLayer)&&void 0!==e&&e.div&&r.appendChild(this.xfaLayer.div);var f=null;this.renderingQueue&&(f=function(t){if(!n.renderingQueue.isHighestPriority(n))return n.renderingState=c.RenderingStates.PAUSED,void(n.resume=function(){n.renderingState=c.RenderingStates.RUNNING,t()});t()});var g=function(){var t=p(i.default.mark(function t(){var e,s=arguments;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:null,m===n.paintTask&&(n.paintTask=null),!(e instanceof o.RenderingCancelledException)){t.next=5;break}return n._renderError=null,t.abrupt("return");case 5:if(n._renderError=e,n.renderingState=c.RenderingStates.FINISHED,n.loadingIconDiv&&(r.removeChild(n.loadingIconDiv),delete n.loadingIconDiv),n._resetZoomLayer(!0),n.eventBus.dispatch("pagerendered",{source:n,pageNumber:n.id,cssTransform:!1,timestamp:performance.now(),error:n._renderError}),!e){t.next=12;break}throw e;case 12:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),m=this.renderer===s.RendererType.SVG?this.paintOnSvg(u):this.paintOnCanvas(u);m.onRenderContinue=f,this.paintTask=m;var v=m.promise.then(function(){return g(null).then(function(){if(l){var t=a.streamTextContent({normalizeWhitespace:!0,includeMarkedContent:!0});l.setTextContentStream(t),l.render()}})},function(t){return g(t)});return this._annotationMode!==o.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(r,a,null,this.imageResourcesPath,this._annotationMode===o.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null)),this._renderAnnotationLayer()),this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(r,a,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=function(t){t.pageNumber===n.id&&(n.eventBus._off("textlayerrendered",n._onTextLayerRendered),n._onTextLayerRendered=null,n.canvas&&n.pdfPage.getStructTree().then(function(t){if(t&&n.canvas){var e=n.structTreeLayer.render(t);e.classList.add("structTree"),n.canvas.appendChild(e)}}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(a)),r.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),v}},{key:"paintOnCanvas",value:function(t){var e=(0,o.createPromiseCapability)(),n={promise:e.promise,onRenderContinue:function(t){t()},cancel:function(){g.cancel()}},r=this.viewport,i=document.createElement("canvas");i.hidden=!0;var a=!0,u=function(){a&&(i.hidden=!1,a=!1)};t.appendChild(i),this.canvas=i,i.mozOpaque=!0;var c=i.getContext("2d",{alpha:!1}),l=(0,s.getOutputScale)(c);if(this.outputScale=l,this.useOnlyCssZoom){var h=r.clone({scale:o.PixelsPerInch.PDF_TO_CSS_UNITS});l.sx*=h.width/r.width,l.sy*=h.height/r.height,l.scaled=!0}if(this.maxCanvasPixels>0){var d=Math.sqrt(this.maxCanvasPixels/(r.width*r.height));l.sx>d||l.sy>d?(l.sx=d,l.sy=d,l.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var f=(0,s.approximateFraction)(l.sx),p=(0,s.approximateFraction)(l.sy);i.width=(0,s.roundToDivide)(r.width*l.sx,f[0]),i.height=(0,s.roundToDivide)(r.height*l.sy,p[0]),i.style.width=(0,s.roundToDivide)(r.width,f[1])+"px",i.style.height=(0,s.roundToDivide)(r.height,p[1])+"px",this.paintedViewportMap.set(i,r);var g=this.pdfPage.render({canvasContext:c,transform:l.scaled?[l.sx,0,0,l.sy,0,0]:null,viewport:this.viewport,annotationMode:this._annotationMode,optionalContentConfigPromise:this._optionalContentConfigPromise});return g.onContinue=function(t){u(),n.onRenderContinue?n.onRenderContinue(t):t()},g.promise.then(function(){u(),e.resolve(void 0)},function(t){u(),e.reject(t)}),n}},{key:"paintOnSvg",value:function(t){var e=this,n=!1,r=function(){if(n)throw new o.RenderingCancelledException("Rendering cancelled, page ".concat(e.id),"svg")},i=this.pdfPage,s=this.viewport.clone({scale:o.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:i.getOperatorList({annotationMode:this._annotationMode}).then(function(n){return r(),new o.SVGGraphics(i.commonObjs,i.objs,a.compatibilityParams.disableCreateObjectURL).getSVG(n,s).then(function(n){r(),e.svg=n,e.paintedViewportMap.set(n,s),n.style.width=t.style.width,n.style.height=t.style.height,e.renderingState=c.RenderingStates.FINISHED,t.appendChild(n)})}),onRenderContinue:function(t){t()},cancel:function(){n=!0}}}},{key:"setPageLabel",value:function(t){this.pageLabel="string"==typeof t?t:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RenderingStates=e.PDFRenderingQueue=void 0;var r=n(4);var i={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};e.RenderingStates=i,e.PDFRenderingQueue=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}var e;return(e=[{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function(t){return this.highestPriorityPage===t.renderingId}},{key:"hasViewer",value:function(){return!!this.pdfViewer}},{key:"renderHighestPriority",value:function(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.views,o=i.length;if(0===o)return null;for(var s=0;s<o;++s){var a=i[s].view;if(!this.isViewFinished(a))return a}var u=n?t.last.id:t.first.id-2,c=e[u];return c&&!this.isViewFinished(c)||r&&(c=e[u+=n?1:-1])&&!this.isViewFinished(c)?c:null}},{key:"isViewFinished",value:function(t){return t.renderingState===i.FINISHED}},{key:"renderView",value:function(t){var e=this;switch(t.renderingState){case i.FINISHED:return!1;case i.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case i.RUNNING:this.highestPriorityPage=t.renderingId;break;case i.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally(function(){e.renderHighestPriority()}).catch(function(t){t instanceof r.RenderingCancelledException||console.error('renderView: "'.concat(t,'"'))})}return!0}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFScriptingManager=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4),s=n(7),a=n(19);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,e)||f(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){g(o,r,i,s,a,"next",t)}function a(t){g(o,r,i,s,a,"throw",t)}s(void 0)})}}e.PDFScriptingManager=function(){function t(e){var n=this,r=e.eventBus,i=e.sandboxBundleSrc,o=void 0===i?null:i,s=e.scriptingFactory,a=void 0===s?null:s,u=e.docPropertiesLookup,c=void 0===u?null:u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=r,this._sandboxBundleSrc=o,this._scriptingFactory=a,this._docPropertiesLookup=c,this._scriptingFactory||window.addEventListener("updatefromsandbox",function(t){n._eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})})}var e,r,u,l,g,v,y,b,_,w,S,k;return e=t,(r=[{key:"setViewer",value:function(t){this._pdfViewer=t}},{key:"setDocument",value:(k=m(i.default.mark(function t(e){var n,r,o,s,a,u,l,f,p,g,v,y,b=this;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._pdfDocument){t.next=3;break}return t.next=3,this._destroyScripting();case 3:if(this._pdfDocument=e,e){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);case 8:if(r=d(t.sent,3),s=r[1],a=r[2],(o=r[0])||a){t.next=17;break}return t.next=16,this._destroyScripting();case 16:return t.abrupt("return");case 17:if(e===this._pdfDocument){t.next=19;break}return t.abrupt("return");case 19:t.prev=19,this._scripting=this._createScripting(),t.next=29;break;case 23:return t.prev=23,t.t0=t.catch(19),console.error('PDFScriptingManager.setDocument: "'.concat(null==t.t0?void 0:t.t0.message,'".')),t.next=28,this._destroyScripting();case 28:return t.abrupt("return");case 29:this._internalEvents.set("updatefromsandbox",function(t){(null==t?void 0:t.source)===window&&b._updateFromSandbox(t.detail)}),this._internalEvents.set("dispatcheventinsandbox",function(t){var e;null===(e=b._scripting)||void 0===e||e.dispatchEventInSandbox(t.detail)}),this._internalEvents.set("pagechanging",function(t){var e=t.pageNumber,n=t.previous;e!==n&&(b._dispatchPageClose(n),b._dispatchPageOpen(e))}),this._internalEvents.set("pagerendered",function(t){var e=t.pageNumber;b._pageOpenPending.has(e)&&e===b._pdfViewer.currentPageNumber&&b._dispatchPageOpen(e)}),this._internalEvents.set("pagesdestroy",function(){var t=m(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b._dispatchPageClose(b._pdfViewer.currentPageNumber);case 2:return t.next=4,null===(n=b._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:null===(r=b._closeCapability)||void 0===r||r.resolve();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),this._domEvents.set("mousedown",function(t){b._mouseState.isDown=!0}),this._domEvents.set("mouseup",function(t){b._mouseState.isDown=!1}),u=h(this._internalEvents);try{for(u.s();!(l=u.n()).done;)f=d(l.value,2),this._eventBus._on(f[0],f[1])}catch(_){u.e(_)}finally{u.f()}p=h(this._domEvents);try{for(p.s();!(g=p.n()).done;)v=d(g.value,2),window.addEventListener(v[0],v[1])}catch(_){p.e(_)}finally{p.f()}return t.prev=40,t.next=43,this._getDocProperties();case 43:if(y=t.sent,e===this._pdfDocument){t.next=46;break}return t.abrupt("return");case 46:return t.next=48,this._scripting.createSandbox({objects:o,calculationOrder:s,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:c(c({},y),{},{actions:a})});case 48:this._eventBus.dispatch("sandboxcreated",{source:this}),t.next=57;break;case 51:return t.prev=51,t.t1=t.catch(40),console.error('PDFScriptingManager.setDocument: "'.concat(null==t.t1?void 0:t.t1.message,'".')),t.next=56,this._destroyScripting();case 56:return t.abrupt("return");case 57:return t.next=59,null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"Open"});case 59:return t.next=61,this._dispatchPageOpen(this._pdfViewer.currentPageNumber,!0);case 61:Promise.resolve().then(function(){e===b._pdfDocument&&(b._ready=!0)});case 62:case"end":return t.stop()}},t,this,[[19,23],[40,51]])})),function(t){return k.apply(this,arguments)})},{key:"dispatchWillSave",value:(S=m(i.default.mark(function t(e){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return t.stop()}},t,this)})),function(t){return S.apply(this,arguments)})},{key:"dispatchDidSave",value:(w=m(i.default.mark(function t(e){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return t.stop()}},t,this)})),function(t){return w.apply(this,arguments)})},{key:"dispatchWillPrint",value:(_=m(i.default.mark(function t(e){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"WillPrint"}));case 1:case"end":return t.stop()}},t,this)})),function(t){return _.apply(this,arguments)})},{key:"dispatchDidPrint",value:(b=m(i.default.mark(function t(e){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return t.stop()}},t,this)})),function(t){return b.apply(this,arguments)})},{key:"mouseState",get:function(){return this._mouseState}},{key:"destroyPromise",get:function(){var t;return(null===(t=this._destroyCapability)||void 0===t?void 0:t.promise)||null}},{key:"ready",get:function(){return this._ready}},{key:"_internalEvents",get:function(){return(0,o.shadow)(this,"_internalEvents",new Map)}},{key:"_domEvents",get:function(){return(0,o.shadow)(this,"_domEvents",new Map)}},{key:"_pageOpenPending",get:function(){return(0,o.shadow)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,o.shadow)(this,"_visitedPages",new Map)}},{key:"_updateFromSandbox",value:(y=m(i.default.mark(function t(e){var n,r,o,a,u,c,l,d,g,m,v;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._pdfViewer.isInPresentationMode||this._pdfViewer.isChangingPresentationMode,o=e.siblings,a=e.command,u=e.value,r=e.id){t.next=43;break}t.t0=a,t.next="clear"===t.t0?6:"error"===t.t0?8:"layout"===t.t0?10:"page-num"===t.t0?12:"print"===t.t0?14:"println"===t.t0?18:"zoom"===t.t0?20:"SaveAs"===t.t0?24:"FirstPage"===t.t0?26:"LastPage"===t.t0?28:"NextPage"===t.t0?30:"PrevPage"===t.t0?32:"ZoomViewIn"===t.t0?34:"ZoomViewOut"===t.t0?38:42;break;case 6:return console.clear(),t.abrupt("break",42);case 8:return console.error(u),t.abrupt("break",42);case 10:return this._pdfViewer.spreadMode=(0,s.apiPageLayoutToSpreadMode)(u),t.abrupt("break",42);case 12:return this._pdfViewer.currentPageNumber=u+1,t.abrupt("break",42);case 14:return t.next=16,this._pdfViewer.pagesPromise;case 16:return this._eventBus.dispatch("print",{source:this}),t.abrupt("break",42);case 18:return console.log(u),t.abrupt("break",42);case 20:if(!n){t.next=22;break}return t.abrupt("return");case 22:return this._pdfViewer.currentScaleValue=u,t.abrupt("break",42);case 24:return this._eventBus.dispatch("save",{source:this}),t.abrupt("break",42);case 26:return this._pdfViewer.currentPageNumber=1,t.abrupt("break",42);case 28:return this._pdfViewer.currentPageNumber=this._pdfViewer.pagesCount,t.abrupt("break",42);case 30:return this._pdfViewer.nextPage(),t.abrupt("break",42);case 32:return this._pdfViewer.previousPage(),t.abrupt("break",42);case 34:if(!n){t.next=36;break}return t.abrupt("return");case 36:return this._pdfViewer.increaseScale(),t.abrupt("break",42);case 38:if(!n){t.next=40;break}return t.abrupt("return");case 40:return this._pdfViewer.decreaseScale(),t.abrupt("break",42);case 42:return t.abrupt("return");case 43:if(!n){t.next=46;break}if(!e.focus){t.next=46;break}return t.abrupt("return");case 46:delete e.id,delete e.siblings,c=o?[r].concat(function(t){if(Array.isArray(t))return p(t)}(i=o)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||f(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):[r],l=h(c);try{for(l.s();!(d=l.n()).done;)g=d.value,(m=document.getElementById(g))?m.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):null===(v=this._pdfDocument)||void 0===v||v.annotationStorage.setValue(g,e)}catch(y){l.e(y)}finally{l.f()}case 51:case"end":return t.stop()}var i},t,this)})),function(t){return y.apply(this,arguments)})},{key:"_dispatchPageOpen",value:(v=m(i.default.mark(function t(e){var n,r,s,u,c=this,l=arguments;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this._pdfDocument,r=this._visitedPages,l.length>1&&void 0!==l[1]&&l[1]&&(this._closeCapability=(0,o.createPromiseCapability)()),this._closeCapability){t.next=5;break}return t.abrupt("return");case 5:if((null==(s=this._pdfViewer.getPageView(e-1))?void 0:s.renderingState)===a.RenderingStates.FINISHED){t.next=9;break}return this._pageOpenPending.add(e),t.abrupt("return");case 9:this._pageOpenPending.delete(e),u=m(i.default.mark(function t(){var o,a,u;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.has(e)?null:null===(o=s.pdfPage)||void 0===o?void 0:o.getJSActions();case 2:if(u=t.sent,n===c._pdfDocument){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,null===(a=c._scripting)||void 0===a?void 0:a.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:u});case 7:case"end":return t.stop()}},t)}))(),r.set(e,u);case 12:case"end":return t.stop()}},t,this)})),function(t){return v.apply(this,arguments)})},{key:"_dispatchPageClose",value:(g=m(i.default.mark(function t(e){var n,r,o,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this._pdfDocument,o=this._visitedPages,this._closeCapability){t.next=3;break}return t.abrupt("return");case 3:if(!this._pageOpenPending.has(e)){t.next=5;break}return t.abrupt("return");case 5:if(s=o.get(e)){t.next=8;break}return t.abrupt("return");case 8:return o.set(e,null),t.next=11,s;case 11:if(r===this._pdfDocument){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,null===(n=this._scripting)||void 0===n?void 0:n.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e});case 15:case"end":return t.stop()}},t,this)})),function(t){return g.apply(this,arguments)})},{key:"_getDocProperties",value:(l=m(i.default.mark(function t(){var e;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._docPropertiesLookup){t.next=2;break}return t.abrupt("return",this._docPropertiesLookup(this._pdfDocument));case 2:return e=n(21),t.abrupt("return",(0,e.docPropertiesLookup)(this._pdfDocument));case 4:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"_createScripting",value:function(){if(this._destroyCapability=(0,o.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");return this._scriptingFactory?this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc}):new(0,n(21).GenericScripting)(this._sandboxBundleSrc)}},{key:"_destroyScripting",value:(u=m(i.default.mark(function t(){var e,n,r,o,s,a,u,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._scripting){t.next=4;break}return this._pdfDocument=null,null===(n=this._destroyCapability)||void 0===n||n.resolve(),t.abrupt("return");case 4:if(!this._closeCapability){t.next=8;break}return t.next=7,Promise.race([this._closeCapability.promise,new Promise(function(t){setTimeout(t,1e3)})]).catch(function(t){});case 7:this._closeCapability=null;case 8:return this._pdfDocument=null,t.prev=9,t.next=12,this._scripting.destroySandbox();case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:r=h(this._internalEvents);try{for(r.s();!(o=r.n()).done;)s=d(o.value,2),this._eventBus._off(s[0],s[1])}catch(i){r.e(i)}finally{r.f()}this._internalEvents.clear(),a=h(this._domEvents);try{for(a.s();!(u=a.n()).done;)c=d(u.value,2),window.removeEventListener(c[0],c[1])}catch(i){a.e(i)}finally{a.f()}this._domEvents.clear(),this._pageOpenPending.clear(),this._visitedPages.clear(),this._scripting=null,delete this._mouseState.isDown,this._ready=!1,null===(e=this._destroyCapability)||void 0===e||e.resolve();case 28:case"end":return t.stop()}},t,this,[[9,14]])})),function(){return u.apply(this,arguments)})}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,r),t}()},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.docPropertiesLookup=function(t){return h.apply(this,arguments)},e.GenericScripting=void 0;var r,i=(r=n(2))&&r.__esModule?r:{default:r},o=n(4);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach(function(e){u(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){c(o,r,i,s,a,"next",t)}function a(t){c(o,r,i,s,a,"throw",t)}s(void 0)})}}function h(){return(h=l(i.default.mark(function t(e){var n,r,s,u,c,l,h;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n="").split("#")[0],t.next=3,e.getMetadata();case 3:if(u=(s=t.sent).info,c=s.metadata,l=s.contentDispositionFilename,h=s.contentLength){t.next=14;break}return t.next=11,e.getDownloadInfo();case 11:h=t.sent.length;case 14:return t.abrupt("return",a(a({},u),{},{baseURL:r,filesize:h,filename:l||(0,o.getPdfFilenameFromUrl)(n),metadata:null==c?void 0:c.getRaw(),authors:null==c?void 0:c.get("dc:creator"),numPages:e.numPages,URL:n}));case 15:case"end":return t.stop()}},t)}))).apply(this,arguments)}e.GenericScripting=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._ready=(0,o.loadScript)(e,!0).then(function(){return window.pdfjsSandbox.QuickJSSandbox()})}var e,n,r,s,a;return e=t,(n=[{key:"createSandbox",value:(a=l(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:t.sent.create(e);case 4:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(s=l(i.default.mark(function t(e){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:t.sent.dispatchEvent(e);case 4:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)})},{key:"destroySandbox",value:(r=l(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:t.sent.nukeSandbox();case 4:case"end":return t.stop()}},t,this)})),function(){return r.apply(this,arguments)})}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),t}()},(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFSinglePageViewer=void 0;var i=n(23),o=n(4);function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.PDFSinglePageViewer=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,i=(n=l,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=c(n);if(r){var i=c(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return u(this,t)});function l(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=i.call(this,t)).eventBus._on("pagesinit",function(t){e._ensurePageViewVisible()}),e}return(e=[{key:"_viewerElement",get:function(){return(0,o.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_resetView",value:function(){s(c(l.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var t=this._pages[this._currentPageNumber-1],e=this._pages[this._previousPageNumber-1],n=this.viewer.childNodes;switch(n.length){case 0:this.viewer.appendChild(t.div);break;case 1:if(n[0]!==e.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(t===e)break;this._shadowViewer.appendChild(e.div),this.viewer.appendChild(t.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),s(c(l.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(t){var e=this,n=t.pageDiv,r=t.pageSpot,i=void 0===r?null:r,o=t.pageNumber,a=void 0===o?null:o;a&&this._setCurrentPageNumber(a);var u=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),s(c(l.prototype),"_scrollIntoView",this).call(this,{pageDiv:n,pageSpot:i,pageNumber:a}),this._updateScrollDown=function(){e.scroll.down=u,e._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(t){}},{key:"_isScrollModeHorizontal",get:function(){return(0,o.shadow)(this,"_isScrollModeHorizontal",!1)}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(l.prototype,e),l}(i.BaseViewer)},(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseViewer=void 0;var r=n(4),i=n(7),o=n(19),s=n(1),a=n(5),u=n(18),c=n(6),l=n(8),h=n(24),d=n(9),f=n(10);function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t){var e=[];this.push=function(n){var r=e.indexOf(n);r>=0&&e.splice(r,1),e.push(n),e.length>t&&e.shift().destroy()},this.resize=function(n,r){if(t=n,r){for(var o=new Set,s=0,a=r.length;s<a;++s)o.add(r[s].id);(0,i.moveToEndOfArray)(e,function(t){return o.has(t.id)})}for(;e.length>t;)e.shift().destroy()},this.has=function(t){return e.includes(t)}}function v(t,e){return e===t||Math.abs(e-t)<1e-15}e.BaseViewer=function(){function t(e){var n,s,u,l,h=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new Error("Cannot initialize BaseViewer.");var d="2.11.338";if(r.version!==d)throw new Error('The API version "'.concat(r.version,'" does not match the Viewer version "').concat(d,'".'));if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"DIV"!==(null===(n=this.container)||void 0===n?void 0:n.tagName.toUpperCase())||"DIV"!==(null===(s=this.viewer)||void 0===s?void 0:s.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=e.eventBus,this.linkService=e.linkService||new c.SimpleLinkService,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this._scriptingManager=e.scriptingManager||null,this.removePageBorders=e.removePageBorders||!1,this.textLayerMode=null!==(u=e.textLayerMode)&&void 0!==u?u:i.TextLayerMode.ENABLE,this._annotationMode=null!==(l=e.annotationMode)&&void 0!==l?l:r.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.renderer=e.renderer||i.RendererType.CANVAS,this.useOnlyCssZoom=e.useOnlyCssZoom||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n||a.NullL10n,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new o.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue,this._doc=document.documentElement,this.scroll=(0,i.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=i.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){h.eventBus.dispatch("baseviewerinit",{source:h})})}var e;return(e=[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(t){return this._pages[t]}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(t){return null==t?void 0:t.pdfPage})}},{key:"renderForms",get:function(){return this._annotationMode===r.AnnotationMode.ENABLE_FORMS}},{key:"enableScripting",get:function(){return!!this._scriptingManager}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error('currentPageNumber: "'.concat(t,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===t)return r&&this._resetCurrentPageView(),!0;if(!(0<t&&t<=this.pagesCount))return!1;var i=this._currentPageNumber;return this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:null!==(e=null===(n=this._pageLabels)||void 0===n?void 0:n[t-1])&&void 0!==e?e:null,previous:i}),r&&this._resetCurrentPageView(),!0}},{key:"currentPageLabel",get:function(){var t,e;return null!==(t=null===(e=this._pageLabels)||void 0===e?void 0:e[this._currentPageNumber-1])&&void 0!==t?t:null},set:function(t){if(this.pdfDocument){var e=0|t;if(this._pageLabels){var n=this._pageLabels.indexOf(t);n>=0&&(e=n+1)}this._setCurrentPageNumber(e,!0)||console.error('currentPageLabel: "'.concat(t,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==i.UNKNOWN_SCALE?this._currentScale:i.DEFAULT_SCALE},set:function(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(t,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(t){this.pdfDocument&&this._setScale(t,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(t){if(!(0,i.isValidRotation)(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((t%=360)<0&&(t+=360),this._pagesRotation!==t)){this._pagesRotation=t;var e,n=this._currentPageNumber,r={rotation:t},o=p(this._pages);try{for(o.s();!(e=o.n()).done;)e.value.update(r)}catch(s){o.e(s)}finally{o.f()}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:n}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(t){var e=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=t,t){var n=t.isPureXfa,o=t.numPages,s=t.getPage(1),a=t.getOptionalContentConfig();this._pagesCapability.promise.then(function(){e.eventBus.dispatch("pagesloaded",{source:e,pagesCount:o})}),this._onBeforeDraw=function(t){var n=e._pages[t.pageNumber-1];n&&e._buffer.push(n)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(t){t.cssTransform||e._onePageRenderedCapability.settled||(e._onePageRenderedCapability.resolve(),e.eventBus._off("pagerendered",e._onAfterDraw),e._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),s.then(function(s){e._firstPageCapability.resolve(s),e._optionalContentConfigPromise=a;for(var c=e.currentScale,l=s.getViewport({scale:c*r.PixelsPerInch.PDF_TO_CSS_UNITS}),h=e.textLayerMode===i.TextLayerMode.DISABLE||n?null:e,d=e._annotationMode!==r.AnnotationMode.DISABLE?e:null,f=n?e:null,p=1;p<=o;++p){var g=new u.PDFPageView({container:e._viewerElement,eventBus:e.eventBus,id:p,scale:c,defaultViewport:l.clone(),optionalContentConfigPromise:a,renderingQueue:e.renderingQueue,textLayerFactory:h,textLayerMode:e.textLayerMode,annotationLayerFactory:d,annotationMode:e._annotationMode,xfaLayerFactory:f,textHighlighterFactory:e,structTreeLayerFactory:e,imageResourcesPath:e.imageResourcesPath,renderer:e.renderer,useOnlyCssZoom:e.useOnlyCssZoom,maxCanvasPixels:e.maxCanvasPixels,l10n:e.l10n});e._pages.push(g)}var m=e._pages[0];m&&(m.setPdfPage(s),e.linkService.cachePageRef(1,s.ref)),e._spreadMode!==i.SpreadMode.NONE&&e._updateSpreadMode(),e._onePageRenderedOrForceFetch().then(function(){if(e.findController&&e.findController.setDocument(t),e._scriptingManager&&e._scriptingManager.setDocument(t),t.loadingParams.disableAutoFetch||o>7500)e._pagesCapability.resolve();else{var n=o-1;if(n<=0)e._pagesCapability.resolve();else for(var r=function(r){t.getPage(r).then(function(t){var i=e._pages[r-1];i.pdfPage||i.setPdfPage(t),e.linkService.cachePageRef(r,t.ref),0==--n&&e._pagesCapability.resolve()},function(t){console.error("Unable to get page ".concat(r," to initialize viewer"),t),0==--n&&e._pagesCapability.resolve()})},i=2;i<=o;++i)r(i)}}),e.eventBus.dispatch("pagesinit",{source:e}),e.defaultRenderingQueue&&e.update()}).catch(function(t){console.error("Unable to initialize viewer",t)})}}},{key:"setPageLabels",value:function(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var e=0,n=this._pages.length;e<n;e++){var r,i;this._pages[e].setPageLabel(null!==(r=null===(i=this._pageLabels)||void 0===i?void 0:i[e])&&void 0!==r?r:null)}}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=i.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new m(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,r.createPromiseCapability)(),this._onePageRenderedCapability=(0,r.createPromiseCapability)(),this._pagesCapability=(0,r.createPromiseCapability)(),this._scrollMode=i.ScrollMode.VERTICAL,this._spreadMode=i.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(t){var e=t.pageSpot;(0,i.scrollIntoView)(t.pageDiv,void 0===e?null:e)}},{key:"_setScaleUpdatePages",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=e.toString(),v(this._currentScale,t))r&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});else{this._doc.style.setProperty("--zoom-factor",t);var i,o={scale:t},s=p(this._pages);try{for(s.s();!(i=s.n()).done;){var a=i.value;a.update(o)}}catch(l){s.e(l)}finally{s.f()}if(this._currentScale=t,!n){var u,c=this._currentPageNumber;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:c,destArray:u,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:r?e:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_pageWidthScaleFactor",get:function(){return this._spreadMode===i.SpreadMode.NONE||this._scrollMode===i.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_setScale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(t);if(n>0)this._setScaleUpdatePages(n,t,e,!1);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var o=this.isInPresentationMode||this.removePageBorders,s=o?0:i.SCROLLBAR_PADDING,a=o?0:i.VERTICAL_PADDING;if(!o&&this._isScrollModeHorizontal){var u=[a,s];s=u[0],a=u[1]}var c=(this.container.clientWidth-s)/r.width*r.scale/this._pageWidthScaleFactor,l=(this.container.clientHeight-a)/r.height*r.scale;switch(t){case"page-actual":n=1;break;case"page-width":n=c;break;case"page-height":n=l;break;case"page-fit":n=Math.min(c,l);break;case"auto":var h=(0,i.isPortraitOrientation)(r)?c:Math.min(l,c);n=Math.min(i.MAX_AUTO_SCALE,h);break;default:return void console.error('_setScale: "'.concat(t,'" is an unknown zoom value.'))}this._setScaleUpdatePages(n,t,e,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"pageLabelToPageNumber",value:function(t){if(!this._pageLabels)return null;var e=this._pageLabels.indexOf(t);return e<0?null:e+1}},{key:"scrollPageIntoView",value:function(t){var e=t.pageNumber,n=t.destArray,o=void 0===n?null:n,s=t.allowNegativeOffset,a=void 0!==s&&s,u=t.ignoreDestinationZoom,c=void 0!==u&&u;if(this.pdfDocument){var l=Number.isInteger(e)&&this._pages[e-1];if(l)if(!this.isInPresentationMode&&o){var h,d=0,f=0,p=0,g=0,m=l.rotation%180!=0,v=(m?l.height:l.width)/l.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,y=(m?l.width:l.height)/l.scale/r.PixelsPerInch.PDF_TO_CSS_UNITS,b=0;switch(o[1].name){case"XYZ":b=o[4],d=null!==(d=o[2])?d:0,f=null!==(f=o[3])?f:y;break;case"Fit":case"FitB":b="page-fit";break;case"FitH":case"FitBH":b="page-width",null===(f=o[2])&&this._location?(d=this._location.left,f=this._location.top):"number"!=typeof f&&(f=y);break;case"FitV":case"FitBV":d=o[2],p=v,g=y,b="page-height";break;case"FitR":p=o[4]-(d=o[2]),h=(this.container.clientHeight-(this.removePageBorders?0:i.VERTICAL_PADDING))/(g=o[5]-(f=o[3]))/r.PixelsPerInch.PDF_TO_CSS_UNITS,b=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:i.SCROLLBAR_PADDING))/p/r.PixelsPerInch.PDF_TO_CSS_UNITS),Math.abs(h));break;default:return void console.error('scrollPageIntoView: "'.concat(o[1].name,'" is not a valid destination type.'))}if(c||(b&&b!==this._currentScale?this.currentScaleValue=b:this._currentScale===i.UNKNOWN_SCALE&&(this.currentScaleValue=i.DEFAULT_SCALE_VALUE)),"page-fit"!==b||o[4]){var _=[l.viewport.convertToViewportPoint(d,f),l.viewport.convertToViewportPoint(d+p,f+g)],w=Math.min(_[0][0],_[1][0]),S=Math.min(_[0][1],_[1][1]);a||(w=Math.max(w,0),S=Math.max(S,0)),this._scrollIntoView({pageDiv:l.div,pageSpot:{left:w,top:S},pageNumber:e})}else this._scrollIntoView({pageDiv:l.div,pageNumber:e})}else this._setCurrentPageNumber(e,!0);else console.error('scrollPageIntoView: "'.concat(e,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(t){var e=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===e?Math.round(1e4*e)/100:n,i=t.id,o="#page="+i;o+="&zoom="+r;var s=this.container,a=this._pages[i-1].getPagePoint(s.scrollLeft-t.x,s.scrollTop-t.y),u=Math.round(a[0]),c=Math.round(a[1]);this._location={pageNumber:i,scale:r,top:c,left:u,rotation:this._pagesRotation,pdfOpenParams:o+=","+u+","+c}}},{key:"_updateHelper",value:function(t){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var t=this._getVisiblePages(),e=t.views,n=e.length;if(0!==n){var r=Math.max(10,2*n+1);this._buffer.resize(r,e),this.renderingQueue.renderHighestPriority(t),this._updateHelper(e),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(t){return this.container.contains(t)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===i.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===i.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var t=this._pages[this._currentPageNumber-1],e=t.div,n={id:t.id,x:e.offsetLeft+e.clientLeft,y:e.offsetTop+e.clientTop,view:t};return{first:n,last:n,views:[n]}}},{key:"_getVisiblePages",value:function(){return(0,i.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(t){return!!this.pdfDocument&&(Number.isInteger(t)&&t>0&&t<=this.pagesCount?this._getVisiblePages().views.some(function(e){return e.id===t}):(console.error('isPageVisible: "'.concat(t,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(t){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount))return console.error('isPageCached: "'.concat(t,'" is not a valid page.')),!1;var e=this._pages[t-1];return!!e&&this._buffer.has(e)}},{key:"cleanup",value:function(){for(var t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].renderingState!==o.RenderingStates.FINISHED&&this._pages[t].reset()}},{key:"_cancelRendering",value:function(){for(var t=0,e=this._pages.length;t<e;t++)this._pages[t]&&this._pages[t].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(t){var e=this;if(t.pdfPage)return Promise.resolve(t.pdfPage);if(this._pagesRequests.has(t))return this._pagesRequests.get(t);var n=this.pdfDocument.getPage(t.id).then(function(n){return t.pdfPage||t.setPdfPage(n),e._pagesRequests.delete(t),n}).catch(function(n){console.error("Unable to get page for page view",n),e._pagesRequests.delete(t)});return this._pagesRequests.set(t,n),n}},{key:"forceRendering",value:function(t){var e=this,n=t||this._getVisiblePages(),r=this.renderingQueue.getHighestPriority(n,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down,this._scrollMode===i.ScrollMode.VERTICAL&&this._spreadMode!==i.SpreadMode.NONE&&!this.isInPresentationMode);return!!r&&(this._ensurePdfPageLoaded(r).then(function(){e.renderingQueue.renderView(r)}),!0)}},{key:"createTextLayerBuilder",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return new d.TextLayerBuilder({textLayerDiv:t,eventBus:i,pageIndex:e,viewport:n,enhanceTextSelection:!this.isInPresentationMode&&r,highlighter:o})}},{key:"createTextHighlighter",value:function(t,e){return new h.TextHighlighter({eventBus:e,pageIndex:t,findController:this.isInPresentationMode?null:this.findController})}},{key:"createAnnotationLayerBuilder",value:function(t,e){var n,r,i,o,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=arguments.length>5&&void 0!==arguments[5]?arguments[5]:a.NullL10n,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,f=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,g=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;return new s.AnnotationLayerBuilder({pageDiv:t,pdfPage:e,annotationStorage:u||(null===(n=this.pdfDocument)||void 0===n?void 0:n.annotationStorage),imageResourcesPath:c,renderForms:l,linkService:this.linkService,downloadManager:this.downloadManager,l10n:h,enableScripting:null!=d?d:this.enableScripting,hasJSActionsPromise:f||(null===(r=this.pdfDocument)||void 0===r?void 0:r.hasJSActions()),fieldObjectsPromise:g||(null===(i=this.pdfDocument)||void 0===i?void 0:i.getFieldObjects()),mouseState:p||(null===(o=this._scriptingManager)||void 0===o?void 0:o.mouseState)})}},{key:"createXfaLayerBuilder",value:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new f.XfaLayerBuilder({pageDiv:t,pdfPage:e,annotationStorage:r||(null===(n=this.pdfDocument)||void 0===n?void 0:n.annotationStorage),linkService:this.linkService})}},{key:"createStructTreeLayerBuilder",value:function(t){return new l.StructTreeLayerBuilder({pdfPage:t})}},{key:"hasEqualPageSizes",get:function(){for(var t=this._pages[0],e=1,n=this._pages.length;e<n;++e){var r=this._pages[e];if(r.width!==t.width||r.height!==t.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var t=this;return this._pages.map(function(e){var n=e.pdfPage.getViewport({scale:1});return!t.enablePrintAutoRotate||(0,i.isPortraitOrientation)(n)?{width:n.width,height:n.height,rotation:n.rotation}:{width:n.height,height:n.width,rotation:(n.rotation-90)%360}})}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(t){if(!(t instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(t));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=t;var e,n={optionalContentConfigPromise:t},r=p(this._pages);try{for(r.s();!(e=r.n()).done;)e.value.update(n)}catch(i){r.e(i)}finally{r.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(t){if(this._scrollMode!==t){if(!(0,i.isValidScrollMode)(t))throw new Error("Invalid scroll mode: ".concat(t));this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber)}}},{key:"_updateScrollMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",e===i.ScrollMode.HORIZONTAL),n.classList.toggle("scrollWrapped",e===i.ScrollMode.WRAPPED),this.pdfDocument&&t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(t,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(t){if(this._spreadMode!==t){if(!(0,i.isValidSpreadMode)(t))throw new Error("Invalid spread mode: ".concat(t));this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var e=this.viewer,n=this._pages;if(e.textContent="",this._spreadMode===i.SpreadMode.NONE)for(var r=0,o=n.length;r<o;++r)e.appendChild(n[r].div);else for(var s=this._spreadMode-1,a=null,u=0,c=n.length;u<c;++u)null===a?((a=document.createElement("div")).className="spread",e.appendChild(a)):u%2===s&&(a=a.cloneNode(!1),e.appendChild(a)),a.appendChild(n[u].div);t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(t,!0),this.update())}}},{key:"_getPageAdvance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case i.ScrollMode.WRAPPED:var n,r=this._getVisiblePages(),o=r.views,s=new Map,a=p(o);try{for(a.s();!(n=a.n()).done;){var u=n.value,c=u.id,l=u.y,h=u.percent,d=u.widthPercent;if(!(0===h||d<100)){var f=s.get(l);f||s.set(l,f||(f=[])),f.push(c)}}}catch(U){a.e(U)}finally{a.f()}var g,m=p(s.values());try{for(m.s();!(g=m.n()).done;){var v=g.value,y=v.indexOf(t);if(-1!==y){var b=v.length;if(1===b)break;if(e)for(var _=y-1,w=0;_>=w;_--){var S=v[_],k=v[_+1]-1;if(S<k)return t-k}else for(var A=y+1,E=b;A<E;A++){var C=v[A],T=v[A-1]+1;if(C>T)return T-t}if(e){var x=v[0];if(x<t)return t-x+1}else{var P=v[b-1];if(P>t)return P-t+1}break}}}catch(U){m.e(U)}finally{m.f()}break;case i.ScrollMode.HORIZONTAL:break;case i.ScrollMode.VERTICAL:if(this._spreadMode===i.SpreadMode.NONE)break;var I=this._spreadMode-1;if(e&&t%2!==I)break;if(!e&&t%2===I)break;var O,R=this._getVisiblePages(),D=R.views,N=e?t-1:t+1,L=p(D);try{for(L.s();!(O=L.n()).done;){var M=O.value,F=M.id,j=M.percent,V=M.widthPercent;if(F===N){if(j>0&&100===V)return 2;break}}}catch(U){L.e(U)}finally{L.f()}}return 1}},{key:"nextPage",value:function(){var t=this._currentPageNumber,e=this.pagesCount;if(t>=e)return!1;var n=this._getPageAdvance(t,!1)||1;return this.currentPageNumber=Math.min(t+n,e),!0}},{key:"previousPage",value:function(){var t=this._currentPageNumber;if(t<=1)return!1;var e=this._getPageAdvance(t,!0)||1;return this.currentPageNumber=Math.max(t-e,1),!0}},{key:"increaseScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this._currentScale;do{e=(e*i.DEFAULT_SCALE_DELTA).toFixed(2),e=Math.ceil(10*e)/10,e=Math.min(i.MAX_SCALE,e)}while(--t>0&&e<i.MAX_SCALE);this.currentScaleValue=e}},{key:"decreaseScale",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this._currentScale;do{e=(e/i.DEFAULT_SCALE_DELTA).toFixed(2),e=Math.floor(10*e)/10,e=Math.max(i.MIN_SCALE,e)}while(--t>0&&e>i.MIN_SCALE);this.currentScaleValue=e}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextHighlighter=void 0,e.TextHighlighter=function(){function t(e){var n=e.findController,r=e.eventBus,i=e.pageIndex;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.findController=n,this.matches=[],this.eventBus=r,this.pageIdx=i,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}var e;return(e=[{key:"setTextMapping",value:function(t,e){this.textDivs=t,this.textContentItemsStr=e}},{key:"enable",value:function(){var t=this;if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(e){e.pageIndex!==t.pageIdx&&-1!==e.pageIndex||t._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}},{key:"_convertMatches",value:function(t,e){if(!t)return[];for(var n=this.textContentItemsStr,r=0,i=0,o=n.length-1,s=[],a=0,u=t.length;a<u;a++){for(var c=t[a];r!==o&&c>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");var l={begin:{divIdx:r,offset:c-i}};for(c+=e[a];r!==o&&c>i+n[r].length;)i+=n[r].length,r++;l.end={divIdx:r,offset:c-i},s.push(l)}return s}},{key:"_renderMatches",value:function(t){if(0!==t.length){var e=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=n===e.selected.pageIdx,s=e.selected.matchIdx,a=null,u={divIdx:-1,offset:void 0},c=s,l=c+1;if(e.state.highlightAll)c=0,l=t.length;else if(!o)return;for(var h=c;h<l;h++){var d=t[h],f=d.begin,p=d.end,g=o&&h===s,m=g?" selected":"",v=0;if(a&&f.divIdx===a.divIdx?w(a.divIdx,a.offset,f.offset):(null!==a&&w(a.divIdx,a.offset,u.offset),_(f)),f.divIdx===p.divIdx)v=w(f.divIdx,f.offset,p.offset,"highlight"+m);else{v=w(f.divIdx,f.offset,u.offset,"highlight begin"+m);for(var y=f.divIdx+1,b=p.divIdx;y<b;y++)i[y].className="highlight middle"+m;_(p,"highlight end"+m)}a=p,g&&e.scrollMatchIntoView({element:i[f.divIdx],selectedLeft:v,pageIndex:n,matchIndex:s})}a&&w(a.divIdx,a.offset,u.offset)}function _(t,e){var n=t.divIdx;return i[n].textContent="",w(n,0,t.offset,e)}function w(t,e,n,o){var s=i[t];if(s.nodeType===Node.TEXT_NODE){var a=document.createElement("span");s.parentNode.insertBefore(a,s),a.appendChild(s),i[t]=a,s=a}var u=r[t].substring(e,n),c=document.createTextNode(u);if(o){var l=document.createElement("span");return l.className="".concat(o," appended"),l.appendChild(c),s.appendChild(l),o.includes("selected")?l.offsetLeft:0}return s.appendChild(c),0}}},{key:"_updateMatches",value:function(){if(this.enabled){for(var t=this.findController,e=this.matches,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=-1,s=0,a=e.length;s<a;s++){for(var u=e[s],c=Math.max(o,u.begin.divIdx),l=u.end.divIdx;c<=l;c++){var h=i[c];h.textContent=r[c],h.className=""}o=u.end.divIdx+1}null!=t&&t.highlightMatches&&(this.matches=this._convertMatches(t.pageMatches[n]||null,t.pageMatchesLength[n]||null),this._renderMatches(this.matches))}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()},(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.PDFViewer=void 0;var i=n(7),o=n(23),s=n(4);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}e.PDFViewer=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(f,t);var e,n,r,o=(n=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,e=d(n);if(r){var i=d(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return h(this,t)});function f(){return u(this,f),o.apply(this,arguments)}return(e=[{key:"_viewerElement",get:function(){return(0,s.shadow)(this,"_viewerElement",this.viewer)}},{key:"_scrollIntoView",value:function(t){var e=t.pageDiv,n=t.pageSpot,r=void 0===n?null:n,i=t.pageNumber,o=void 0===i?null:i;if(!r&&!this.isInPresentationMode){var s=e.offsetLeft+e.clientLeft,a=this.container,u=a.scrollLeft;(this._isScrollModeHorizontal||s<u||s+e.clientWidth>u+a.clientWidth)&&(r={left:0,top:0})}c(d(f.prototype),"_scrollIntoView",this).call(this,{pageDiv:e,pageSpot:r,pageNumber:o})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():c(d(f.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(t){if(!this.isInPresentationMode){var e,n=this._currentPageNumber,r=!1,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;if(s.percent<100)break;if(s.id===n&&this._scrollMode===i.ScrollMode.VERTICAL&&this._spreadMode===i.SpreadMode.NONE){r=!0;break}}}catch(u){o.e(u)}finally{o.f()}r||(n=t[0].id),this._setCurrentPageNumber(n)}}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(f.prototype,e),f}(o.BaseViewer)}],e={};function r(n){var i=e[n];if(void 0!==i)return i.exports;var o=e[n]={id:n,loaded:!1,exports:{}};return t[n](o,o.exports,r),o.loaded=!0,o.exports}r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var i={};return(()=>{var t=i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return e.AnnotationLayerBuilder}}),Object.defineProperty(t,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return e.DefaultAnnotationLayerFactory}}),Object.defineProperty(t,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return n.DefaultStructTreeLayerFactory}}),Object.defineProperty(t,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return n.StructTreeLayerBuilder}}),Object.defineProperty(t,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return o.DefaultTextLayerFactory}}),Object.defineProperty(t,"TextLayerBuilder",{enumerable:!0,get:function(){return o.TextLayerBuilder}}),Object.defineProperty(t,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(t,"XfaLayerBuilder",{enumerable:!0,get:function(){return s.XfaLayerBuilder}}),Object.defineProperty(t,"EventBus",{enumerable:!0,get:function(){return a.EventBus}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(t,"PDFLinkService",{enumerable:!0,get:function(){return u.PDFLinkService}}),Object.defineProperty(t,"SimpleLinkService",{enumerable:!0,get:function(){return u.SimpleLinkService}}),Object.defineProperty(t,"DownloadManager",{enumerable:!0,get:function(){return c.DownloadManager}}),Object.defineProperty(t,"GenericL10n",{enumerable:!0,get:function(){return l.GenericL10n}}),Object.defineProperty(t,"NullL10n",{enumerable:!0,get:function(){return h.NullL10n}}),Object.defineProperty(t,"PDFFindController",{enumerable:!0,get:function(){return d.PDFFindController}}),Object.defineProperty(t,"PDFHistory",{enumerable:!0,get:function(){return f.PDFHistory}}),Object.defineProperty(t,"PDFPageView",{enumerable:!0,get:function(){return p.PDFPageView}}),Object.defineProperty(t,"PDFScriptingManager",{enumerable:!0,get:function(){return g.PDFScriptingManager}}),Object.defineProperty(t,"PDFSinglePageViewer",{enumerable:!0,get:function(){return m.PDFSinglePageViewer}}),Object.defineProperty(t,"PDFViewer",{enumerable:!0,get:function(){return v.PDFViewer}});var e=r(1),n=r(8),o=r(9),s=r(10),a=r(7),u=r(6),c=r(11),l=r(13),h=r(5),d=r(15),f=r(17),p=r(18),g=r(20),m=r(22),v=r(25)})(),i})()},t.exports=r()},12:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=Array.isArray||(t=>t&&"number"==typeof t.length);function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class h{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof h)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(r(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(s){t=s instanceof l?d(s.errors):[s]}}if(u(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(c(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof l?t=t.concat(d(s.errors)):t.push(s)}}}if(t)throw new l(t)}add(t){let e=t;if(!t)return h.EMPTY;switch(typeof t){case"function":e=new h(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof h)){const t=e;e=new h,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof h){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function d(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}h.EMPTY=function(t){return t.closed=!0,t}(new h);const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[f](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m="function"==typeof Symbol&&Symbol.observable||"@@observable";function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[f])return t[f]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class S extends p{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[f](){return new S(this)}lift(t){const e=new A(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new A(t,e),t})();class A extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function E(t){return t&&"function"==typeof t.schedule}function C(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new T(t,e))}}class T{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new x(t,this.project,this.thisArg))}}class x extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const P=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},I="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",O=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const D=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(O(t))return P(t);if(R(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[I])return e=t,t=>{const n=e[I]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function N(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function L(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(O(t))return N(t,e);if(function(t){return t&&"function"==typeof t[I]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[I](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(D(t))}class M extends p{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class F extends p{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function j(t,e){if(e.closed)return;if(t instanceof y)return t.subscribe(e);let n;try{n=D(t)(e)}catch(r){e.error(r)}return n}function V(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(V((n,r)=>L(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new U(t,n)))}class U{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new B(t,this.project,this.concurrent))}}class B extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new M(this),n=this.destination;n.add(e);const r=j(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return V(v,t)}function H(t,e){return e?N(t,e):new y(P(t))}function z(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return E(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:q(e)(H(t,n))}function W(){return function(t){return t.lift(new G(t))}}class G{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new K(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class K extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class $ extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Q(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const X=(()=>{const t=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Q extends S{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Y(){return new k}function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function Z(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const nt=J({__forward_ref__:J});function rt(t){return t.__forward_ref__=rt,t.toString=function(){return tt(this())},t}function it(t){return ot(t)?t():t}function ot(t){return"function"==typeof t&&t.hasOwnProperty(nt)&&t.__forward_ref__===rt}class st extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function at(t){return"string"==typeof t?t:null==t?"":String(t)}function ut(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}function ct(t,e){const n=e?` in ${e}`:"";throw new st("201",`No provider for ${ut(t)} found${n}`)}function lt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function dt(t){return ft(t,gt)||ft(t,vt)}function ft(t,e){return t.hasOwnProperty(e)?t[e]:null}function pt(t){return t&&(t.hasOwnProperty(mt)||t.hasOwnProperty(yt))?t[mt]:null}const gt=J({"\u0275prov":J}),mt=J({"\u0275inj":J}),vt=J({ngInjectableDef:J}),yt=J({ngInjectorDef:J});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let _t;function wt(t){const e=_t;return _t=t,e}function St(t,e,n){const r=dt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&bt.Optional?null:void 0!==e?e:void ct(tt(t),"Injector")}function kt(t){return{toString:t}.toString()}var At=(()=>((At=At||{})[At.OnPush=0]="OnPush",At[At.Default=1]="Default",At))(),Et=(()=>((Et=Et||{})[Et.Emulated=0]="Emulated",Et[Et.None=2]="None",Et[Et.ShadowDom=3]="ShadowDom",Et))();const Ct="undefined"!=typeof globalThis&&globalThis,Tt="undefined"!=typeof window&&window,xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pt="undefined"!=typeof global&&global,It=Ct||Pt||Tt||xt,Ot={},Rt=[],Dt=J({"\u0275cmp":J}),Nt=J({"\u0275dir":J}),Lt=J({"\u0275pipe":J}),Mt=J({"\u0275mod":J}),Ft=J({"\u0275loc":J}),jt=J({"\u0275fac":J}),Vt=J({__NG_ELEMENT_ID__:J});let Ut=0;function Bt(t){return kt(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===At.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Rt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||Rt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ut++,n.inputs=Gt(t.inputs,e),n.outputs=Gt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(qt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ht):null,n})}function qt(t){return $t(t)||function(t){return t[Nt]||null}(t)}function Ht(t){return function(t){return t[Lt]||null}(t)}const zt={};function Wt(t){return kt(()=>{const e={type:t.type,bootstrap:t.bootstrap||Rt,declarations:t.declarations||Rt,imports:t.imports||Rt,exports:t.exports||Rt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(zt[t.id]=t.type),e})}function Gt(t,e){if(null==t)return Ot;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Kt=Bt;function $t(t){return t[Dt]||null}function Xt(t,e){const n=t[Mt]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}const Qt=20,Yt=10;function Jt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Zt(t){return Array.isArray(t)&&!0===t[1]}function te(t){return 0!=(8&t.flags)}function ee(t){return 2==(2&t.flags)}function ne(t){return 1==(1&t.flags)}function re(t){return null!==t.template}function ie(t,e){return t.hasOwnProperty(jt)?t[jt]:null}class oe{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function se(){return ae}function ae(t){return t.type.prototype.ngOnChanges&&(t.setInput=ce),ue}function ue(){const t=le(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Ot)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function ce(t,e,n,r){const i=le(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Ot,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new oe(u&&u.currentValue,e,s===Ot),t[r]=e}function le(t){return t.__ngSimpleChanges__||null}se.ngInherit=!0;const he="http://www.w3.org/2000/svg";let de;function fe(t){return!!t.listen}const pe={createRenderer:(t,e)=>void 0!==de?de:"undefined"!=typeof document?document:void 0};function ge(t){for(;Array.isArray(t);)t=t[0];return t}function me(t,e){return ge(e[t])}function ve(t,e){return ge(e[t.index])}function ye(t,e){return t.data[e]}function be(t,e){const n=e[t];return Jt(n)?n:n[0]}function _e(t){return 4==(4&t[2])}function we(t){return 128==(128&t[2])}function Se(t,e){return null==e?null:t[e]}function ke(t){t[18]=0}function Ae(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ee={lFrame:Ke(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ce(){return Ee.bindingsEnabled}function Te(){return Ee.lFrame.lView}function xe(){return Ee.lFrame.tView}function Pe(t){return Ee.lFrame.contextLView=t,t[8]}function Ie(){let t=Oe();for(;null!==t&&64===t.type;)t=t.parent;return t}function Oe(){return Ee.lFrame.currentTNode}function Re(t,e){const n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function De(){return Ee.lFrame.isParent}function Ne(){Ee.lFrame.isParent=!1}function Le(){return Ee.isInCheckNoChangesMode}function Me(t){Ee.isInCheckNoChangesMode=t}function Fe(){return Ee.lFrame.bindingIndex++}function je(t,e){const n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ve(e)}function Ve(t){Ee.lFrame.currentDirectiveIndex=t}function Ue(t){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function Be(){return Ee.lFrame.currentQueryIndex}function qe(t){Ee.lFrame.currentQueryIndex=t}function He(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ze(t,e,n){if(n&bt.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&bt.Host||(r=He(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ee.lFrame=Ge();return r.currentTNode=e,r.lView=t,!0}function We(t){const e=Ge(),n=t[1];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ge(){const t=Ee.lFrame,e=null===t?null:t.child;return null===e?Ke(t):e}function Ke(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $e(){const t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Xe=$e;function Qe(){const t=$e();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ye(){return Ee.lFrame.selectedIndex}function Je(t){Ee.lFrame.selectedIndex=t}function Ze(){const t=Ee.lFrame;return ye(t.tView,t.selectedIndex)}function tn(){Ee.lFrame.currentNamespace=he}function en(){Ee.lFrame.currentNamespace=null}function nn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function rn(t,e,n){an(t,e,3,n)}function on(t,e,n,r){(3&t[2])===n&&an(t,e,n,r)}function sn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function an(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(un(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function un(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const cn=-1;class ln{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function hn(t,e,n){const r=fe(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];fn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function dn(t){return 3===t||4===t||6===t}function fn(t){return 64===t.charCodeAt(0)}function pn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||gn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function gn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function mn(t){return t!==cn}function vn(t){return 32767&t}function yn(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let bn=!0;function _n(t){const e=bn;return bn=t,e}let wn=0;function Sn(t,e){const n=An(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,kn(r.data,t),kn(e,null),kn(r.blueprint,null));const i=En(t,e),o=t.injectorIndex;if(mn(i)){const t=vn(i),n=yn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function kn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function An(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function En(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return cn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return cn}function Cn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vt)&&(r=n[Vt]),null==r&&(r=n[Vt]=wn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Tn(t,e,n){if(n&bt.Optional)return t;ct(e,"NodeInjector")}function xn(t,e,n,r){if(n&bt.Optional&&void 0===r&&(r=null),0==(n&(bt.Self|bt.Host))){const i=t[9],o=wt(void 0);try{return i?i.get(e,r,n&bt.Optional):St(e,r,n&bt.Optional)}finally{wt(o)}}return Tn(r,e,n)}function Pn(t,e,n,r=bt.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vt)?t[Vt]:void 0;return"number"==typeof e?e>=0?255&e:On:e}(n);if("function"==typeof o){if(!ze(e,t,r))return r&bt.Host?Tn(i,n,r):xn(e,n,r,i);try{const t=o(r);if(null!=t||r&bt.Optional)return t;ct(n)}finally{Xe()}}else if("number"==typeof o){let i=null,s=An(t,e),a=cn,u=r&bt.Host?e[16][6]:null;for((-1===s||r&bt.SkipSelf)&&(a=-1===s?En(t,e):e[s+8],a!==cn&&Mn(r,!1)?(i=e[1],s=vn(a),e=yn(a,e)):s=-1);-1!==s;){const t=e[1];if(Ln(o,s,t.data)){const t=Rn(s,e,n,i,r,u);if(t!==In)return t}a=e[s+8],a!==cn&&Mn(r,e[1].data[s+8]===u)&&Ln(o,s,e)?(i=t,s=vn(a),e=yn(a,e)):s=-1}}}return xn(e,n,r,i)}const In={};function On(){return new Fn(Ie(),Te())}function Rn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Dn(a,s,n,null==r?ee(a)&&bn:r!=s&&0!=(3&a.type),i&bt.Host&&o===a);return null!==u?Nn(e,s,u,a):In}function Dn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&re(t)&&t.type===n)return u}return null}function Nn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ln){const s=i;s.resolving&&function(t,e){throw new st("200",`Circular dependency in DI detected for ${t}`)}(ut(o[n]));const a=_n(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?wt(s.injectImpl):null;ze(t,r,bt.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ae(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&wt(u),_n(a),s.resolving=!1,Xe()}}return i}function Ln(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Mn(t,e){return!(t&bt.Self||t&bt.Host&&e)}class Fn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Pn(this._tNode,this._lView,t,void 0,e)}}function jn(t){return kt(()=>{const e=t.prototype.constructor,n=e[jt]||Vn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[jt]||Vn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Vn(t){return ot(t)?()=>{const e=Vn(it(t));return e&&e()}:ie(t)}const Un="__parameters__";function Bn(t,e,n){return kt(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Un)?t[Un]:Object.defineProperty(t,Un,{value:[]})[Un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class qn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=lt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hn=new qn("AnalyzeForEntryComponents"),zn=Function;function Wn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Wn(r,e)):e!==t&&e.push(r)}return e}function Gn(t,e){t.forEach(t=>Array.isArray(t)?Gn(t,e):e(t))}function Kn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $n(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Xn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Qn(t,e,n){let r=Jn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Yn(t,e){const n=Jn(t,e);if(n>=0)return t[1|n]}function Jn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const Zn={},tr=/\n/gm,er="__source",nr=J({provide:String,useValue:J});let rr;function ir(t){const e=rr;return rr=t,e}function or(t,e=bt.Default){if(void 0===rr)throw new Error("inject() must be called from an injection context");return null===rr?St(t,void 0,e):rr.get(t,e&bt.Optional?null:void 0,e)}function sr(t,e=bt.Default){return(_t||or)(it(t),e)}const ar=sr;function ur(t){const e=[];for(let n=0;n<t.length;n++){const r=it(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=bt.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(sr(t,n))}else e.push(sr(r))}return e}function cr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const lr=cr(Bn("Inject",t=>({token:t})),-1),hr=cr(Bn("Optional"),8),dr=cr(Bn("SkipSelf"),4);class fr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function pr(t){return t instanceof fr?t.changingThisBreaksApplicationSecurity:t}const gr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,mr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function yr(t){const e=function(){const t=Te();return t&&t[12]}();return e?e.sanitize(vr.URL,t)||"":function(t,e){const n=function(t){return t instanceof fr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?pr(t):(n=at(t),(n=String(n)).match(gr)||n.match(mr)?n:"unsafe:"+n);var n}function br(t,e){t.__ngContext__=e}function _r(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function wr(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class kr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t&&t.ngErrorLogger||Sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(wr(t)):null}_findOriginalError(t){let e=t&&wr(t);for(;e&&wr(e);)e=wr(e);return e||null}}const Ar=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function Er(t){return t instanceof Function?t():t}var Cr=(()=>((Cr=Cr||{})[Cr.Important=1]="Important",Cr[Cr.DashCase=2]="DashCase",Cr))();function Tr(t,e){return(void 0)(t,e)}function xr(t){const e=t[3];return Zt(e)?e[3]:e}function Pr(t){return Or(t[13])}function Ir(t){return Or(t[4])}function Or(t){for(;null!==t&&!Zt(t);)t=t[4];return t}function Rr(t,e,n,r,i){if(null!=r){let o,s=!1;Zt(r)?o=r:Jt(r)&&(s=!0,r=r[0]);const a=ge(r);0===t&&null!==n?null==i?Ur(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){fe(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ge(n)&&Rr(e,t,r,o,i);for(let s=Yt;s<n.length;s++){const i=n[s];Qr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Dr(t,e,n){return fe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ae(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=Yt)return;const n=Yt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Nr(o,r),e>0&&(t[n-1][4]=r[4]);const s=$n(t,Yt+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];fe(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Fr(t[1],t);for(;e;){let n=null;if(Jt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Jt(e)&&Fr(e[1],e),e=e[3];null===e&&(e=t),Jt(e)&&Fr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Fr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ln)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ge(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&fe(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Zt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function jr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Et.None||e===Et.Emulated)return null}return ve(r,n)}(t,e.parent,n)}function Vr(t,e,n,r,i){fe(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Ur(t,e,n){fe(t)?t.appendChild(e,n):e.appendChild(n)}function Br(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):Ur(t,e,n)}function qr(t,e){return fe(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n){return zr(t,e,n)}let zr=function(t,e,n){return 40&t.type?ve(t,n):null};function Wr(t,e,n,r){const i=jr(t,r,e),o=e[11],s=Hr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Br(o,i,n[a],s,!1);else Br(o,i,n,s,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return ve(e,t);if(4&n)return $r(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return Zt(n)?$r(-1,n):ge(n)}}if(32&n)return Tr(e,t)()||ge(t[e.index]);{const n=Kr(t,e);return null!==n?Array.isArray(n)?n[0]:Gr(xr(t[16]),n):Gr(t,e.next)}}return null}function Kr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function $r(t,e){const n=Yt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Xr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&br(ge(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xr(t,e,n.child,r,i,o,!1),Rr(e,t,i,a,o);else if(32&u){const s=Tr(n,r);let u;for(;u=s();)Rr(e,t,i,u,o);Rr(e,t,i,a,o)}else 16&u?Yr(t,e,r,n,i,o):Rr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qr(t,e,n,r,i,o){Xr(n,r,t.firstChild,e,i,o,!1)}function Yr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Rr(e,t,i,a[u],o);else Xr(t,e,a,s[3],i,o,!0)}function Jr(t,e,n){fe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){fe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(dn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(u))return!1;if(s&&si(u))continue;s=!1,r=u|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){return t?":not("+e.trim()+")":e}function li(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=ci(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=ci(o,i)),e}const hi={};function di(t){fi(xe(),Te(),Ye()+t,Le())}function fi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&rn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&on(e,r,0,n)}Je(n)}function pi(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function mi(t){return 2|t}function vi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function _i(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];qe(i),n.contentQueries(2,e[o],o)}}}function wi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ke(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Si(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Oe(),s=De(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ee.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Re(o,!0),o}function ki(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ai(t,e,n){We(e);try{const r=t.viewQuery;null!==r&&Zi(1,r,n);const i=t.template;null!==i&&Ti(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&Zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)$i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Qe()}}function Ei(t,e,n,r){const i=e[2];if(256==(256&i))return;We(e);const o=Le();try{ke(e),Ee.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ti(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&rn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&on(e,n,0,null),sn(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Ir(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ae(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Ir(e))for(let t=Yt;t<e.length;t++){const n=e[t],r=n[1];we(n)&&Ei(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&_i(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&rn(e,n)}else{const n=t.contentHooks;null!==n&&on(e,n,1),sn(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)Je(~r);else{const i=r,o=n[++t],s=n[++t];je(o,i),s(2,e[i])}}}finally{Je(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Zi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&rn(e,n)}else{const n=t.viewHooks;null!==n&&on(e,n,2),sn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ae(e[3],-1))}finally{Qe()}}function Ci(t,e,n,r){const i=e[10],o=!Le(),s=_e(e);try{o&&!s&&i.begin&&i.begin(),s&&Ai(t,e,r),Ei(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Ti(t,e,n,r,i){const o=Ye(),s=2&r;try{Je(-1),s&&e.length>Qt&&fi(t,e,Qt,Le()),n(r,i)}finally{Je(o)}}function xi(t,e,n){Ce()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Sn(n,e),br(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=re(r);o&&qi(e,n,r);const u=Nn(e,t,a,n);br(u,e),null!==s&&Hi(0,a-i,u,r,0,s),o&&(be(n.index,e)[8]=u)}}(t,e,n,ve(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ee.lFrame.currentDirectiveIndex;try{Je(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Ve(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{Je(-1),Ve(s)}}(t,e,n))}function Pi(t,e,n=ve){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ii(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,o,s,a,u,c){const l=Qt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:hi);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Ri(t,e,n,r){const i=eo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&no(t).push(r,i.length-1))}function Di(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ni(t,e,n,r,i,o,s,a){const u=ve(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(oo(t,n,c,r,i),ee(e)&&function(t,e){const n=be(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,fe(o)?o.setProperty(u,r,i):fn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Li(t,e,n,r){let i=!1;if(Ce()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),Cn(Sn(n,e),t,s.type),re(s)?(ji(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ui(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=ki(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=pn(n.mergedAttrs,c.hostAttrs),Bi(t,n,e,u,c),Vi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:zi(n,i);o.push(c),s=Di(n,u,s),a=Di(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new st("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=pn(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;re(e)&&(n[""]=t)}}function Ui(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ie(i.type)),s=new ln(o,re(i),null);t.blueprint[r]=s,n[r]=s,Mi(t,e,0,r,ki(t,n,i.hostVars,hi),i)}function qi(t,e,n){const r=ve(e,t),i=Ii(n),o=t[10],s=Xi(t,wi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Hi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function zi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=be(e,t);if(we(n)){const t=n[1];80&n[2]?Ei(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Pr(t);null!==n;n=Ir(n))for(let t=Yt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ei(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=be(e[n],t);we(r)&&r[5]>0&&Ki(r)}}function $i(t,e){const n=be(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Ai(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Yi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ei(t,e,t.template,n)}catch(i){throw io(e,i),i}finally{r.end&&r.end()}}function Ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=_r(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function Zi(t,e,n){qe(0),e(t,n)}const to=(()=>Promise.resolve(null))();function eo(t){return t[7]||(t[7]=[])}function no(t){return t.cleanup||(t.cleanup=[])}function ro(t,e,n){return(null===t||re(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function io(t,e){const n=t[9],r=n?n.get(kr,null):null;r&&r.handleError(e)}function oo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function so(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=et(i,t):2==o&&(r=et(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ao=new qn("INJECTOR",-1);class uo{get(t,e=Zn){if(e===Zn){const e=new Error(`NullInjectorError: No provider for ${tt(t)}!`);throw e.name="NullInjectorError",e}return e}}const co=new qn("Set Injector scope."),lo={},ho={};let fo;function po(){return void 0===fo&&(fo=new uo),fo}function go(t,e=null,n=null,r){return new mo(t,n,e||po(),r)}class mo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Gn(e,n=>this.processProvider(n,t,e)),Gn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ao,bo(void 0,this));const o=this.records.get(co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:tt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Zn,n=bt.Default){this.assertNotDestroyed();const r=ir(this),i=wt(void 0);try{if(!(n&bt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof qn)&&dt(t);e=n&&this.injectableDefInScope(n)?bo(vo(t),lo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&bt.Self?po():this.parent).get(t,e=n&bt.Optional&&e===Zn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(tt(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[er]&&i.unshift(e[er]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):tt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(tr,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{wt(i),ir(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(tt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=it(t)))return!1;let r=pt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=pt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Gn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Gn(r,t=>this.processProvider(t,n,r||Rt))}}this.injectorDefTypes.add(o);const a=ie(o)||(()=>new o);this.records.set(o,bo(a,lo));const u=r.providers;if(null!=u&&!s){const e=t;Gn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=wo(t=it(t))?t:it(t&&t.provide);const i=function(t,e,n){return _o(t)?bo(void 0,t.useValue):bo(yo(t),lo)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=bo(void 0,lo,!0),e.factory=()=>ur(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===lo&&(e.value=ho,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=it(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function vo(t){const e=dt(t),n=null!==e?e.factory:ie(t);if(null!==n)return n;if(t instanceof qn)throw new Error(`Token ${tt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=Xn(e,"?");throw new Error(`Can't resolve all parameters for ${tt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[gt]||t[vt]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function yo(t,e,n){let r;if(wo(t)){const e=it(t);return ie(e)||vo(e)}if(_o(t))r=()=>it(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ur(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>sr(it(t.useExisting));else{const e=it(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ie(e)||vo(e);r=()=>new e(...ur(t.deps))}var i;return r}function bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&nr in t}function wo(t){return"function"==typeof t}const So=function(t,e,n){return function(t,e=null,n=null,r){const i=go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class ko{static create(t,e){return Array.isArray(t)?So(t,e,""):So(t.providers,t.parent,t.name||"")}}function Ao(t,e){nn(_r(t)[1],Ie())}function Eo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(re(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Co(t.inputs),e.declaredInputs=Co(t.declaredInputs),e.outputs=Co(t.outputs);const n=i.hostBindings;n&&Po(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&To(t,o),s&&xo(t,s),Z(t.inputs,i.inputs),Z(t.declaredInputs,i.declaredInputs),Z(t.outputs,i.outputs),re(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Eo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=pn(i.hostAttrs,n=pn(n,i.hostAttrs))}}(r)}function Co(t){return t===Ot?{}:t===Rt?[]:t}function To(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function xo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Po(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}ko.THROW_IF_NOT_FOUND=Zn,ko.NULL=new uo,ko.\u0275prov=lt({token:ko,providedIn:"any",factory:()=>sr(ao)}),ko.__NG_ELEMENT_ID__=-1;let Io=null;function Oo(){if(!Io){const t=It.Symbol;if(t&&t.iterator)Io=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Io=n)}}}return Io}function Ro(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Oo()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lo(t,e,n,r){const i=Te();return No(i,Fe(),e)&&(xe(),function(t,e,n,r,i,o){const s=ve(t,e);!function(t,e,n,r,i,o,s){if(null==o)fe(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?at(o):s(o,r||"",i);fe(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(Ze(),i,t,e,n,r)),Lo}function Mo(t,e,n,r,i,o,s,a){const u=Te(),c=xe(),l=t+Qt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Si(e,t,4,s||null,Se(c,a));Li(e,n,l,Se(c,u)),nn(e,l);const h=l.tViews=Oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Re(h,!1);const d=u[11].createComment("");Wr(c,u,d,h),br(d,u),Xi(u,u[l]=Wi(d,u,d,h)),ne(h)&&xi(c,u,h),null!=s&&Pi(u,h,a)}function Fo(t){return function(t,e){return t[e]}(Ee.lFrame.contextLView,Qt+t)}function jo(t,e=bt.Default){const n=Te();return null===n?sr(t,e):Pn(Ie(),n,it(t),e)}function Vo(t,e,n){const r=Te();return No(r,Fe(),e)&&Ni(xe(),Ze(),r,t,e,r[11],n,!1),Vo}function Uo(t,e,n,r,i){const o=i?"class":"style";oo(t,n,e.inputs[o],o,r)}function Bo(t,e,n,r){const i=Te(),o=xe(),s=Qt+t,a=i[11],u=i[s]=Dr(a,e,Ee.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Si(e,t,2,i,Se(a,o));return Li(e,n,u,Se(a,s)),null!==u.attrs&&so(u,u.attrs,!1),null!==u.mergedAttrs&&so(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Re(c,!0);const l=c.mergedAttrs;null!==l&&hn(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const d=c.styles;null!==d&&Jr(a,u,d),64!=(64&c.flags)&&Wr(o,i,u,c),0===Ee.lFrame.elementDepthCount&&br(u,i),Ee.lFrame.elementDepthCount++,ne(c)&&(xi(o,i,c),function(t,e,n){if(te(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Pi(i,c)}function qo(){let t=Ie();De()?Ne():(t=t.parent,Re(t,!1));const e=t;Ee.lFrame.elementDepthCount--;const n=xe();n.firstCreatePass&&(nn(n,t),te(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,Te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,Te(),e.stylesWithoutHost,!1)}function Ho(t,e,n,r){Bo(t,e,n,r),qo()}function zo(){return Te()}function Wo(t){return!!t&&"function"==typeof t.then}const Go=function(t){return!!t&&"function"==typeof t.subscribe};function Ko(t,e,n,r){const i=Te(),o=xe(),s=Ie();return Xo(o,i,i[11],s,t,e,!!n,r),Ko}function $o(t,e){const n=Ie(),r=Te(),i=xe();return Xo(i,r,ro(Ue(i.data),n,r),n,t,e,!1),$o}function Xo(t,e,n,r,i,o,s,a){const u=ne(r),c=t.firstCreatePass&&no(t),l=eo(e);let h=!0;if(3&r.type||a){const d=ve(r,e),f=a?a(d):d,p=l.length,g=a?t=>a(ge(t[r.index])):r.index;if(fe(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Yo(r,e,0,o,!1);const t=n.listen(f,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=Yo(r,e,0,o,!0),f.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=Yo(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}function Qo(t,e,n,r){try{return!1!==n(r)}catch(i){return io(t,i),!1}}function Yo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?be(t.index,e):e;0==(32&e[2])&&Qi(s);let a=Qo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Qo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Jo(t=1){return function(t){return(Ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ee.lFrame.contextLView))[8]}(t)}function Zo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?gi(o):vi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ts(t[a],e)&&(u=!0,t[a+1]=r?bi(n):mi(n)),a=r?gi(n):vi(n)}u&&(t[n+1]=r?mi(o):bi(o))}function ts(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Jn(t,e)>=0}function es(t,e){return function(t,e,n,r){const i=Te(),o=xe(),s=function(t){const e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[Ye()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=Ue(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=rs(n=ns(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ns(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==vi(r))return t[gi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=ns(null,t,e,n[1],r),n=rs(n,e.attrs,r),function(t,e,n,r){t[gi(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=rs(r,t[o].hostAttrs,true);return rs(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=gi(s),u=vi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Jn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=gi(t[a+1]);t[r+1]=pi(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=pi(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=pi(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),Zo(t,c,r,!0),Zo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&Jn(o,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r),s=pi(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==hi&&No(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];os(1==(1&c)?is(u,e,n,i,vi(c),s):void 0)||(os(o)||function(t){return 2==(2&t)}(c)&&(o=is(u,null,n,i,a,s)),function(t,e,n,r,i){const o=fe(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,me(Ye(),n),i,o))}(o,o.data[Ye()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=tt(pr(t))),t}(e),true,s)}(t,e),es}function ns(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=rs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function rs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Qn(t,s,!!n||e[++o]))}return void 0===t?null:t}function is(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===hi&&(l=c?Rt:void 0);let h=c?Yn(l,r):u===r?l:void 0;if(o&&!os(h)&&(h=Yn(e,r)),os(h)&&(a=h,s))return a;const d=t[i+1];i=s?gi(d):vi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Yn(t,r))}return a}function os(t){return void 0!==t}function ss(t,e=""){const n=Te(),r=xe(),i=t+Qt,o=r.firstCreatePass?Si(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return fe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Wr(r,n,s,o),Re(o,!1)}function as(t){return us("",t,""),as}function us(t,e,n){const r=Te(),i=function(t,e,n,r){return No(t,Fe(),n)?e+at(n)+r:hi}(r,t,e,n);return i!==hi&&function(t,e,n){const r=me(e,t);!function(t,e,n){fe(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Ye(),i),us}function cs(t,e,n){const r=Te();return No(r,Fe(),e)&&Ni(xe(),Ze(),r,t,e,r[11],n,!0),cs}function ls(t,e,n){const r=Te();if(No(r,Fe(),e)){const i=xe(),o=Ze();Ni(i,o,r,t,e,ro(Ue(i.data),o,r),n,!0)}return ls}const hs=void 0;var ds=["en",[["a","p"],["AM","PM"],hs],[["AM","PM"],hs,hs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hs,"{1} 'at' {0}",hs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let fs={};function ps(t){return t in fs||(fs[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),fs[t]}var gs=(()=>((gs=gs||{})[gs.LocaleId=0]="LocaleId",gs[gs.DayPeriodsFormat=1]="DayPeriodsFormat",gs[gs.DayPeriodsStandalone=2]="DayPeriodsStandalone",gs[gs.DaysFormat=3]="DaysFormat",gs[gs.DaysStandalone=4]="DaysStandalone",gs[gs.MonthsFormat=5]="MonthsFormat",gs[gs.MonthsStandalone=6]="MonthsStandalone",gs[gs.Eras=7]="Eras",gs[gs.FirstDayOfWeek=8]="FirstDayOfWeek",gs[gs.WeekendRange=9]="WeekendRange",gs[gs.DateFormat=10]="DateFormat",gs[gs.TimeFormat=11]="TimeFormat",gs[gs.DateTimeFormat=12]="DateTimeFormat",gs[gs.NumberSymbols=13]="NumberSymbols",gs[gs.NumberFormats=14]="NumberFormats",gs[gs.CurrencyCode=15]="CurrencyCode",gs[gs.CurrencySymbol=16]="CurrencySymbol",gs[gs.CurrencyName=17]="CurrencyName",gs[gs.Currencies=18]="Currencies",gs[gs.Directionality=19]="Directionality",gs[gs.PluralCase=20]="PluralCase",gs[gs.ExtraData=21]="ExtraData",gs))();const ms="en-US";let vs=ms;function ys(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(vs=t.toLowerCase().replace(/_/g,"-"))}function bs(t,e,n,r,i){if(t=it(t),Array.isArray(t))for(let o=0;o<t.length;o++)bs(t[o],e,n,r,i);else{const o=xe(),s=Te();let a=wo(t)?t:it(t.provide),u=yo(t);const c=Ie(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(wo(t)||!t.multi){const r=new ln(u,i,jo),f=Ss(a,e,i?l:l+d,h);-1===f?(Cn(Sn(c,s),o,a),_s(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Ss(a,e,l+d,h),p=Ss(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Cn(Sn(c,s),o,a);const l=function(t,e,n,r,i){const o=new ln(t,n,jo);return o.multi=[],o.index=e,o.componentProviders=0,ws(o,i,r&&!n),o}(i?As:ks,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),_s(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else _s(o,t,f>-1?f:p,ws(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function _s(t,e,n,r){const i=wo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function ws(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ss(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ks(t,e,n,r){return Es(this.multi,[])}function As(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Nn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Es(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Es(i,o);return o}function Es(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Cs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=xe();if(r.firstCreatePass){const i=re(t);bs(n,r.data,r.blueprint,i,!0),bs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ts{}class xs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${tt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Ps{}function Is(...t){}function Os(t,e){return new Ds(ve(t,e))}Ps.NULL=new xs;const Rs=function(){return Os(Ie(),Te())};let Ds=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Rs,t})();function Ns(t){return t instanceof Ds?t.nativeElement:t}class Ls{}let Ms=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Fs(),t})();const Fs=function(){const t=Te(),e=be(Ie().index,t);return function(t){return t[11]}(Jt(e)?e:t)};let js=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>null}),t})();class Vs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Us=new Vs("12.1.5");class Bs{constructor(){}supports(t){return Ro(t)}create(t){return new Hs(t)}}const qs=(t,e)=>e;class Hs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||qs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ks(n,r,i)?e:n,s=Ks(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ro(t))throw new Error(`Error trying to diff '${tt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Oo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new zs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ws{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Gs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Ws,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ks(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class $s{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new Xs}}class Xs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${tt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Qs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Qs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ys(){return new Js([new Bs])}let Js=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ys()),deps:[[t,new dr,new hr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:Ys}),t})();function Zs(){return new ta([new $s])}let ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Zs()),deps:[[t,new dr,new hr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=lt({token:t,providedIn:"root",factory:Zs}),t})();function ea(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ge(o)),Zt(o))for(let t=Yt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ea(e[1],e,n,r)}const s=n.type;if(8&s)ea(t,e,n.child,r);else if(32&s){const t=Tr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Kr(e,n);if(Array.isArray(t))r.push(...t);else{const n=xr(e[16]);ea(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class na{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ea(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Zt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Lr(t,n),$n(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){Ri(this._lView[1],this._lView,null,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Me(!0);try{Yi(t,e,n)}finally{Me(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ra extends na{constructor(t){super(t),this._view=t}detectChanges(){Ji(this._view)}checkNoChanges(){!function(t){Me(!0);try{Ji(t)}finally{Me(!1)}}(this._view)}get context(){return null}}const ia=function(t){return function(t,e,n){if(ee(t)&&!n){const n=be(t.index,e);return new na(n,n)}return 47&t.type?new na(e[16],e):null}(Ie(),Te(),16==(16&t))};let oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=ia,t})();const sa=[new $s],aa=new Js([new Bs]),ua=new ta(sa),ca=function(){return fa(Ie(),Te())};let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=ca,t})();const ha=la,da=class extends ha{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ai(e,n,t),new na(n)}};function fa(t,e){return 4&t.type?new da(e,t,Os(t,e)):null}class pa{}class ga{}const ma=function(){return Sa(Ie(),Te())};let va=(()=>{class t{}return t.__NG_ELEMENT_ID__=ma,t})();const ya=va,ba=class extends ya{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new Fn(this._hostTNode,this._hostLView)}get parentInjector(){const t=En(this._hostTNode,this._hostLView);if(mn(t)){const e=yn(t,this._hostLView),n=vn(t);return new Fn(e[1].data[n+8],e)}return new Fn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_a(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(Zt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new ba(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Yt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Yt?(e[4]=n[i],Kn(n,Yt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=$r(i,o),a=n[11],u=qr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Qr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Kn(wa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_a(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&($n(wa(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=$n(wa(this._lContainer),e)?new na(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function _a(t){return t[8]}function wa(t){return t[8]||(t[8]=[])}function Sa(t,e){let n;const r=e[t.index];if(Zt(r))n=r;else{let i;if(8&t.type)i=ge(r);else{const n=e[11];i=n.createComment("");const r=ve(t,e);Vr(n,qr(n,r),i,function(t,e){return fe(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Wi(r,e,i,t),Xi(e,n)}return new ba(n,t,e)}const ka={};class Aa extends Ps{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=$t(t);return new Ta(e,this.ngModule)}}function Ea(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ca=new qn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ar});class Ta extends Ts{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(li).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ea(this.componentDef.inputs)}get outputs(){return Ea(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,ka,i);return o!==ka||r===ka?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ls,pe),s=i.get(js,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(fe(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Dr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?he:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ar,clean:to,playerHandler:null,flags:0},d=Oi(0,null,null,1,0,null,null,null,null,null),f=wi(null,d,h,l,null,null,o,a,s,i);let p,g;We(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Si(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(so(a,u,!0),null!==t&&(hn(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const c=r.createRenderer(t,e),l=wi(n,Ii(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Cn(Sn(a,n),s,e.type),ji(s,a),Ui(a,n.length,1)),Xi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)hn(a,c,["ng-version",Us.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&hn(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=ye(d,Qt),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Ie();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Bi(t,r,e,ki(t,e,1,null),n));const i=Nn(e,t,r.directiveStart,r);br(i,e);const o=ve(r,e);return o&&br(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Ie();e.contentQueries(1,s,t.directiveStart)}const a=Ie();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Je(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,s)),s}(t,this.componentDef,f,h,[Ao]),Ai(d,f,null)}finally{Qe()}return new xa(this.componentType,p,Os(g,f),f,g)}}class xa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ra(r),this.componentType=t}get injector(){return new Fn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Pa=new Map;class Ia extends pa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Aa(this);const n=Xt(t),r=t[Ft]||null;r&&ys(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=go(t,e,[{provide:pa,useValue:this},{provide:Ps,useValue:this.componentFactoryResolver}],tt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=ko.THROW_IF_NOT_FOUND,n=bt.Default){return t===ko||t===pa||t===ao?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Oa extends ga{constructor(t){super(),this.moduleType=t,null!==Xt(t)&&function(t){const e=new Set;!function t(n){const r=Xt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${tt(e)} vs ${tt(e.name)}`)}(i,Pa.get(i),n),Pa.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ia(this.moduleType,t)}}function Ra(t,e,n){const r=function(){const t=Ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=Te();return i[r]===hi?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Da(t){return e=>{setTimeout(t,void 0,e)}}const Na=class extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Da(a),s&&(s=Da(s)),u&&(u=Da(u)));const c=super.subscribe({next:s,error:a,complete:u});return t instanceof h&&t.add(c),c}};function La(){return this._results[Oo()]()}class Ma{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Oo(),n=Ma.prototype;n[e]||(n[e]=La)}get changes(){return this._changes||(this._changes=new Na)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=Wn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Fa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Fa(this.queryList)}setDirty(){this.queryList.setDirty()}}class ja{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ja(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Xa(t,e).matches&&this.queries[e].setDirty()}}class Va{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ua{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ua(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ba{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ba(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,qa(e,i)),this.matchTNodeWithReadOption(t,e,Dn(e,t,i,!1,!1))}else n===la?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Dn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ds||r===va||r===la&&4&e.type)this.addMatch(e.index,-2);else{const n=Dn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function qa(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ha(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Os(t,e):4&t.type?fa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ds?Os(e,t):n===la?fa(e,t):n===va?Sa(e,t):void 0}(t,e,r):Nn(t,t[1],n,e)}function za(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ha(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Wa(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=za(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=Yt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Wa(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Wa(n[1],n,i,r)}}}}}return r}function Ga(t){const e=Te(),n=xe(),r=Be();qe(r+1);const i=Xa(n,r);if(t.dirty&&_e(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Wa(n,e,r,[]):za(n,e,i,r);t.reset(o,Ns),t.notifyOnChanges()}return!0}return!1}function Ka(t,e,n){const r=xe();r.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ua),t.queries.track(new Ba(e,-1))}(r,new Va(t,e,n)),2==(2&e)&&(r.staticViewQueries=!0)),function(t,e,n){const r=new Ma(4==(4&n));Ri(t,e,r,r.destroy),null===e[19]&&(e[19]=new ja),e[19].queries.push(new Fa(r))}(r,Te(),e)}function $a(){return t=Te(),e=Be(),t[19].queries[e].queryList;var t,e}function Xa(t,e){return t.queries.getByIndex(e)}const Qa=new qn("Application Initializer");let Ya=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Is,this.reject=Is,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Wo(e))t.push(e);else if(Go(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(sr(Qa,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Ja=new qn("AppId"),Za={provide:Ja,useFactory:function(){return`${tu()}${tu()}${tu()}`},deps:[]};function tu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eu=new qn("Platform Initializer"),nu=new qn("Platform ID"),ru=new qn("appBootstrapListener");let iu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const ou=new qn("LocaleId"),su=new qn("DefaultCurrencyCode");class au{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const uu=function(t){return new Oa(t)},cu=uu,lu=function(t){return Promise.resolve(uu(t))},hu=function(t){const e=uu(t),n=Er(Xt(t).declarations).reduce((t,e)=>{const n=$t(e);return n&&t.push(new Ta(n)),t},[]);return new au(e,n)},du=hu,fu=function(t){return Promise.resolve(hu(t))};let pu=(()=>{class t{constructor(){this.compileModuleSync=cu,this.compileModuleAsync=lu,this.compileModuleAndAllComponentsSync=du,this.compileModuleAndAllComponentsAsync=fu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const gu=(()=>Promise.resolve(0))();function mu(t){"undefined"==typeof Zone?gu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class vu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Na(!1),this.onMicrotaskEmpty=new Na(!1),this.onStable=new Na(!1),this.onError=new Na(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_u(t),t.isCheckStableRunning=!0,bu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_u(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return wu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Su(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return wu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Su(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,_u(t),bu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!vu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(vu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,yu,Is,Is);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const yu={};function bu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _u(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function wu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Su(t){t._nesting--,bu(t)}class ku{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Na,this.onMicrotaskEmpty=new Na,this.onStable=new Na,this.onError=new Na}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Au=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{vu.assertNotInAngularZone(),mu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(sr(vu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Eu=(()=>{class t{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Cu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Tu,xu=new Cu,Pu=!0,Iu=!1;function Ou(){return Iu=!0,Pu}const Ru=new qn("AllowMultipleToken");class Du{constructor(t,e){this.name=t,this.token=e}}function Nu(t,e,n=[]){const r=`Platform: ${e}`,i=new qn(r);return(e=[])=>{let o=Lu();if(!o||o.injector.get(Ru,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(t){if(Tu&&!Tu.destroyed&&!Tu.injector.get(Ru,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tu=t.get(Mu);const e=t.get(eu,null);e&&e.forEach(t=>t())}(ko.create({providers:t,name:r}))}return function(t){const e=Lu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Lu(){return Tu&&!Tu.destroyed?Tu:null}let Mu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ku:("zone.js"===t?void 0:t)||new vu({enableLongStackTrace:Ou(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:vu,useValue:n}];return n.run(()=>{const e=ko.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(kr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Vu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Wo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ya);return t.runInitializers(),t.donePromise.then(()=>(ys(i.injector.get(ou,ms)||ms),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Fu({},e);return function(t,e,n){const r=new Oa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ju);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${tt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(sr(ko))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Fu(t,e){return Array.isArray(e)?e.reduce(Fu,t):Object.assign(Object.assign({},t),e)}let ju=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{vu.assertNotInAngularZone(),mu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{vu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=z(o,s.pipe(t=>{return W()((e=Y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,X);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ts?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pa),i=n.create(ko.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Au,null),a=s&&i.injector.get(Eu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Vu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Vu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ru,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(sr(vu),sr(ko),sr(kr),sr(Ps),sr(Ya))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Vu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uu{}class Bu{}const qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Hu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||qu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(255)(e).then(t=>t[r]).then(t=>zu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>zu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(sr(pu),sr(Bu,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function zu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Wu=Nu(null,"core",[{provide:nu,useValue:"unknown"},{provide:Mu,deps:[ko]},{provide:Eu,deps:[]},{provide:iu,deps:[]}]),Gu=[{provide:ju,useClass:ju,deps:[vu,ko,kr,Ps,Ya]},{provide:Ca,deps:[vu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ya,useClass:Ya,deps:[[new hr,Qa]]},{provide:pu,useClass:pu,deps:[]},Za,{provide:Js,useFactory:function(){return aa},deps:[]},{provide:ta,useFactory:function(){return ua},deps:[]},{provide:ou,useFactory:function(t){return ys(t=t||"undefined"!=typeof $localize&&$localize.locale||ms),t},deps:[[new lr(ou),new hr,new dr]]},{provide:su,useValue:"USD"}];let Ku=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(sr(ju))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:Gu}),t})(),$u=null;function Xu(){return $u}const Qu=new qn("DocumentToken");let Yu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:Ju,token:t,providedIn:"platform"}),t})();function Ju(){return sr(tc)}const Zu=new qn("Location Initialized");let tc=(()=>{class t extends Yu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xu().getBaseHref(this._doc)}onPopState(t){const e=Xu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=Xu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){ec()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){ec()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu))},t.\u0275prov=lt({factory:nc,token:t,providedIn:"platform"}),t})();function ec(){return!!window.history.pushState}function nc(){return new tc(sr(Qu))}function rc(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ic(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function oc(t){return t&&"?"!==t[0]?"?"+t:t}let sc=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:ac,token:t,providedIn:"root"}),t})();function ac(t){const e=sr(Qu).location;return new cc(sr(Yu),e&&e.origin||"")}const uc=new qn("appBaseHref");let cc=(()=>{class t extends sc{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rc(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+oc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+oc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+oc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(sr(Yu),sr(uc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),lc=(()=>{class t extends sc{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=rc(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+oc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+oc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(sr(Yu),sr(uc,8))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),hc=(()=>{class t{constructor(t,e){this._subject=new Na,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=ic(fc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+oc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,fc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(sr(sc),sr(Yu))},t.normalizeQueryParams=oc,t.joinWithSlash=rc,t.stripTrailingSlash=ic,t.\u0275prov=lt({factory:dc,token:t,providedIn:"root"}),t})();function dc(){return new hc(sr(sc),sr(Yu))}function fc(t){return t.replace(/\/index.html$/,"")}var pc=(()=>((pc=pc||{})[pc.Zero=0]="Zero",pc[pc.One=1]="One",pc[pc.Two=2]="Two",pc[pc.Few=3]="Few",pc[pc.Many=4]="Many",pc[pc.Other=5]="Other",pc))();class gc{}let mc=(()=>{class t extends gc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ps(e);if(n)return n;const r=e.split("-")[0];if(n=ps(r),n)return n;if("en"===r)return ds;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[gs.PluralCase]}(e||this.locale)(t)){case pc.Zero:return"zero";case pc.One:return"one";case pc.Two:return"two";case pc.Few:return"few";case pc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(sr(ou))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),vc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new yc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){bc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){bc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(jo(va),jo(la))},t.\u0275dir=Kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class yc{constructor(){this.$implicit=null,this.ngIf=null}}function bc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${tt(e)}'.`)}let _c=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(jo(Ds),jo(ta),jo(Ms))},t.\u0275dir=Kt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),wc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[{provide:gc,useClass:mc}]}),t})(),Sc=(()=>{class t{}return t.\u0275prov=lt({token:t,providedIn:"root",factory:()=>new kc(sr(Qu),window)}),t})();class kc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Ac(this.window.history)||Ac(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Ac(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ec extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Ec,$u||($u=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(Tc=Tc||document.querySelector("base"),Tc?Tc.getAttribute("href"):null);return null==e?null:function(t){Cc=Cc||document.createElement("a"),Cc.setAttribute("href",t);const e=Cc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){Tc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Cc,Tc=null;const xc=new qn("TRANSITION_ID"),Pc=[{provide:Qa,useFactory:function(t,e,n){return()=>{n.get(Ya).donePromise.then(()=>{const n=Xu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[xc,Qu,ko],multi:!0}];class Ic{static init(){var t;t=new Ic,xu=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Xu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Oc=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Rc=new qn("EventManagerPlugins");let Dc=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(sr(Rc),sr(vu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Nc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Xu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Lc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Mc=(()=>{class t extends Lc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Fc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fc))}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Fc(t){Xu().remove(t)}const jc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vc=/%COMP%/g;function Uc(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Uc(t,i,n):(i=i.replace(Vc,t),n.push(i))}return n}function Bc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let qc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Hc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Et.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new zc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Et.ShadowDom:return new Wc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Uc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(sr(Dc),sr(Mc),sr(Ja))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Hc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(jc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=jc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=jc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Cr.DashCase|Cr.Important)?t.style.setProperty(e,n,r&Cr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Cr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Bc(n)):this.eventManager.addEventListener(t,e,Bc(n))}}class zc extends Hc{constructor(t,e,n,r){super(t),this.component=n;const i=Uc(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Vc,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Vc,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Wc extends Hc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Uc(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Gc=(()=>{class t extends Nc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Kc=["alt","control","meta","shift"],$c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Yc=(()=>{class t extends Nc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Kc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Xc.hasOwnProperty(e)&&(e=Xc[e]))}return $c[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Kc.forEach(r=>{r!=n&&(0,Qc[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Jc=Nu(Wu,"browser",[{provide:nu,useValue:"browser"},{provide:eu,useValue:function(){Ec.makeCurrent(),Ic.init()},multi:!0},{provide:Qu,useFactory:function(){return function(t){de=t}(document),document},deps:[]}]),Zc=[[],{provide:co,useValue:"root"},{provide:kr,useFactory:function(){return new kr},deps:[]},{provide:Rc,useClass:Gc,multi:!0,deps:[Qu,vu,nu]},{provide:Rc,useClass:Yc,multi:!0,deps:[Qu]},[],{provide:qc,useClass:qc,deps:[Dc,Mc,Ja]},{provide:Ls,useExisting:qc},{provide:Lc,useExisting:Mc},{provide:Mc,useClass:Mc,deps:[Qu]},{provide:Au,useClass:Au,deps:[vu]},{provide:Dc,useClass:Dc,deps:[Rc,vu]},{provide:class{},useClass:Oc,deps:[]},[]];let tl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ja,useValue:e.appId},{provide:xc,useExisting:Ja},Pc]}}}return t.\u0275fac=function(e){return new(e||t)(sr(t,12))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:Zc,imports:[wc,Ku]}),t})();function el(...t){let e=t[t.length-1];return E(e)?(t.pop(),N(t,e)):H(t)}"undefined"!=typeof window&&window;class nl extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}class rl extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class il extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ol(t,e,n,r,i=new il(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):D(e)(i)}const sl={};function al(...t){let e,n;return E(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),H(t,n).lift(new ul(e))}class ul{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new cl(t,this.resultSelector))}}class cl extends rl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(sl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ol(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===sl?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const ll=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function hl(...t){return q(1)(el(...t))}const dl=new y(t=>t.complete());function fl(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):dl}function pl(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?L(n):fl()).subscribe(e)})}function gl(t,e){return"function"==typeof e?n=>n.pipe(gl((n,r)=>L(t(n,r)).pipe(C((t,i)=>e(n,t,r,i))))):e=>e.lift(new ml(t))}class ml{constructor(t){this.project=t}call(t,e){return e.subscribe(new vl(t,this.project))}}class vl extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new M(this),r=this.destination;r.add(n),this.innerSubscription=j(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const yl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function bl(t){return e=>0===t?fl():e.lift(new _l(t))}class _l{constructor(t){if(this.total=t,this.total<0)throw new yl}call(t,e){return e.subscribe(new wl(t,this.total))}}class wl extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Sl(...t){const e=t[t.length-1];return E(e)?(t.pop(),n=>hl(t,n,e)):e=>hl(t,e)}function kl(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Al(t,e,n))}}class Al{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new El(t,this.accumulator,this.seed,this.hasSeed))}}class El extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Cl(t,e){return function(n){return n.lift(new Tl(t,e))}}class Tl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xl(t,this.predicate,this.thisArg))}}class xl extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Pl(t){return function(e){const n=new Il(t),r=e.lift(n);return n.caught=r}}class Il{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ol(t,this.selector,this.caught))}}class Ol extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new M(this);this.add(r);const i=j(n,r);i!==r&&this.add(i)}}}function Rl(t,e){return V(t,e,1)}function Dl(t){return function(e){return 0===t?fl():e.lift(new Nl(t))}}class Nl{constructor(t){if(this.total=t,this.total<0)throw new yl}call(t,e){return e.subscribe(new Ll(t,this.total))}}class Ll extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ml(t=Vl){return e=>e.lift(new Fl(t))}class Fl{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new jl(t,this.errorFactory))}}class jl extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Vl(){return new ll}function Ul(t=null){return e=>e.lift(new Bl(t))}class Bl{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ql(t,this.defaultValue))}}class ql extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Hl(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Cl((e,n)=>t(e,n,r)):v,bl(1),n?Ul(e):Ml(()=>new ll))}function zl(){}function Wl(t,e,n){return function(r){return r.lift(new Gl(t,e,n))}}class Gl{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Kl(t,this.nextOrObserver,this.error,this.complete))}}class Kl extends p{constructor(t,e,n,i){super(t),this._tapNext=zl,this._tapError=zl,this._tapComplete=zl,this._tapError=n||zl,this._tapComplete=i||zl,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||zl,this._tapError=e.error||zl,this._tapComplete=e.complete||zl)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class $l{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Xl(t,this.callback))}}class Xl extends p{constructor(t,e){super(t),this.add(new h(e))}}class Ql{constructor(t,e){this.id=t,this.url=e}}class Yl extends Ql{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Jl extends Ql{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zl extends Ql{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class th extends Ql{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eh extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nh extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rh extends Ql{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ih extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oh extends Ql{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ah{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ch{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fh="primary";class ph{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gh(t){return new ph(t)}function mh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function vh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yh(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!bh(t[i],e[i]))return!1;return!0}function bh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function _h(t){return Array.prototype.concat.apply([],t)}function wh(t){return t.length>0?t[t.length-1]:null}function Sh(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function kh(t){return Go(t)?t:Wo(t)?L(Promise.resolve(t)):el(t)}const Ah={exact:function t(e,n,r){if(!Dh(e.segments,n.segments))return!1;if(!Ph(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Th},Eh={exact:function(t,e){return yh(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>bh(t[n],e[n]))},ignored:()=>!0};function Ch(t,e,n){return Ah[n.paths](t.root,e.root,n.matrixParams)&&Eh[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Th(t,e,n){return xh(t,e,e.segments,n)}function xh(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Dh(i,n)&&!e.hasChildren()&&!!Ph(i,n,r)}if(t.segments.length===n.length){if(!Dh(t.segments,n))return!1;if(!Ph(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Th(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Dh(t.segments,i)&&!!Ph(t.segments,i,r)&&!!t.children.primary&&xh(t.children.primary,e,o,r)}}function Ph(t,e,n){return e.every((e,r)=>Eh[n](t[r].parameters,e.parameters))}class Ih{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gh(this.queryParams)),this._queryParamMap}toString(){return Mh.serialize(this)}}class Oh{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Sh(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fh(this)}}class Rh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gh(this.parameters)),this._parameterMap}toString(){return zh(this)}}function Dh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Nh{}class Lh{parse(t){const e=new Xh(t);return new Ih(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${jh(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Uh(e)}=${Uh(t)}`).join("&"):`${Uh(e)}=${Uh(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Mh=new Lh;function Fh(t){return t.segments.map(t=>zh(t)).join("/")}function jh(t,e){if(!t.hasChildren())return Fh(t);if(e){const e=t.children.primary?jh(t.children.primary,!1):"",n=[];return Sh(t.children,(t,e)=>{e!==fh&&n.push(`${e}:${jh(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Sh(t.children,(t,r)=>{r===fh&&(n=n.concat(e(t,r)))}),Sh(t.children,(t,r)=>{r!==fh&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===fh?[jh(t.children.primary,!1)]:[`${n}:${jh(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Fh(t)}/${e[0]}`:`${Fh(t)}/(${e.join("//")})`}}function Vh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uh(t){return Vh(t).replace(/%3B/gi,";")}function Bh(t){return Vh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qh(t){return decodeURIComponent(t)}function Hh(t){return qh(t.replace(/\+/g,"%20"))}function zh(t){return`${Bh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Bh(t)}=${Bh(e[t])}`).join("")}`;var e}const Wh=/^[^\/()?;=#]+/;function Gh(t){const e=t.match(Wh);return e?e[0]:""}const Kh=/^[^=?&#]+/,$h=/^[^?&#]+/;class Xh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oh([],{}):new Oh([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Oh(t,e)),n}parseSegment(){const t=Gh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Rh(qh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Gh(this.remaining);t&&(n=t,this.capture(n))}t[qh(e)]=qh(n)}parseQueryParam(t){const e=function(t){const e=t.match(Kh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match($h);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Hh(e),i=Hh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Gh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=fh);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Oh([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qh{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Jh(t,this._root).map(t=>t.value)}}function Yh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yh(t,n);if(e)return e}return null}function Jh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jh(t,n);if(r.length)return r.unshift(e),r}return[]}class Zh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function td(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ed extends Qh{constructor(t,e){super(t),this.snapshot=e,ad(this,t)}toString(){return this.snapshot.toString()}}function nd(t,e){const n=function(t,e){const n=new od([],{},{},"",{},fh,e,null,t.root,-1,{});return new sd("",new Zh(n,[]))}(t,e),r=new nl([new Rh("",{})]),i=new nl({}),o=new nl({}),s=new nl({}),a=new nl(""),u=new rd(r,i,s,a,o,fh,e,n.root);return u.snapshot=n.root,new ed(new Zh(u,[]),n)}class rd{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(C(t=>gh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(C(t=>gh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function id(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class od{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sd extends Qh{constructor(t,e){super(e),this.url=t,ad(this,e)}toString(){return ud(this._root)}}function ad(t,e){e.value._routerState=t,e.children.forEach(e=>ad(t,e))}function ud(t){const e=t.children.length>0?` { ${t.children.map(ud).join(", ")} } `:"";return`${t.value}${e}`}function cd(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,yh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),yh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!yh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),yh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ld(t,e){var n,r;return yh(t.params,e.params)&&Dh(n=t.url,r=e.url)&&n.every((t,e)=>yh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ld(t.parent,e.parent))}function hd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return hd(t,e,r);return hd(t,e)})}(t,e,n);return new Zh(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return dd(e,t),t}}const n=new rd(new nl((r=e.value).url),new nl(r.params),new nl(r.queryParams),new nl(r.fragment),new nl(r.data),r.outlet,r.component,r),i=e.children.map(e=>hd(t,e));return new Zh(n,i)}var r}function dd(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)dd(t.children[n],e.children[n])}function fd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pd(t){return"object"==typeof t&&null!=t&&t.outlets}function gd(t,e,n,r,i){let o={};return r&&Sh(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ih(n.root===t?e:md(n.root,t,e),o,i)}function md(t,e,n){const r={};return Sh(t.children,(t,i)=>{r[i]=t===e?n:md(t,e,n)}),new Oh(t.segments,r)}class vd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(pd);if(r&&r!==wh(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function bd(t,e,n){if(t||(t=new Oh([],{})),0===t.segments.length&&t.hasChildren())return _d(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(pd(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ad(a,u,e))return o;r+=2}else{if(!Ad(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Oh(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Oh(t.segments.slice(r.pathIndex),t.children),_d(e,0,i)}return r.match&&0===i.length?new Oh(t.segments,{}):r.match&&!t.hasChildren()?wd(t,e,n):r.match?_d(t,0,i):wd(t,e,n)}function _d(t,e,n){if(0===n.length)return new Oh(t.segments,{});{const r=function(t){return pd(t[0])?t[0].outlets:{[fh]:t}}(n),i={};return Sh(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=bd(t.children[r],e,n))}),Sh(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Oh(t.segments,i)}}function wd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(pd(o)){const t=Sd(o.outlets);return new Oh(r,t)}if(0===i&&fd(n[0])){r.push(new Rh(t.segments[e].path,kd(n[0]))),i++;continue}const s=pd(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fd(a)?(r.push(new Rh(s,kd(a))),i+=2):(r.push(new Rh(s,{})),i++)}return new Oh(r,{})}function Sd(t){const e={};return Sh(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=wd(new Oh([],{}),0,t))}),e}function kd(t){const e={};return Sh(t,(t,n)=>e[n]=`${t}`),e}function Ad(t,e,n){return t==n.path&&yh(e,n.parameters)}class Ed{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),cd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=td(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Sh(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=td(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=td(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new hh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ch(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(cd(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Cd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Cd(t){cd(t.value),t.children.forEach(Cd)}class Td{constructor(t,e){this.routes=t,this.module=e}}function xd(t){return"function"==typeof t}function Pd(t){return t instanceof Ih}const Id=Symbol("INITIAL_VALUE");function Od(){return gl(t=>al(t.map(t=>t.pipe(bl(1),Sl(Id)))).pipe(kl((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Id)return t;if(r===Id&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Pd(r))return r}return t},t)},Id),Cl(t=>t!==Id),C(t=>Pd(t)?t:!0===t),bl(1)))}let Rd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Ho(0,"router-outlet")},directives:function(){return[Pf]},encapsulation:2}),t})();function Dd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nd(r,Ld(e,r))}}function Nd(t,e){t.children&&Dd(t.children,e)}function Ld(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Md(t){const e=t.children&&t.children.map(Md),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fh&&(n.component=Rd),n}function Fd(t){return t.outlet||fh}function jd(t,e){const n=t.filter(t=>Fd(t)===e);return n.push(...t.filter(t=>Fd(t)!==e)),n}const Vd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ud(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Vd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||vh)(n,t,e);if(!i)return Object.assign({},Vd);const o={};Sh(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Bd(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qd(t,e,n)&&Fd(n)!==fh)}(t,n,r)){const i=new Oh(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Fd(o)!==fh){const n=new Oh([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Fd(o)]=n}return i}(t,e,r,new Oh(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qd(t,e,n))}(t,n,r)){const o=new Oh(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qd(t,n,a)&&!i[Fd(a)]){const n=new Oh([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Fd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Oh(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Hd(t,e,n,r){return!!(Fd(t)===r||r!==fh&&qd(e,n,t))&&("**"===t.path||Ud(e,t,n).matched)}function zd(t,e,n){return 0===e.length&&!t.children[n]}class Wd{constructor(t){this.segmentGroup=t||null}}class Gd{constructor(t){this.urlTree=t}}function Kd(t){return new y(e=>e.error(new Wd(t)))}function $d(t){return new y(e=>e.error(new Gd(t)))}function Xd(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Qd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(pa)}apply(){const t=Bd(this.urlTree.root,[],[],this.config).segmentGroup,e=new Oh(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,fh).pipe(C(t=>this.createUrlTree(Yd(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pl(t=>{if(t instanceof Gd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Wd)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,fh).pipe(C(e=>this.createUrlTree(Yd(e),t.queryParams,t.fragment))).pipe(Pl(t=>{if(t instanceof Wd)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Oh([],{[fh]:t}):t;return new Ih(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(C(t=>new Oh([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return L(r).pipe(Rl(r=>{const i=n.children[r],o=jd(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(C(t=>({segment:t,outlet:r})))}),kl((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Cl((e,n)=>t(e,n,r)):v,Dl(1),n?Ul(e):Ml(()=>new ll))}())}expandSegment(t,e,n,r,i,o){return L(n).pipe(Rl(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Pl(t=>{if(t instanceof Wd)return el(null);throw t}))),Hl(t=>!!t),Pl((t,n)=>{if(t instanceof ll||"EmptyError"===t.name){if(zd(e,r,i))return el(new Oh([],{}));throw new Wd(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Hd(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Kd(e):Kd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?$d(i):this.lineralizeSegments(n,i).pipe(V(n=>{const i=new Oh(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=Ud(e,r,i);if(!s)return Kd(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?$d(l):this.lineralizeSegments(r,l).pipe(V(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?el(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(C(t=>(n._loadedConfig=t,new Oh(r,{})))):el(new Oh(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Ud(e,n,r);if(!o)return Kd(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(V(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=Bd(e,s,u,o),l=new Oh(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(C(t=>new Oh(s,t)));if(0===o.length&&0===c.length)return el(new Oh(s,{}));const h=Fd(n)===i;return this.expandSegment(r,l,o,c,h?fh:i,!0).pipe(C(t=>new Oh(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?el(new Td(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?el(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(V(n=>n?this.configLoader.load(t.injector,e).pipe(C(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(mh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):el(new Td([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?el(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&xd(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!xd(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return kh(o)})).pipe(Od(),Wl(t=>{if(!Pd(t))return;const e=mh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),C(t=>!0===t)):el(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return el(n);if(r.numberOfChildren>1||!r.children.primary)return Xd(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ih(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Sh(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Sh(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Oh(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Yd(t){const e={};for(const n of Object.keys(t.children)){const r=Yd(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Oh(t.segments.concat(e.segments),e.children)}return t}(new Oh(t.segments,e))}class Jd{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zd{constructor(t,e){this.component=t,this.route=e}}function tf(t,e,n){const r=t._root;return nf(r,e?e._root:null,n,[r.value])}function ef(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function nf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=td(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dh(t.url,e.url)||!yh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ld(t,e)||!yh(t.queryParams,e.queryParams);case"paramsChange":default:return!ld(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Jd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),nf(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zd(a.outlet.component,s))}else s&&rf(e,a,i),i.canActivateChecks.push(new Jd(r)),nf(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Sh(o,(t,e)=>rf(t,n.getContext(e),i)),i}function rf(t,e,n){const r=td(t),i=t.value;Sh(r,(t,r)=>{rf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Zd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class of{}function sf(t){return new y(e=>e.error(t))}class af{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Bd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,fh);if(null===e)return null;const n=new od([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fh,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zh(n,e),i=new sd(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=id(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=jd(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=cf(n);return r.sort((t,e)=>t.value.outlet===fh?-1:e.value.outlet===fh?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return zd(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Hd(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?wh(n).parameters:{};i=new od(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,df(t),Fd(t),t.component,t,lf(e),hf(e)+n.length,ff(t))}else{const r=Ud(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new od(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,df(t),Fd(t),t.component,t,lf(e),hf(e)+o.length,ff(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=Bd(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Zh(i,t)]}if(0===a.length&&0===c.length)return[new Zh(i,[])];const l=Fd(t)===r,h=this.processSegment(a,u,c,l?fh:r);return null===h?null:[new Zh(i,h)]}}function uf(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cf(t){const e=[],n=new Set;for(const r of t){if(!uf(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=cf(r.children);e.push(new Zh(r.value,t))}return e.filter(t=>!n.has(t))}function lf(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hf(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function df(t){return t.data||{}}function ff(t){return t.resolve||{}}function pf(t){return gl(e=>{const n=t(e);return n?L(n).pipe(C(()=>e)):el(e)})}class gf extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mf=new qn("ROUTES");class vf{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(C(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Td(_h(r.injector.get(mf,void 0,bt.Self|bt.Optional)).map(Md),r)}),Pl(t=>{throw e._loader$=void 0,t}));return e._loader$=new $(n,()=>new k).pipe(W()),e._loader$}loadModuleFactory(t){return"string"==typeof t?L(this.loader.load(t)):kh(t()).pipe(V(t=>t instanceof ga?el(t):L(this.compiler.compileModuleAsync(t))))}}class yf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bf,this.attachRef=null}}class bf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _f{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wf(t){throw t}function Sf(t,e,n){return e.parse("/")}function kf(t,e){return el(null)}const Af={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ef={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cf=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=wf,this.malformedUriErrorHandler=Sf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kf,afterPreactivation:kf},this.urlHandlingStrategy=new _f,this.routeReuseStrategy=new gf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=i.get(pa),this.console=i.get(iu);const u=i.get(vu);this.isNgZoneEnabled=u instanceof vu&&vu.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Ih(new Oh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vf(o,s,t=>this.triggerEvent(new sh(t)),t=>this.triggerEvent(new ah(t))),this.routerState=nd(this.currentUrlTree,this.rootComponentType),this.transitions=new nl({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(Cl(t=>0!==t.id),C(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),gl(t=>{let n=!1,r=!1;return el(t).pipe(Wl(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return el(t).pipe(gl(t=>{const n=this.transitions.getValue();return e.next(new Yl(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?dl:Promise.resolve(t)}),function(t,e,n,r){return gl(i=>function(t,e,n,r,i){return new Qd(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(C(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Wl(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return V(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new af(t,e,n,r,i,o).recognize();return null===s?sf(new of):el(s)}catch(s){return sf(s)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(C(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Wl(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new eh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Yl(n,this.serializeUrl(r),i,o);e.next(a);const u=nd(r,this.rootComponentType).snapshot;return el(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),dl}),pf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Wl(t=>{const e=new nh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),C(t=>Object.assign(Object.assign({},t),{guards:tf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return V(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?el(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return L(t).pipe(V(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?el(o.map(o=>{const s=ef(o,e,i);let a;if(function(t){return t&&xd(t.canDeactivate)}(s))a=kh(s.canDeactivate(t,e,n,r));else{if(!xd(s))throw new Error("Invalid CanDeactivate guard");a=kh(s(t,e,n,r))}return a.pipe(Hl())})).pipe(Od()):el(!0)}(t.component,t.route,n,e,r)),Hl(t=>!0!==t,!0))}(s,r,i,t).pipe(V(n=>n&&"boolean"==typeof n?function(t,e,n,r){return L(e).pipe(Rl(e=>hl(function(t,e){return null!==t&&e&&e(new uh(t)),el(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new lh(t)),el(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>pl(()=>el(e.guards.map(i=>{const o=ef(i,e.node,n);let s;if(function(t){return t&&xd(t.canActivateChild)}(o))s=kh(o.canActivateChild(r,t));else{if(!xd(o))throw new Error("Invalid CanActivateChild guard");s=kh(o(r,t))}return s.pipe(Hl())})).pipe(Od())));return el(i).pipe(Od())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?el(r.map(r=>pl(()=>{const i=ef(r,e,n);let o;if(function(t){return t&&xd(t.canActivate)}(i))o=kh(i.canActivate(e,t));else{if(!xd(i))throw new Error("Invalid CanActivate guard");o=kh(i(e,t))}return o.pipe(Hl())}))).pipe(Od()):el(!0)}(t,e.route,n))),Hl(t=>!0!==t,!0))}(r,o,t,e):el(n)),C(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Wl(t=>{if(Pd(t.guardsResult)){const e=mh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new rh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Cl(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),pf(t=>{if(t.guards.canActivateChecks.length)return el(t).pipe(Wl(t=>{const e=new ih(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),gl(t=>{let e=!1;return el(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,V(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return el(t);let o=0;return L(i).pipe(Rl(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return el({});const o={};return L(i).pipe(V(i=>function(t,e,n,r){const i=ef(t,e,r);return kh(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Wl(t=>{o[i]=t}))),Dl(1),V(()=>Object.keys(o).length===i.length?el(o):dl))}(t._resolve,t,e,r).pipe(C(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),id(t,n).resolve),null)))}(t.route,e,n,r)),Wl(()=>o++),Dl(1),V(e=>o===i.length?el(t):dl))})),Wl({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}));var n,r}),Wl(t=>{const e=new oh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),pf(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),C(t=>{const e=function(t,e,n){const r=hd(t,e._root,n?n._root:void 0);return new ed(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Wl(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),C(t=>(new Ed(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Wl({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}this.currentNavigation=null},t=>t.lift(new $l(i))),Pl(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Pd(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new Zl(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new th(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return dl}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Dd(t),this.config=t.map(Md),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return gd(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Sh(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new vd(n,e,r)}(n);if(o.toRoot())return gd(e.root,new Oh([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new yd(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new yd(t,t===e.root,0)}const r=fd(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new yd(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?_d(s.segmentGroup,s.index,o.commands):bd(s.segmentGroup,s.index,o.commands);return gd(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Pd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Af):!1===e?Object.assign({},Ef):e,Pd(t))return Ch(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Ch(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Jl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u="imperative"!==e&&"imperative"===(null==a?void 0:a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&c)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{l=t,h=e});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new Zl(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(sr(zn),sr(Nh),sr(bf),sr(hc),sr(ko),sr(Uu),sr(pu),sr(void 0))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Tf=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new k,this.subscription=t.events.subscribe(t=>{t instanceof Jl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:xf(this.skipLocationChange),replaceUrl:xf(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xf(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(jo(Cf),jo(rd),jo(sc))},t.\u0275dir=Kt({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&Ko("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(cs("href",e.href,yr),Lo("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[se]}),t})();function xf(t){return""===t||!!t}let Pf=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Na,this.deactivateEvents=new Na,this.name=r||fh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new If(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(jo(bf),jo(va),jo(Ps),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(dn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Ie(),"name")),jo(oa))},t.\u0275dir=Kt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class If{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===rd?this.route:t===bf?this.childContexts:this.parent.get(t,e)}}class Of{}class Rf{preload(t,e){return el(null)}}let Df=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new vf(e,n,e=>t.triggerEvent(new sh(e)),e=>t.triggerEvent(new ah(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Cl(t=>t instanceof Jl),Rl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(pa);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return L(n).pipe(q(),C(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?el(e._loadedConfig):this.loader.load(t.injector,e)).pipe(V(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(sr(Cf),sr(Uu),sr(pu),sr(ko),sr(Of))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),Nf=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new dh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(sr(Cf),sr(Sc),sr(void 0))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Lf=new qn("ROUTER_CONFIGURATION"),Mf=new qn("ROUTER_FORROOT_GUARD"),Ff=[hc,{provide:Nh,useClass:Lh},{provide:Cf,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Cf(null,t,e,n,r,i,o,_h(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Nh,bf,hc,ko,Uu,pu,mf,Lf,[class{},new hr],[class{},new hr]]},bf,{provide:rd,useFactory:function(t){return t.routerState.root},deps:[Cf]},{provide:Uu,useClass:Hu},Df,Rf,class{preload(t,e){return e().pipe(Pl(()=>el(null)))}},{provide:Lf,useValue:{enableTracing:!1}}];function jf(){return new Du("Router",Cf)}let Vf=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Ff,Hf(e),{provide:Mf,useFactory:qf,deps:[[Cf,new hr,new dr]]},{provide:Lf,useValue:n||{}},{provide:sc,useFactory:Bf,deps:[Yu,[new lr(uc),new hr],Lf]},{provide:Nf,useFactory:Uf,deps:[Cf,Sc,Lf]},{provide:Of,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Rf},{provide:Du,multi:!0,useFactory:jf},[zf,{provide:Qa,multi:!0,useFactory:Wf,deps:[zf]},{provide:Kf,useFactory:Gf,deps:[zf]},{provide:ru,multi:!0,useExisting:Kf}]]}}static forChild(e){return{ngModule:t,providers:[Hf(e)]}}}return t.\u0275fac=function(e){return new(e||t)(sr(Mf,8),sr(Cf,8))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();function Uf(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Nf(t,e,n)}function Bf(t,e,n={}){return n.useHash?new lc(t,e):new cc(t,e)}function qf(t){return"guarded"}function Hf(t){return[{provide:Hn,multi:!0,useValue:t},{provide:mf,multi:!0,useValue:t}]}let zf=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(Zu,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Cf),r=this.injector.get(Lf);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?el(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Lf),n=this.injector.get(Df),r=this.injector.get(Nf),i=this.injector.get(Cf),o=this.injector.get(ju);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(sr(ko))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();function Wf(t){return t.appInitializer.bind(t)}function Gf(t){return t.bootstrapListener.bind(t)}const Kf=new qn("Router Initializer");function $f(t){return e=>e.lift(new Xf(t))}class Xf{constructor(t){this.total=t}call(t,e){return e.subscribe(new Qf(t,this.total))}}class Qf extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}class Yf{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Jf(t,this.compare,this.keySelector))}}class Jf extends p{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Zf(t){return e=>e.lift(new tp(t))}class tp{constructor(t){this.notifier=t}call(t,e){const n=new ep(t),r=j(this.notifier,new M(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ep extends F{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function np(t){return null!=t&&"false"!=`${t}`}function rp(t){return Array.isArray(t)?t:[t]}function ip(t){return null==t?"":"string"==typeof t?t:`${t}px`}function op(t){return t instanceof Ds?t.nativeElement:t}let sp;try{sp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ew){sp=!1}let ap,up,cp,lp=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(sr(nu))},t.\u0275prov=lt({factory:function(){return new t(sr(nu))},token:t,providedIn:"root"}),t})(),hp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();function dp(t){return function(){if(null==ap&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ap=!0}))}finally{ap=ap||!1}return ap}()?t:!!t.capture}function fp(){if(null==up){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return up=!1,up;if("scrollBehavior"in document.documentElement.style)up=!0;else{const t=Element.prototype.scrollTo;up=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return up}function pp(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function gp(t){return t.composedPath?t.composedPath()[0]:t.target}function mp(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class vp extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class yp extends vp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let bp=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class _p extends bp{constructor(t,e=bp.now){super(t,()=>_p.delegate&&_p.delegate!==this?_p.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return _p.delegate&&_p.delegate!==this?_p.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const wp=new _p(yp);class Sp{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new kp(t,this.dueTime,this.scheduler))}}class kp extends p{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ap,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ap(t){t.debouncedNext()}let Ep=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Cp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[Ep]}),t})(),Tp=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(ew){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Pp(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Pp(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||xp(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(sr(lp))},t.\u0275prov=lt({factory:function(){return new t(sr(lp))},token:t,providedIn:"root"}),t})();function xp(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Pp(t){if(!xp(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Ip{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(bl(1)).subscribe(t)}}let Op=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Ip(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(sr(Tp),sr(vu),sr(Qu))},t.\u0275prov=lt({factory:function(){return new t(sr(Tp),sr(vu),sr(Qu))},token:t,providedIn:"root"}),t})();function Rp(t){return 0===t.offsetX&&0===t.offsetY}function Dp(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const Np=new qn("cdk-input-modality-detector-options"),Lp={ignoreKeys:[18,17,224,91,16]},Mp=dp({passive:!0,capture:!0});let Fp=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new nl(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=gp(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Rp(t)?"keyboard":"mouse"),this._mostRecentTarget=gp(t))},this._onTouchstart=t=>{Dp(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=gp(t))},this._options=Object.assign(Object.assign({},Lp),r),this.modalityDetected=this._modality.pipe($f(1)),this.modalityChanged=this.modalityDetected.pipe(t=>t.lift(new Yf(void 0,void 0))),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,Mp),n.addEventListener("mousedown",this._onMousedown,Mp),n.addEventListener("touchstart",this._onTouchstart,Mp)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Mp),document.removeEventListener("mousedown",this._onMousedown,Mp),document.removeEventListener("touchstart",this._onTouchstart,Mp))}}return t.\u0275fac=function(e){return new(e||t)(sr(lp),sr(vu),sr(Qu),sr(Np,8))},t.\u0275prov=lt({factory:function(){return new t(sr(lp),sr(vu),sr(Qu),sr(Np,8))},token:t,providedIn:"root"}),t})();const jp=new qn("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Vp=new qn("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Up=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(sr(jp,8),sr(vu),sr(Qu),sr(Vp,8))},t.\u0275prov=lt({factory:function(){return new t(sr(jp,8),sr(vu),sr(Qu),sr(Vp,8))},token:t,providedIn:"root"}),t})();const Bp=new qn("cdk-focus-monitor-default-options"),qp=dp({passive:!0,capture:!0});let Hp=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new k,this._rootNodeFocusAndBlurListener=t=>{const e=gp(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=op(t);if(!this._platform.isBrowser||1!==n.nodeType)return el(null);const r=function(t){if(function(){if(null==cp){const t="undefined"!=typeof document?document.head:null;cp=!(!t||!t.createShadowRoot&&!t.attachShadow)}return cp}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new k,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=op(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=op(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=gp(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,qp),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,qp)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zf(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,qp),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,qp),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(sr(vu),sr(lp),sr(Fp),sr(Qu,8),sr(Bp,8))},t.\u0275prov=lt({factory:function(){return new t(sr(vu),sr(lp),sr(Fp),sr(Qu,8),sr(Bp,8))},token:t,providedIn:"root"}),t})();const zp="cdk-high-contrast-black-on-white",Wp="cdk-high-contrast-white-on-black",Gp="cdk-high-contrast-active";let Kp=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Gp),t.remove(zp),t.remove(Wp),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(Gp),t.add(zp)):2===e&&(t.add(Gp),t.add(Wp))}}}return t.\u0275fac=function(e){return new(e||t)(sr(lp),sr(Qu))},t.\u0275prov=lt({factory:function(){return new t(sr(lp),sr(Qu))},token:t,providedIn:"root"}),t})();const $p=new qn("cdk-dir-doc",{providedIn:"root",factory:function(){return ar(Qu)}});let Xp=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Na,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(sr($p,8))},t.\u0275prov=lt({factory:function(){return new t(sr($p,8))},token:t,providedIn:"root"}),t})(),Qp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();const Yp=new Vs("12.2.13");class Jp{}const Zp="*";function tg(t,e){return{type:7,name:t,definitions:e,options:{}}}function eg(t,e=null){return{type:4,styles:e,timings:t}}function ng(t,e=null){return{type:2,steps:t,options:e}}function rg(t){return{type:6,styles:t,offset:null}}function ig(t,e,n){return{type:0,name:t,styles:e,options:n}}function og(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function sg(t){Promise.resolve(null).then(t)}class ag{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){sg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ug{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?sg(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function cg(){return"undefined"!=typeof window&&void 0!==window.document}function lg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hg(t){switch(t.length){case 0:return new ag;case 1:return t[0];default:return new ug(t)}}function dg(t,e,n,r,i={},o={}){const s=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case Zp:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),c=l,u=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function fg(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&pg(n,"start",t)));break;case"done":t.onDone(()=>r(n&&pg(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&pg(n,"destroy",t)))}}function pg(t,e,n){const r=n.totalTime,i=gg(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function gg(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function mg(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function vg(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let yg=(t,e)=>!1,bg=(t,e)=>!1,_g=(t,e,n)=>[];const wg=lg();(wg||"undefined"!=typeof Element)&&(yg=cg()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),bg=(()=>{if(wg||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):bg}})(),_g=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Sg=null,kg=!1;function Ag(t){Sg||(Sg=("undefined"!=typeof document?document.body:null)||{},kg=!!Sg.style&&"WebkitAppearance"in Sg.style);let e=!0;return Sg.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Sg.style,!e&&kg)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Sg.style),e}const Eg=bg,Cg=yg,Tg=_g;function xg(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Pg=(()=>{class t{validateStyleProperty(t){return Ag(t)}matchesElement(t,e){return Eg(t,e)}containsElement(t,e){return Cg(t,e)}query(t,e,n){return Tg(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new ag(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Ig{}Ig.NOOP=new Pg;const Og="ng-enter",Rg="ng-leave",Dg="ng-trigger",Ng=".ng-trigger",Lg="ng-animating",Mg=".ng-animating";function Fg(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jg(parseFloat(e[1]),e[2])}function jg(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Vg(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=jg(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=jg(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Ug(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Bg(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Ug(t,n);return n}function qg(t,e,n){return n?e+":"+n+";":""}function Hg(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=qg(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=qg(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function zg(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=Jg(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),lg()&&Hg(t))}function Wg(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Jg(e);t.style[n]=""}),lg()&&Hg(t))}function Gg(t){return Array.isArray(t)?1==t.length?t[0]:ng(t):t}const Kg=new RegExp("{{\\s*(.+?)\\s*}}","g");function $g(t){let e=[];if("string"==typeof t){let n;for(;n=Kg.exec(t);)e.push(n[1]);Kg.lastIndex=0}return e}function Xg(t,e,n){const r=t.toString(),i=r.replace(Kg,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Qg(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Yg=/-+([a-z0-9])/g;function Jg(t){return t.replace(Yg,(...t)=>t[1].toUpperCase())}function Zg(t,e){return 0===t||0===e}function tm(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=nm(t,e)})}}return e}function em(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function nm(t,e){return window.getComputedStyle(t)[e]}const rm="*";function im(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(am(i,s)),"<"!=o[0]||i==rm&&s==rm||e.push(am(s,i))}(t,n,e)):n.push(t),n}const om=new Set(["true","1"]),sm=new Set(["false","0"]);function am(t,e){const n=om.has(t)||sm.has(t),r=om.has(e)||sm.has(e);return(i,o)=>{let s=t==rm||t==i,a=e==rm||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?om.has(t):sm.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?om.has(e):sm.has(e)),s&&a}}const um=new RegExp("s*:selfs*,?","g");function cm(t,e,n){return new lm(t).build(e,n)}class lm{constructor(t){this._driver=t}build(t,e){const n=new hm(e);return this._resetContextStyleTimingState(n),em(this,Gg(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(dm(t)){const e=t;Object.keys(e).forEach(t=>{$g(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Qg(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=em(this,Gg(t.animation),e);return{type:1,matchers:im(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:fm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>em(this,t,e)),options:fm(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=em(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:fm(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return pm(Vg(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=pm(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Vg(r,e),pm(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:rg({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=rg(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Zp?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(dm(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=$g(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(dm(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(dm(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),s=s||c<0||c>1,o=o||c<a,a=c,i.push(c),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:em(this,Gg(t.animation),e),options:fm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:fm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:fm(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(um,"")),[t=t.replace(/@\*/g,Ng).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Mg),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,mg(e.collectedStyles,e.currentQuerySelector,{});const s=em(this,Gg(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:fm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Vg(t.timings,e.errors,!0);return{type:12,animation:em(this,Gg(t.animation),e),timings:n,options:null}}}class hm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function dm(t){return!Array.isArray(t)&&"object"==typeof t}function fm(t){var e;return t?(t=Ug(t)).params&&(t.params=(e=t.params)?Ug(e):null):t={},t}function pm(t,e,n){return{duration:t,delay:e,easing:n}}function gm(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class mm{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const vm=new RegExp(":enter","g"),ym=new RegExp(":leave","g");function bm(t,e,n,r,i,o={},s={},a,u,c=[]){return(new _m).buildKeyframes(t,e,n,r,i,o,s,a,u,c)}class _m{buildKeyframes(t,e,n,r,i,o,s,a,u,c=[]){u=u||new mm;const l=new Sm(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),em(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[gm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Fg(n.duration):null,o=null!=n.delay?Fg(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),em(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=wm);const t=Fg(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>em(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Fg(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),em(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Vg(e.params?Xg(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Fg(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=wm);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),em(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;em(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const wm={};class Sm{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wm,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new km(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Fg(n.duration)),null!=n.delay&&(r.delay=Fg(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Xg(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Sm(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=wm,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Am(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(vm,"."+this._enterClassName)).replace(ym,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class km{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new km(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Zp,this._currentKeyframe[t]=Zp}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=Zp})):Bg(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Xg(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Zp),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Bg(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==Zp&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Qg(t.values()):[],o=e.size?Qg(e.values()):[];if(n){const t=r[0],e=Ug(t);t.offset=0,e.offset=1,r=[t,e]}return gm(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Am extends km{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Bg(t[0],!1);a.offset=0,i.push(a);const u=Bg(t[0],!1);u.offset=Em(s),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let s=Bg(t[r],!1);s.offset=Em((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return gm(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Em(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Cm{}class Tm extends Cm{normalizePropertyName(t,e){return Jg(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(xm[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const xm=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Pm(t,e,n,r,i,o,s,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const Im={};class Om{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Im,d=this.buildStyles(n,s&&s.params||Im,l),f=a&&a.params||Im,p=this.buildStyles(r,f,l),g=new Set,m=new Map,v=new Map,y="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=c?[]:bm(t,e,this.ast.animation,i,o,d,p,b,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Pm(e,this._triggerName,n,r,y,d,p,[],[],m,v,w,l);_.forEach(t=>{const n=t.element,r=mg(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=mg(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const S=Qg(g.values());return Pm(e,this._triggerName,n,r,y,d,p,_,S,m,v,w)}}class Rm{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=Ug(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Xg(o,r,e));const s=this.normalizer.normalizePropertyName(t,e);o=this.normalizer.normalizeStyleValue(t,s,o,e),n[s]=o})}}),n}}class Dm{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Rm(t.style,t.options&&t.options.params||{},n)}),Nm(this.states,"true","1"),Nm(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Om(t,e,this.states))}),this.fallbackTransition=new Om(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Nm(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Lm=new mm;class Mm{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=cm(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=dg(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=bm(this._driver,e,i,Og,Rg,{},{},n,Lm,r),o.forEach(t=>{const e=mg(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Zp)})});const a=hg(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=gg(e,"","","");return fg(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Fm="ng-animate-queued",jm="ng-animate-disabled",Vm=".ng-animate-disabled",Um=[],Bm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Hm{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Ug(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const zm="void",Wm=new Hm(zm);class Gm{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zm(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=mg(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=mg(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Zm(t,Dg),Zm(t,"ng-trigger-"+e),a[e]=Wm),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new $m(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Zm(t,Dg),Zm(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const u=new Hm(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),s[e]=u,a||(a=Wm),u.value!==zm&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{Wg(t,n),zg(t,r)})}return}const c=mg(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:o,isFallbackTransition:h}),h||(Zm(t,Fm),o.onStart(()=>{tv(t,Fm)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),c.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ng,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,zm,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&hg(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||Wm,a=new Hm(zm),u=new $m(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Bm||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Zm(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=gg(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,fg(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Km{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Gm(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Xm(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Xm(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zm(t,jm)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),tv(t,jm))}removeNode(t,e,n,r){if(Xm(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Xm(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Ng,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Mg,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hg(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Bm,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Vm)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Vm,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Zm(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?hg(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new mm,r=[],i=new Map,o=[],s=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Jm(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Og+p++;f.set(e,n),t.forEach(t=>Zm(t,n))});const g=[],m=new Set,v=new Set;for(let I=0;I<this.collectedLeaveElements.length;I++){const t=this.collectedLeaveElements[I],e=t.__ng_removed;e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):v.add(t))}const y=new Map,b=Jm(h,Array.from(m));b.forEach((t,e)=>{const n=Rg+p++;y.set(e,n),t.forEach(t=>Zm(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>tv(t,n))}),b.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>tv(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let I=this._namespaceList.length-1;I>=0;I--)this._namespaceList[I].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>Wg(i,p.fromStyles)),e.onDestroy(()=>zg(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>Wg(i,p.fromStyles)),e.onDestroy(()=>zg(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>mg(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const S=new Map,k=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(k.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,S))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{mg(S,e,[]).push(t),t.destroy()})});const A=g.filter(t=>rv(t,a,u)),E=new Map;Ym(E,this.driver,v,u,Zp).forEach(t=>{rv(t,a,u)&&A.push(t)});const C=new Map;d.forEach((t,e)=>{Ym(C,this.driver,new Set(t),a,"!")}),A.forEach(t=>{const e=E.get(t),n=C.get(t);E.set(t,Object.assign(Object.assign({},e),n))});const T=[],x=[],P={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(c.has(e))return o.onDestroy(()=>zg(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=P;if(k.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=k.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>k.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,S,i,C,E);if(o.setRealPlayer(n),t===P)T.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=hg(e)),r.push(o)}}else Wg(e,s.fromStyles),o.onDestroy(()=>zg(e,s.toStyles)),x.push(o),c.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=hg(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let I=0;I<g.length;I++){const t=g[I],e=t.__ng_removed;if(tv(t,Rg),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Mg,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ev(this,t,r):this.processLeaveNode(t)}return g.length=0,T.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),T}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==zm;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,u=mg(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}Wg(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ag(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return nv(t,e),e}((n.get(h)||Um).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),v=dg(0,this._normalizer,0,e.keyframes,g,m),y=this._buildPlayer(e,v,p);if(e.subTimeline&&r&&l.add(h),f){const e=new $m(t,s,h);e.setRealPlayer(y),u.push(e)}return y});u.forEach(t=>{mg(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Zm(t,Lg));const d=hg(h);return d.onDestroy(()=>{c.forEach(t=>tv(t,Lg)),zg(a,e.toStyles)}),l.forEach(t=>{mg(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ag(t.duration,t.delay)}}class $m{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ag,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>fg(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){mg(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Xm(t){return t&&1===t.nodeType}function Qm(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ym(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Qm(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=qm,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Qm(t,o[a++])),s}function Jm(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function Zm(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function tv(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ev(t,e,n){hg(n).onDone(()=>t.processLeaveNode(e))}function nv(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ug?nv(r.players,e):e.push(r)}}function rv(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class iv{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Km(t,e,n),this._timelineEngine=new Mm(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=cm(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e,n){return new Dm(t,e,n)}(r,e,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=vg(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=vg(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function ov(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=av(e[0]),e.length>1&&(r=av(e[e.length-1]))):e&&(n=av(e)),n||r?new sv(t,n,r):null}class sv{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=sv.initialStylesByElement.get(t);r||sv.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&zg(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zg(this._element,this._initialStyles),this._endStyles&&(zg(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(sv.initialStylesByElement.delete(this._element),this._startStyles&&(Wg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wg(this._element,this._endStyles),this._endStyles=null),zg(this._element,this._initialStyles),this._state=3)}}function av(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];uv(i)&&(e=e||{},e[i]=t[i])}return e}function uv(t){return"display"===t||"position"===t}sv.initialStylesByElement=new WeakMap;const cv="animation",lv="animationend";class hv{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=vv(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),mv(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),gv(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){dv(this._element,this._name,"paused")}resume(){dv(this._element,this._name,"running")}setPosition(t){const e=fv(this._element,this._name);this._position=t*this._duration,mv(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),gv(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=vv(t,"").split(","),r=pv(n,e);r>=0&&(n.splice(r,1),mv(t,"",n.join(",")))}(this._element,this._name))}}function dv(t,e,n){mv(t,"PlayState",n,fv(t,e))}function fv(t,e){const n=vv(t,"");return n.indexOf(",")>0?pv(n.split(","),e):pv([n],e)}function pv(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function gv(t,e,n){n?t.removeEventListener(lv,e):t.addEventListener(lv,e)}function mv(t,e,n,r){const i=cv+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function vv(t,e){return t.style[cv+e]||""}class yv{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new hv(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:nm(this.element,n))})}this.currentSnapshot=t}}class bv extends ag{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=xg(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class _v{constructor(){this._count=0}validateStyleProperty(t){return Ag(t)}matchesElement(t,e){return Eg(t,e)}containsElement(t,e){return Cg(t,e)}query(t,e,n){return Tg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>xg(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof yv),u={};Zg(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=tm(t,e,u));if(0==n)return new bv(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=ov(t,e),f=new yv(t,e,l,n,r,i,c,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class wv{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:nm(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Sv{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kv().toString()),this._cssKeyframesDriver=new _v}validateStyleProperty(t){return Ag(t)}matchesElement(t,e){return Eg(t,e)}containsElement(t,e){return Cg(t,e)}query(t,e,n){return Tg(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=o.filter(t=>t instanceof wv);Zg(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=ov(t,e=tm(t,e=e.map(t=>Bg(t,!1)),u));return new wv(t,e,a,l)}}function kv(){return cg()&&Element.prototype.animate||{}}let Av=(()=>{class t extends Jp{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Et.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?ng(t):t;return Tv(this._renderer,null,e,"register",[n]),new Ev(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(sr(Ls),sr(Qu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Ev extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Cv(this._id,t,e||{},this._renderer)}}class Cv{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Tv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Tv(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const xv="@",Pv="@.disabled";let Iv=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Ov("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Rv(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(sr(Ls),sr(iv),sr(vu))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();class Ov{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==xv&&e==Pv?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Rv extends Ov{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==xv?"."==e.charAt(1)&&e==Pv?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==xv){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=xv&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Dv=(()=>{class t extends iv{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu),sr(Ig),sr(Cm))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const Nv=new qn("AnimationModuleType"),Lv=[{provide:Jp,useClass:Av},{provide:Cm,useFactory:function(){return new Tm}},{provide:iv,useClass:Dv},{provide:Ls,useFactory:function(t,e,n){return new Iv(t,e,n)},deps:[qc,iv,vu]}],Mv=[{provide:Ig,useFactory:function(){return"function"==typeof kv()?new Sv:new _v}},{provide:Nv,useValue:"BrowserAnimations"},...Lv],Fv=[{provide:Ig,useClass:Pg},{provide:Nv,useValue:"NoopAnimations"},...Lv];let jv=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Fv:Mv}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:Mv,imports:[tl]}),t})();const Vv=new Vs("12.2.13"),Uv=new qn("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Bv,qv=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!Ou()||mp())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Vv.full!==Yp.full&&console.warn("The Angular Material version ("+Vv.full+") does not match the Angular CDK version ("+Yp.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(sr(Kp),sr(Uv,8),sr(Qu))},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Qp],Qp]}),t})();function Hv(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=np(t)}}}function zv(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Wv(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=np(t)}}}try{Bv="undefined"!=typeof Intl}catch(ew){Bv=!1}let Gv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[qv],qv]}),t})();class Kv{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $v={enterDuration:225,exitDuration:150},Xv=dp({passive:!0}),Qv=["mousedown","touchstart"],Yv=["mouseup","mouseleave","touchend","touchcancel"];class Jv{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=op(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},$v),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,u=i.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const l=new Kv(this,c,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},u),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},$v),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=op(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Qv))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Yv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Rp(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Dp(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Xv)})})}_removeTriggerEvents(){this._triggerElement&&(Qv.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xv)}),this._pointerUpEventsRegistered&&Yv.forEach(t=>{this._triggerElement.removeEventListener(t,this,Xv)}))}}const Zv=new qn("mat-ripple-global-options");let ty=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Jv(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(jo(Ds),jo(vu),jo(lp),jo(Zv,8),jo(Nv,8))},t.\u0275dir=Kt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&es("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),ey=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[qv,hp],qv]}),t})();function ny(t,e,n,i){return r(n)&&(i=n,n=void 0),i?ny(t,e,n).pipe(C(t=>u(t)?i(...t):i(t))):new y(r=>{ry(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function ry(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)ry(t[o],e,n,r,i)}r.add(o)}const iy=["primaryValueBar"],oy=zv(class{constructor(t){this._elementRef=t}},"primary"),sy=new qn("mat-progress-bar-location",{providedIn:"root",factory:function(){const t=ar(Qu),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}});let ay=0,uy=(()=>{class t extends oy{constructor(t,e,n,r){super(t),this._ngZone=e,this._animationMode=n,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Na,this._animationEndSubscription=h.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+ay++;const i=r?r.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${i}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===n}get value(){return this._value}set value(t){this._value=cy(function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t)||0)}get bufferValue(){return this._bufferValue}set bufferValue(t){this._bufferValue=cy(t||0)}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=ny(t,"transitionend").pipe(Cl(e=>e.target===t)).subscribe(()=>{"determinate"!==this.mode&&"buffer"!==this.mode||this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(jo(Ds),jo(vu),jo(Nv,8),jo(sy,8))},t.\u0275cmp=Bt({type:t,selectors:[["mat-progress-bar"]],viewQuery:function(t,e){if(1&t&&Ka(iy,5),2&t){let t;Ga(t=$a())&&(e._primaryValueBar=t.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,e){2&t&&(Lo("aria-valuenow","indeterminate"===e.mode||"query"===e.mode?null:e.value)("mode",e.mode),es("_mat-animation-noopable",e._isNoopAnimation))},inputs:{color:"color",mode:"mode",value:"value",bufferValue:"bufferValue"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[Eo],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,e){1&t&&(Bo(0,"div",0),tn(),Bo(1,"svg",1),Bo(2,"defs"),Bo(3,"pattern",2),Ho(4,"circle",3),qo(),qo(),Ho(5,"rect",4),qo(),en(),Ho(6,"div",5),Ho(7,"div",6,7),Ho(9,"div",8),qo()),2&t&&(di(3),Vo("id",e.progressbarId),di(2),Lo("fill",e._rectangleFillValue),di(1),Vo("ngStyle",e._bufferTransform()),di(1),Vo("ngStyle",e._primaryTransform()))},directives:[_c],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),t})();function cy(t,e=0,n=100){return Math.max(e,Math.min(n,t))}let ly=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[wc,qv],qv]}),t})(),hy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["app-my-introduction"]],decls:81,vars:0,consts:[["src","https://images.unsplash.com/photo-1560762484-813fc97650a0?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=774&q=80","alt","Background",1,"keyboardBG","w-100","h-100"],[1,"container-fluid"],[1,"row","justify-content-center","align-items-center"],["src","../../assets/introduction/Wave.png","alt","Wave",1,"wave"],[1,"introduction","mb-5"],[1,"col-12","d-xl-flex","mb-5"],[1,"col-12","col-xl-6","mb-5","mb-xl-0"],[1,"wiinsBG","w-100","h-100","px-5"],["src","../../assets/portfolio/wiins/WiinsTeam.png","alt","Wiin's",1,"w-100","h-100"],[1,"story","col-12","col-xl-6","px-5","px-xl-0","pe-xl-5"],[1,"mb-2"],[1,"mb-4"],["href","https://github.com/Nathanael421/WiinsWeb","target","_blank"],["href","https://www.udemy.com/","target","_blank"],[1,"socialIcon","mt-4","mb-4","mb-xxl-0","w-100","d-flex","justify-content-around","justify-content-xl-start"],[1,"behance","text-center","me-xl-5"],["href","https://www.behance.net/gallery/135210393/Wiins-To-a-infinite-space/modules/765074507"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-behance"],["d","M4.654 3c.461 0 .887.035 1.278.14.39.07.711.216.996.391.286.176.497.426.641.747.14.32.216.711.216 1.137 0 .496-.106.922-.356 1.242-.215.32-.566.606-.997.817.606.176 1.067.496 1.348.922.281.426.461.957.461 1.563 0 .496-.105.922-.285 1.278a2.317 2.317 0 0 1-.782.887c-.32.215-.711.39-1.137.496a5.329 5.329 0 0 1-1.278.176L0 12.803V3h4.654zm-.285 3.978c.39 0 .71-.105.957-.285.246-.18.355-.497.355-.887 0-.216-.035-.426-.105-.567a.981.981 0 0 0-.32-.355 1.84 1.84 0 0 0-.461-.176c-.176-.035-.356-.035-.567-.035H2.17v2.31c0-.005 2.2-.005 2.2-.005zm.105 4.193c.215 0 .426-.035.606-.07.176-.035.356-.106.496-.216s.25-.215.356-.39c.07-.176.14-.391.14-.641 0-.496-.14-.852-.426-1.102-.285-.215-.676-.32-1.137-.32H2.17v2.734h2.305v.005zm6.858-.035c.286.285.711.426 1.278.426.39 0 .746-.106 1.032-.286.285-.215.46-.426.53-.64h1.74c-.286.851-.712 1.457-1.278 1.848-.566.355-1.243.566-2.06.566a4.135 4.135 0 0 1-1.527-.285 2.827 2.827 0 0 1-1.137-.782 2.851 2.851 0 0 1-.712-1.172c-.175-.461-.25-.957-.25-1.528 0-.531.07-1.032.25-1.493.18-.46.426-.852.747-1.207.32-.32.711-.606 1.137-.782a4.018 4.018 0 0 1 1.493-.285c.606 0 1.137.105 1.598.355.46.25.817.532 1.102.958.285.39.496.851.641 1.348.07.496.105.996.07 1.563h-5.15c0 .58.21 1.11.496 1.396zm2.24-3.732c-.25-.25-.642-.391-1.103-.391-.32 0-.566.07-.781.176-.215.105-.356.25-.496.39a.957.957 0 0 0-.25.497c-.036.175-.07.32-.07.46h3.196c-.07-.526-.25-.882-.497-1.132zm-3.127-3.728h3.978v.957h-3.978v-.957z"],[1,"linkedin","text-center","me-xl-5"],["href","https://www.linkedin.com/in/nathanael-rayapin-b23b771b0/","target","_blank"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-linkedin"],["d","M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"],[1,"github","text-center"],["href","https://github.com/Nathanael421","target","_blank"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-github"],["d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"],[1,"competence"],[1,"row"],[1,"col-12","px-5","mb-4"],[1,"col-12","d-flex","align-items-center","mb-2"],[1,"col-3","col-xl-2"],[1,"col-9","col-xl-6"],["mode","determinate","value","80"],["mode","determinate","value","60"],["mode","determinate","value","70"],[1,"col-12","d-flex","align-items-center"]],template:function(t,e){1&t&&(Ho(0,"img",0),Bo(1,"div",1),Bo(2,"div",2),Ho(3,"img",3),qo(),Bo(4,"div",4),Bo(5,"div",5),Bo(6,"div",6),Bo(7,"div",7),Ho(8,"img",8),qo(),qo(),Bo(9,"div",9),Bo(10,"h3",10),ss(11,"Nathana\xebl Rayapin"),qo(),Bo(12,"p",11),ss(13,"Graduated in 2018 in Building Design and Finishing, I worked doing various missions that were not all necessarily related to my studies (material sales advisor, building painter, line driver etc.). During this same time I dedicated myself to a project with some friends which was very ambitious: To compete with, or even surpass, the current social networks : "),Bo(14,"a",12),ss(15,"Wiin's"),qo(),qo(),Bo(16,"p"),ss(17,"I started this project as a Moderator and then switched in March 2021 to Web Developer where I learned HTML / CSS / Javascript and how to design on Figma as a self-taught, and finally I recently specialized with the Angular front-end framework thanks to the online trainings on "),Bo(18,"a",13),ss(19,"Udemy"),qo(),ss(20," (approved by companies internationally).\xa0"),qo(),Bo(21,"div",14),Bo(22,"div",15),Bo(23,"a",16),tn(),Bo(24,"svg",17),Ho(25,"path",18),qo(),en(),Bo(26,"p"),ss(27,"Behance"),qo(),qo(),qo(),Bo(28,"div",19),Bo(29,"a",20),tn(),Bo(30,"svg",21),Ho(31,"path",22),qo(),en(),Bo(32,"p"),ss(33,"Linkedin"),qo(),qo(),qo(),Bo(34,"div",23),Bo(35,"a",24),tn(),Bo(36,"svg",25),Ho(37,"path",26),qo(),en(),Bo(38,"p"),ss(39,"Github"),qo(),qo(),qo(),qo(),qo(),qo(),Bo(40,"div",27),Bo(41,"div",28),Bo(42,"div",29),Bo(43,"h3",11),ss(44,"Competence"),qo(),Bo(45,"div",30),Bo(46,"div",31),Bo(47,"p"),ss(48,"HTML"),qo(),qo(),Bo(49,"div",32),Ho(50,"mat-progress-bar",33),qo(),qo(),Bo(51,"div",30),Bo(52,"div",31),Bo(53,"p"),ss(54,"Css"),qo(),qo(),Bo(55,"div",32),Ho(56,"mat-progress-bar",33),qo(),qo(),Bo(57,"div",30),Bo(58,"div",31),Bo(59,"p"),ss(60,"Javascript"),qo(),qo(),Bo(61,"div",32),Ho(62,"mat-progress-bar",34),qo(),qo(),Bo(63,"div",30),Bo(64,"div",31),Bo(65,"p"),ss(66,"Typescript"),qo(),qo(),Bo(67,"div",32),Ho(68,"mat-progress-bar",35),qo(),qo(),Bo(69,"div",30),Bo(70,"div",31),Bo(71,"p"),ss(72,"Framework Bootstrap"),qo(),qo(),Bo(73,"div",32),Ho(74,"mat-progress-bar",35),qo(),qo(),Bo(75,"div",36),Bo(76,"div",31),Bo(77,"p"),ss(78,"Framework Angular"),qo(),qo(),Bo(79,"div",32),Ho(80,"mat-progress-bar",33),qo(),qo(),qo(),qo(),qo(),qo(),qo())},directives:[uy],styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]:not(img){z-index:10}img.keyboardBG[_ngcontent-%COMP%]{position:absolute;object-fit:cover;object-position:center;top:0;left:0;filter:blur(2px)}img.wave[_ngcontent-%COMP%]{position:relative}@media screen and (max-width: 768px){img.wave[_ngcontent-%COMP%]{margin-top:17em}}@media screen and (min-width: 769px) and (max-width: 1200px){img.wave[_ngcontent-%COMP%]{margin-top:1em}}.wiinsBG[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;object-fit:cover;object-position:center}.story[_ngcontent-%COMP%]{position:relative}.story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, .story[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){text-align:justify}.story[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (min-width: 1201px){.story[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}}.story[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.socialIcon[_ngcontent-%COMP%]   .behance[_ngcontent-%COMP%]   .bi-behance[_ngcontent-%COMP%]{transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .behance[_ngcontent-%COMP%]:hover   .bi-behance[_ngcontent-%COMP%]{color:#fff;background-color:#0057ff;border-radius:5px}.socialIcon[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]   .bi-linkedin[_ngcontent-%COMP%]{transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover   .bi-linkedin[_ngcontent-%COMP%]{color:#fff;background-color:#0a66c2}.socialIcon[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]   .bi-github[_ngcontent-%COMP%]{transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover   .bi-github[_ngcontent-%COMP%]{color:#424242;border-radius:50%}@media screen and (min-width: 1201px){.curriculum[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;right:3em;bottom:.4rem;width:10em;border-radius:20px}}"]}),t})(),dy=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["app-my-progress"]],decls:14,vars:0,consts:[["src","../../assets/next-step/Background.png",1,"keyboardBG","w-100","h-100"],[1,"container-fluid"],[1,"row","justify-content-center","align-items-center"],["src","../../assets/introduction/Wave.png","alt","Wave",1,"wave"],[1,"introduction","mb-5"],[1,"col-12","d-xl-flex"],[1,"col-12","col-xl-6","mb-5","mb-xl-0"],[1,"wiinsBG","w-100","h-100","px-5"],["src","https://images.unsplash.com/photo-1605379399843-5870eea9b74e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=898&q=80","alt","Wiin's",1,"w-100","h-100"],[1,"storie","col-12","col-xl-6","px-5","px-xl-0","pe-xl-5"],[1,"mb-2"],[1,"mb-4"]],template:function(t,e){1&t&&(Ho(0,"img",0),Bo(1,"div",1),Bo(2,"div",2),Ho(3,"img",3),qo(),Bo(4,"div",4),Bo(5,"div",5),Bo(6,"div",6),Bo(7,"div",7),Ho(8,"img",8),qo(),qo(),Bo(9,"div",9),Bo(10,"h3",10),ss(11,"Fullstack Developer"),qo(),Bo(12,"p",11),ss(13,"Versatile and self-taught, my main goal is to become a fullstack developer. I am ready to work abroad to expand my skills in the field.After mastering the Angular framework, I want to turn to the React programming language which I think would offer me more viability and competence. "),qo(),qo(),qo(),qo(),qo())},styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]:not(img){z-index:10}img.keyboardBG[_ngcontent-%COMP%]{position:absolute;object-fit:cover;object-position:center;top:0;left:0;filter:blur(2px)}img.wave[_ngcontent-%COMP%]{position:relative}@media screen and (max-width: 768px){img.wave[_ngcontent-%COMP%]{margin-top:17em}}@media screen and (min-width: 769px) and (max-width: 1200px){img.wave[_ngcontent-%COMP%]{margin-top:1em}}.wiinsBG[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px}.storie[_ngcontent-%COMP%]{position:relative}.storie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, .storie[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){text-align:justify}.storie[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.storie[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}.storie[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.socialIcon[_ngcontent-%COMP%]   .behance[_ngcontent-%COMP%]   .bi-behance[_ngcontent-%COMP%]{transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .behance[_ngcontent-%COMP%]:hover   .bi-behance[_ngcontent-%COMP%]{color:#fff;background-color:#0057ff;border-radius:5px}.socialIcon[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]   .bi-linkedin[_ngcontent-%COMP%]{transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover   .bi-linkedin[_ngcontent-%COMP%]{color:#fff;background-color:#0a66c2}.socialIcon[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]   .bi-github[_ngcontent-%COMP%]{transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover   .bi-github[_ngcontent-%COMP%]{color:#424242;border-radius:50%}"]}),t})();const fy=[tg("introNavState",[ig("istatic",rg({transform:"translateX(0)",transition:"all .3s"})),ig("itransition",rg({transform:"translateY(-550%)",transition:"all .3s"}))]),tg("introTitleState",[ig("istart",rg({opacity:"0",position:"relative",top:"5em",transition:"all .4s"})),ig("iend",rg({opacity:"1",position:"relative",top:"0",transition:"all .4s"}))]),tg("portfoNavState",[ig("pstatic",rg({transform:"translateX(0)",transition:"all .3s"})),ig("ptransition",rg({transform:"translateY(-550%)",transition:"all .3s"}))]),tg("portfoTitleState",[ig("pstart",rg({opacity:"0",position:"relative",top:"5em",transition:"all .4s"})),ig("pend",rg({opacity:"1",position:"relative",top:"-6rem",transition:"all .4s"}))]),tg("nextNavState",[ig("nstatic",rg({transform:"translateX(0)",transition:"all .3s"})),ig("ntransition",rg({transform:"translateY(-550%)",transition:"all .3s"}))]),tg("nextTitleState",[ig("nstart",rg({opacity:"0",position:"relative",top:"5em",transition:"all .4s"})),ig("nend",rg({opacity:"1",position:"relative",top:"-12rem",transition:"all .4s"}))])],py=[{path:"",redirectTo:"introduction",pathMatch:"full"},{path:"introduction",component:hy},{path:"portfolio",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=Bt({type:t,selectors:[["app-my-portfolio"]],decls:102,vars:0,consts:[["src","../../assets/introduction/PortfolioBG.png","alt","Background",1,"notepadBG","w-100","h-100"],[1,"container-fluid"],[1,"row","justify-content-center","align-items-center"],["src","../../assets/introduction/Wave.png","alt","Wave",1,"wave"],[1,"portfolio","mb-5"],[1,"col-12","d-xl-flex","mb-5"],[1,"col-12","col-xl-6","mb-5","mb-xl-0"],[1,"wiinsBG","w-100","h-100","px-5"],["src","../../assets/portfolio/wiins/Wiins.png","alt","Wiin's",1,"w-100","h-100"],[1,"wiins","col-12","col-xl-6","px-5","px-xl-0","pe-xl-5"],[1,"mb-2"],["href","https://github.com/Nathanael421/WiinsWeb","target","_blank"],[1,"mb-4"],[1,"socialIcon","mt-4","mb-5","mb-xxl-0","w-100","d-flex","justify-content-between","justify-content-xl-start"],[1,"discord","text-center","me-xl-5"],["href","https://discord.gg/jpJa7wHn","target","_blank"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-discord"],["d","M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"],[1,"instagram","text-center","me-xl-5"],["href","https://www.instagram.com/wiins___/?igshid=j80w5gvf3sqm"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-instagram"],["d","M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"],[1,"linkedin","text-center","me-xl-5"],["href","https://www.linkedin.com/company/espace-wiin-s/","target","_blank"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-linkedin"],["d","M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"],[1,"github","text-center","me-xl-5"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-github"],["d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"],[1,"facebook","text-center"],["href","https://www.facebook.com/pages/category/Photography-Videography/Wiins-109652504066491/","target","_blank"],["xmlns","http://www.w3.org/2000/svg","width","25","height","25","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-facebook"],["d","M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"],[1,"moreAboutWiins"],[1,"row"],[1,"col-12","px-5","mb-4"],[1,"col-12","d-xl-flex","px-5","mb-4"],[1,"music","col-12","col-xl-9","mb-5"],["src","../../assets/portfolio/wiins/WiinsMusic.png","alt","Music",1,"w-100","h-100"],[1,"feed","col-12","col-xl-3","mb-4","d-none","d-xl-block"],["src","../../assets/portfolio/wiins/Card.png","alt","Card",1,"w-100","h-100"],[1,"col-12","px-5"],[1,"video"],["controls","","poster","../../assets/portfolio/wiins/PosterVideo.png","src","../../assets/video/Video Dynamique VF.mp4",1,"w-100","h-100"],[1,"my-5"],[1,"infiniteBG","w-100","h-100","px-5"],["src","../../assets/portfolio/infinite/Infinite.png","alt","Infinite",1,"w-100","h-100"],[1,"infinite","col-12","col-xl-6","px-5","px-xl-0","pe-xl-5"],["href","https://github.com/Nathanael421/Infinite","target","_blank"],[1,"socialIcon","mt-4","mb-5","mb-xxl-0","w-100","d-flex"],[1,"github","me-5","text-center"],[1,"moreAboutInfinite"],[1,"col-12","d-xxl-flex","px-5"],[1,"col-12","col-xxl-6","mb-5","mb-xl-0","pe-xxl-3"],["src","../../assets/portfolio/infinite/InfiniteFeed.png","alt","Feed",1,"w-100","h-100"],[1,"col-12","col-xxl-6","ps-xxl-3"],["src","../../assets/portfolio/infinite/InfiniteSetting.png","alt","Setting",1,"w-100","h-100"],[1,"col-12","px-5","mt-4"],[1,"comingSoon","text-center"]],template:function(t,e){1&t&&(Ho(0,"img",0),Bo(1,"div",1),Bo(2,"div",2),Ho(3,"img",3),qo(),Bo(4,"div",4),Bo(5,"div",5),Bo(6,"div",6),Bo(7,"div",7),Ho(8,"img",8),qo(),qo(),Bo(9,"div",9),Bo(10,"h3",10),Bo(11,"a",11),ss(12,"Wiin's"),qo(),qo(),Bo(13,"p",12),ss(14,"Wiin's is a social media that is part of the ecosystem Espace-Piin's.Inc. Its mission is to centralize in an intuitive way the sharing, communication, entertainment and assistance to the greatest number while respecting the rights of the users. "),qo(),Bo(15,"p"),ss(16,"One account, one password. All functions in one place and in an intuitive way to allow the user to navigate easily. Each certified content creator can receive monetary gifts in cryptocurrencies. These gifts can be sent by other users of the application."),qo(),Bo(17,"div",13),Bo(18,"div",14),Bo(19,"a",15),tn(),Bo(20,"svg",16),Ho(21,"path",17),qo(),en(),Bo(22,"p"),ss(23,"Discord"),qo(),qo(),qo(),Bo(24,"div",18),Bo(25,"a",19),tn(),Bo(26,"svg",20),Ho(27,"path",21),qo(),en(),Bo(28,"p"),ss(29,"Instagram"),qo(),qo(),qo(),Bo(30,"div",22),Bo(31,"a",23),tn(),Bo(32,"svg",24),Ho(33,"path",25),qo(),en(),Bo(34,"p"),ss(35,"Linkedin"),qo(),qo(),qo(),Bo(36,"div",26),Bo(37,"a",11),tn(),Bo(38,"svg",27),Ho(39,"path",28),qo(),en(),Bo(40,"p"),ss(41,"Github"),qo(),qo(),qo(),Bo(42,"div",29),Bo(43,"a",30),tn(),Bo(44,"svg",31),Ho(45,"path",32),qo(),en(),Bo(46,"p"),ss(47,"Facebook"),qo(),qo(),qo(),qo(),qo(),qo(),Bo(48,"div",33),Bo(49,"div",34),Bo(50,"div",35),Bo(51,"h3",10),ss(52,"Project"),qo(),Bo(53,"p"),ss(54,"If you can imagine an application where you can share your photo content with other users while listening to music or watching videos while chatting with your friends. All this, without advertising and with the the possibility to use cryptocurrency to help artists you like. So you can imagine Wiin's."),qo(),qo(),qo(),Bo(55,"div",34),Bo(56,"div",36),Bo(57,"div",37),Ho(58,"img",38),qo(),Bo(59,"div",39),Ho(60,"img",40),qo(),qo(),qo(),Bo(61,"div",34),Bo(62,"div",41),Bo(63,"div",42),Ho(64,"video",43),qo(),qo(),qo(),qo(),Ho(65,"hr",44),Bo(66,"div",5),Bo(67,"div",6),Bo(68,"div",45),Ho(69,"img",46),qo(),qo(),Bo(70,"div",47),Bo(71,"h3",10),Bo(72,"a",48),ss(73,"Infinite"),qo(),qo(),Bo(74,"p",12),ss(75,"Infinite is a social network that is being developed entirely by myself. The goal of this project is to code an interface by developing the Front and Back part and using the knowledge acquired in self-taught or during my training (Ran Pro, Udemy). "),qo(),Bo(76,"p"),ss(77,"For this project I'm using Angular 13 and Firebase for the data management. The final goal is to develop a service that facilitates the creation of social links between users. The site includes for the moment: a Feed, a Discover space and a Messenger space."),qo(),Bo(78,"div",49),Bo(79,"div",50),Bo(80,"a",48),tn(),Bo(81,"svg",27),Ho(82,"path",28),qo(),en(),Bo(83,"p"),ss(84,"Github"),qo(),qo(),qo(),qo(),qo(),qo(),Bo(85,"div",51),Bo(86,"div",34),Bo(87,"div",35),Bo(88,"h3",10),ss(89,"Project"),qo(),Bo(90,"p"),ss(91,"The project is visible on Github as well as the different steps to its installation. You have just registered on a social network and don't know who to talk to ? You are looking for visibility ? You are looking for interaction and want to learn about other cultures ? Try Infinite !"),qo(),qo(),qo(),Bo(92,"div",34),Bo(93,"div",52),Bo(94,"div",53),Ho(95,"img",54),qo(),Bo(96,"div",55),Ho(97,"img",56),qo(),qo(),qo(),Bo(98,"div",34),Bo(99,"div",57),Bo(100,"h1",58),ss(101,"Coming Soon"),qo(),qo(),qo(),qo(),qo(),qo())},styles:["*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]:not(img){z-index:10}img.notepadBG[_ngcontent-%COMP%]{position:absolute;object-fit:cover;object-position:center;top:0;left:0}img.wave[_ngcontent-%COMP%]{position:relative}@media screen and (max-width: 768px){img.wave[_ngcontent-%COMP%]{margin-top:17em}}@media screen and (min-width: 769px) and (max-width: 1200px){img.wave[_ngcontent-%COMP%]{margin-top:1em}}.infiniteBG[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .wiinsBG[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:20px;object-fit:cover;object-position:center}.infinite[_ngcontent-%COMP%], .wiins[_ngcontent-%COMP%]{position:relative}.infinite[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, .infinite[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2), .wiins[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type, .wiins[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-of-type(2){text-align:justify}.infinite[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .wiins[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (min-width: 1201px){.infinite[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%], .wiins[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0}}.infinite[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .wiins[_ngcontent-%COMP%]   .socialIcon[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}.socialIcon[_ngcontent-%COMP%]   .discord[_ngcontent-%COMP%]   .bi-discord[_ngcontent-%COMP%]{border-radius:5px;transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .discord[_ngcontent-%COMP%]:hover   .bi-discord[_ngcontent-%COMP%]{color:#fff;background-color:#5865f2;border-radius:5px}.socialIcon[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]   .bi-instagram[_ngcontent-%COMP%]{border-radius:5px;transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .instagram[_ngcontent-%COMP%]:hover   .bi-instagram[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(45deg,#f2c800,#e11b43,#9049c5);border-radius:5px}.socialIcon[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]   .bi-linkedin[_ngcontent-%COMP%]{border-radius:5px;transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .linkedin[_ngcontent-%COMP%]:hover   .bi-linkedin[_ngcontent-%COMP%]{color:#fff;background-color:#0a66c2}.socialIcon[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]   .bi-github[_ngcontent-%COMP%]{border-radius:5px;transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .github[_ngcontent-%COMP%]:hover   .bi-github[_ngcontent-%COMP%]{color:#424242;border-radius:50%}.socialIcon[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]   .bi-facebook[_ngcontent-%COMP%]{border-radius:5px;transition:all .2s}.socialIcon[_ngcontent-%COMP%]   .facebook[_ngcontent-%COMP%]:hover   .bi-facebook[_ngcontent-%COMP%]{color:#3e5b99;border-radius:50%}.moreAboutInfinite[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .moreAboutWiins[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.music[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.feed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .music[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-position:center}.feed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;padding-left:3.2rem;padding-top:2rem}@media screen and (min-width: 500px) and (max-width: 1200px){.feed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;object-position:center;padding:0}}.video[_ngcontent-%COMP%]{height:40em;border-radius:20px}@media screen and (min-width: 500px) and (max-width: 992px){.video[_ngcontent-%COMP%]{height:auto;border-radius:20px}}.video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{object-fit:cover;border-radius:20px}.comingSoon[_ngcontent-%COMP%]{font-size:200px;text-transform:uppercase;font-weight:900;background:linear-gradient(45deg,#5783fb,#cc42b8,#e74573);background-size:cover;-webkit-text-fill-color:#0000;-webkit-background-clip:text}@media screen and (min-width: 500px) and (max-width: 992px){.comingSoon[_ngcontent-%COMP%]{font-size:50px;text-transform:uppercase;font-weight:900;background:linear-gradient(45deg,#5783fb,#cc42b8,#e74573);background-size:cover;-webkit-text-fill-color:#0000;-webkit-background-clip:text}}@media screen and (min-width: 991px) and (max-width: 1200px){.comingSoon[_ngcontent-%COMP%]{font-size:120px;text-transform:uppercase;font-weight:900;background:linear-gradient(45deg,#5783fb,#cc42b8,#e74573);background-size:cover;-webkit-text-fill-color:#0000;-webkit-background-clip:text}}"],data:{animation:[fy]}}),t})()},{path:"nextstep",component:dy}];let gy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Vf.forRoot(py)],Vf]}),t})();const my=n(329);class vy{static init(t){return my.default.initializeApp(t),[]}static getFirestore(){return my.default.firestore()}static _getFirestore(){return my.default.firestore}static getAuth(){return my.default.auth()}static getStorage(){return my.default.storage()}static getFirestoreTimestamp(){return my.default.firestore.Timestamp.now()}}let yy=(()=>{class t{constructor(){this.defaultNavIntro=new nl("istatic"),this.defaultTitleIntro=new nl("istart"),this.defaultNavPortfo=new nl("pstatic"),this.defaultTitlePortfo=new nl("pstart"),this.defaultNavNext=new nl("nstatic"),this.defaultTitleNext=new nl("nstart")}toChangeIntro(){this.defaultNavIntro.next("itransition"),this.defaultTitleIntro.next("iend"),this.defaultNavPortfo.next("pstatic"),this.defaultTitlePortfo.next("pstart"),this.defaultNavNext.next("nstatic"),this.defaultTitleNext.next("nstart")}toChangePortfo(){this.defaultNavIntro.next("istatic"),this.defaultTitleIntro.next("istart"),this.defaultNavPortfo.next("ptransition"),this.defaultTitlePortfo.next("pend"),this.defaultNavNext.next("nstatic"),this.defaultTitleNext.next("nstart")}toChangeNext(){this.defaultNavIntro.next("istatic"),this.defaultTitleIntro.next("istart"),this.defaultNavPortfo.next("pstatic"),this.defaultTitlePortfo.next("pstart"),this.defaultNavNext.next("ntransition"),this.defaultTitleNext.next("nend")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();n(336);class by{constructor(){this.auth=vy.getAuth()}createAccountWith(t){return new Promise((e,n)=>{this.auth.createUserWithEmailAndPassword(t.email,t.password).then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(r){}n(e)})})}signInAnonymously(t){return new Promise((e,n)=>{this.auth.signInAnonymously().then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}signInWith(t){return new Promise((e,n)=>{t.provider?this.auth.signInWithPopup(this.getProvider(t.provider)).then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(r){}n(e)}):this.auth.signInWithEmailAndPassword(t.email,t.password).then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(r){}n(e)})})}getProvider(t){switch(t.toLowerCase()){case"google":return new my.default.auth.GoogleAuthProvider;case"apple":return new my.default.auth.OAuthProvider("apple.com");case"facebook":return new my.default.auth.FacebookAuthProvider;case"yahoo":return new my.default.auth.OAuthProvider("yahoo.com");case"github":return new my.default.auth.GithubAuthProvider;case"twitter":return new my.default.auth.TwitterAuthProvider;case"microsoft":return new my.default.auth.OAuthProvider("microsoft.com")}}signOut(t){return new Promise((e,n)=>{t?this.auth.signOut().then(()=>{try{t.onComplete()}catch(n){}e()}).catch(()=>{try{t.onFail()}catch(e){}n(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(t){this.auth.onAuthStateChanged(e=>{t(e)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(t){console.error(`${t} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(t){t.onComplete?this.auth.sendPasswordResetEmail(t.email).then(()=>t.onComplete(`Instructions to reset password was sent to ${t.email}.`)).catch(()=>t.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(t.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(t){console.error(`User must be signed in to use the isEmailVerified() function. \n${t}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(t){let e=this.getAuth().currentUser;try{t.whenChanged(e)}catch(n){}if(this.isSignedIn()){try{t.whenSignedIn(e)}catch(n){}if(this.isEmailVerified())try{t.whenSignedInAndEmailVerified(e)}catch(n){}else try{t.whenSignedInAndEmailNotVerified(e)}catch(n){}}else try{t.whenSignedOut(e)}catch(n){}}}n(318);class _y{constructor(){this.listeners=new Map}appendArray(t){return vy._getFirestore().FieldValue.arrayUnion(t)}increment(t){return vy._getFirestore().FieldValue.increment(t)}genDocId(){return vy.getFirestore().collection("TEMP").doc().id}all(t){const e=vy.getFirestore().batch();for(let n of t.operations)n.getOperation(e);return new Promise((n,r)=>{e.commit().then(()=>{try{t.onComplete()}catch(e){}n()}).catch(e=>{try{t.onFail(e)}catch(n){}r(e)})})}create(t){return new Promise((e,n)=>{if(null==t.data||null==t.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(t.path)){let r=this.genCollectionReference(t.path).doc();r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch(n){}e(r.id)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})}else if(this.isDocumentPath(t.path)){let r=this.genDocumentReference(t.path);r.set(t.data).then(()=>{try{t.onComplete(r.id)}catch(n){}e(r.id)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})}})}delete(t){return new Promise((e,n)=>{this.checkDocumentPathValidity(t.path),this.genDocumentReference(t.path).delete().then(()=>{try{t.onComplete()}catch(n){}e()}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}update(t){return new Promise((e,n)=>{this.checkDocumentPathValidity(t.path);const r=this.genDocumentReference(t.path);r.update(t.data).then(()=>{try{t.onComplete(r)}catch(n){}e(r)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}getCollection(t){let e=this.genCollectionReference(t.path);return new Promise((null!=t.where||null!=t.where)&&t.where.length>0?(n,r)=>{let i;const o=Array(t.where)[0];for(let t=0;t<o.length;t++)i=null==i?o[t].getQuery(e):o[t].concatQuery(i);i.get().then(e=>{try{t.onComplete(e)}catch(r){}n(e)}).catch(e=>{try{t.onFail(e)}catch(e){}r(e)})}:(n,r)=>{e.get().then(e=>{try{t.onComplete(e)}catch(r){}n(e)}).catch(e=>{try{t.onFail(e)}catch(e){}r(e)})})}getDocument(t){return new Promise((e,n)=>{this.genDocumentReference(t.path).get().then(n=>{try{t.onComplete(n)}catch(r){}e(n)}).catch(e=>{try{t.onFail(e)}catch(e){}n(e)})})}listenToDocument(t){this.validateListenerName(t.name),this.addListener(t.name,this.genDocumentReference(t.path).onSnapshot(e=>{try{t.onUpdate(e)}catch(n){}}))}listenToCollection(t){this.validateListenerName(t.name);let e=this.genCollectionReference(t.path);if((null!=t.where||null!=t.where)&&t.where.length>0){let n;const r=Array(t.where)[0];for(let t=0;t<r.length;t++)n=null==n?r[t].getQuery(e):r[t].concatQuery(n);this.addListener(t.name,n.onSnapshot(e=>{try{t.onUpdate(e)}catch(n){}}))}else this.addListener(t.name,e.onSnapshot(e=>{try{t.onUpdate(e)}catch(n){}}))}genCollectionReference(t){this.checkCollectionPathValidity(t);const e=Array(t)[0];let n,r;for(let i=0;i<e.length;i++)i%2==0?n=null==n?vy.getFirestore().collection(e[i]):r.collection(e[i]):r=n.doc(e[i]);return n}genDocumentReference(t){this.checkDocumentPathValidity(t);const e=Array(t)[0];let n,r;for(let i=0;i<e.length;i++)i%2==0?n=null==n?vy.getFirestore().collection(e[i]):r.collection(e[i]):r=n.doc(e[i]);return r}addListener(t,e){return this.listeners.set(t,e),e}stopListeningTo(t){try{this.listeners.get(t)(),this.listeners.delete(t)}catch(e){}}stopListeningToAll(){this.listeners.forEach((t,e,n)=>{this.stopListeningTo(e)})}validateListenerName(t){if(null==t||null==t||"string"!=typeof t||t.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(t))throw`Listener name: ${t} is already taken.`}checkCollectionPathValidity(t){if(null==t||null==t||t.length<=0||!this.isCollectionPath(t))throw"Not a valid path to a collection."}isCollectionPath(t){return Array(t)[0].length%2==1}checkDocumentPathValidity(t){if(null==t||null==t||t.length<=0||!this.isDocumentPath(t))throw"Not a valid path to a document."}isDocumentPath(t){return Array(t)[0].length%2==0}}let wy=(()=>{class t{constructor(){this.firestoreAuth=new by,this.firestore=new _y}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=lt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();new class extends _p{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends yp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});let Sy=1;const ky=Promise.resolve(),Ay={};function Ey(t){return t in Ay&&(delete Ay[t],!0)}const Cy={setImmediate(t){const e=Sy++;return Ay[e]=!0,ky.then(()=>Ey(e)&&t()),e},clearImmediate(t){Ey(t)}};new class extends _p{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends yp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=Cy.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Cy.clearImmediate(e),t.scheduled=void 0)}});class Ty{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new xy(t,this.durationSelector))}}class xy extends F{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=j(n,new M(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Py(t){return!u(t)&&t-parseFloat(t)+1>=0}function Iy(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Oy(t,e=wp){return n=()=>function(t=0,e,n){let r=-1;return Py(e)?r=Number(e)<1?1:Number(e):E(e)&&(n=e),E(n)||(n=wp),new y(e=>{const i=Py(t)?t:+t-n.now();return n.schedule(Iy,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Ty(n))};var n}new class extends _p{}(class extends yp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}});class Ry{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return el(this.value);case"E":return t=this.error,new y(e=>e.error(t));case"C":return fl()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new Ry("N",t):Ry.undefinedValueNotification}static createError(t){return new Ry("E",void 0,t)}static createComplete(){return Ry.completeNotification}}Ry.completeNotification=new Ry("C"),Ry.undefinedValueNotification=new Ry("N",void 0);let Dy=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Oy(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):el()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Cl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=op(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ny(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(sr(vu),sr(lp),sr(Qu,8))},t.\u0275prov=lt({factory:function(){return new t(sr(vu),sr(lp),sr(Qu,8))},token:t,providedIn:"root"}),t})(),Ny=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new k,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Oy(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(sr(lp),sr(vu),sr(Qu,8))},t.\u0275prov=lt({factory:function(){return new t(sr(lp),sr(vu),sr(Qu,8))},token:t,providedIn:"root"}),t})(),Ly=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})(),My=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Qp,hp,Ly],Qp,Ly]}),t})();class Fy{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jy extends Fy{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Vy extends Fy{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Uy extends Fy{constructor(t){super(),this.element=t instanceof Ds?t.nativeElement:t}}class By{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Vy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Uy?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qy extends By{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Hy=(()=>{class t extends By{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new Na,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(jo(Ps),jo(va),jo(Qu))},t.\u0275dir=Kt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Eo]}),t})(),zy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})();const Wy=fp();class Gy{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ip(-this._previousScrollPosition.left),t.style.top=ip(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Wy&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Wy&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Ky{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $y{enable(){}disable(){}attach(){}}function Xy(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Qy(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Yy{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Xy(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Jy=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new $y,this.close=t=>new Ky(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Gy(this._viewportRuler,this._document),this.reposition=t=>new Yy(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(sr(Dy),sr(Ny),sr(vu),sr(Qu))},t.\u0275prov=lt({factory:function(){return new t(sr(Dy),sr(Ny),sr(vu),sr(Qu))},token:t,providedIn:"root"}),t})();class Zy{constructor(t){if(this.scrollStrategy=new $y,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class tb{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class eb{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nb=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu))},t.\u0275prov=lt({factory:function(){return new t(sr(Qu))},token:t,providedIn:"root"}),t})(),rb=(()=>{class t extends nb{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu))},t.\u0275prov=lt({factory:function(){return new t(sr(Qu))},token:t,providedIn:"root"}),t})(),ib=(()=>{class t extends nb{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._pointerDownListener=t=>{this._pointerDownEventTarget=gp(t)},this._clickListener=t=>{const e=gp(t),n="click"===t.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:e;this._pointerDownEventTarget=null;const r=this._attachedOverlays.slice();for(let i=r.length-1;i>-1;i--){const o=r[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e)||o.overlayElement.contains(n))break;o._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu),sr(lp))},t.\u0275prov=lt({factory:function(){return new t(sr(Qu),sr(lp))},token:t,providedIn:"root"}),t})(),ob=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||mp()){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),mp()?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(sr(Qu),sr(lp))},t.\u0275prov=lt({factory:function(){return new t(sr(Qu),sr(lp))},token:t,providedIn:"root"}),t})();class sb{constructor(t,e,n,r,i,o,s,a,u){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=u,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new k,this._outsidePointerEvents=new k,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bl(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ip(this._config.width),t.height=ip(this._config.height),t.minWidth=ip(this._config.minWidth),t.minHeight=ip(this._config.minHeight),t.maxWidth=ip(this._config.maxWidth),t.maxHeight=ip(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;rp(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zf(z(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const ab="cdk-overlay-connected-position-bounding-box",ub=/([A-Za-z%]+)$/;class cb{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(ab),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),u=this._getOverlayFit(a,e,n,o);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(u,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<u.visibleArea)&&(i={overlayFit:u,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&lb(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ab),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=db(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),u=this._getOffset(r,"y");a&&(o+=a),u&&(s+=u);let c=0-s,l=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),d=this._subtractOverflows(i.height,c,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=hb(this._overlayRef.getConfig().minHeight),s=hb(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=db(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),u=Math.max(i.left-n.left-t.x,0);let c=0,l=0;return c=r.width<=i.width?u||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:c,y:l},{x:t.x+c,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new eb(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,u,c;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,u=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-r/2)}return{top:o,left:u,bottom:s,right:c,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ip(n.height),r.top=ip(n.top),r.bottom=ip(n.bottom),r.width=ip(n.width),r.left=ip(n.left),r.right=ip(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=ip(t)),i&&(r.maxWidth=ip(i))}this._lastBoundingBoxSize=n,lb(this._boundingBox.style,r)}_resetBoundingBoxStyles(){lb(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){lb(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();lb(n,this._getExactOverlayY(e,t,r)),lb(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),u=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),u&&(s+=`translateY(${u}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=ip(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=ip(o.maxWidth):i&&(n.maxWidth="")),lb(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ip(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=ip(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Qy(t,n),isOriginOutsideView:Xy(t,n),isOverlayClipped:Qy(e,n),isOverlayOutsideView:Xy(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&rp(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ds)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function lb(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function hb(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(ub);return n&&"px"!==n?null:parseFloat(e)}return t||null}function db(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class fb{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new cb(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new tb(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const pb="cdk-global-overlay-wrapper";class gb{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(pb),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(pb),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let mb=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new gb}connectedTo(t,e,n){return new fb(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new cb(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(sr(Ny),sr(Qu),sr(lp),sr(ob))},t.\u0275prov=lt({factory:function(){return new t(sr(Ny),sr(Qu),sr(lp),sr(ob))},token:t,providedIn:"root"}),t})(),vb=0,yb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u,c,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=u,this._location=c,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Zy(t);return i.direction=i.direction||this._directionality.value,new sb(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+vb++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ju)),new qy(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(sr(Jy),sr(ob),sr(Ps),sr(mb),sr(rb),sr(ko),sr(vu),sr(Qu),sr(Xp),sr(hc),sr(ib))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})();const bb={provide:new qn("cdk-connected-overlay-scroll-strategy"),deps:[yb],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let _b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[yb,bb],imports:[[Qp,zy,My],My]}),t})();const wb=["mat-button",""],Sb=["*"],kb=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Ab=zv(Hv(Wv(class{constructor(t){this._elementRef=t}})));let Eb=(()=>{class t extends Ab{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of kb)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(jo(Ds),jo(Hp),jo(Nv,8))},t.\u0275cmp=Bt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&Ka(ty,5),2&t){let t;Ga(t=$a())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(Lo("disabled",e.disabled||null),es("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Eo],attrs:wb,ngContentSelectors:Sb,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(function(t){const e=Te()[16][6];if(!e.projection){const t=e.projection=Xn(1,null),n=t.slice();let r=e.child;for(;null!==r;){const e=0;null!==e&&(n[e]?n[e].projectionNext=r:t[e]=r,n[e]=r),r=r.next}}}(),Bo(0,"span",0),function(t,e=0,n){const r=Te(),i=xe(),o=Si(i,Qt+t,16,null,n||null);null===o.projection&&(o.projection=e),Ne(),64!=(64&o.flags)&&function(t,e,n){Yr(e[11],0,e,n,jr(t,n,e),Hr(n.parent||e[6],n,e))}(i,r,o)}(1),qo(),Ho(2,"span",1),Ho(3,"span",2)),2&t&&(di(2),es("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Vo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[ty],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),Cb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[ey,qv],qv]}),t})();const Tb=new Set;let xb,Pb=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ib}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(t){if(!Tb.has(t))try{xb||(xb=document.createElement("style"),xb.setAttribute("type","text/css"),document.head.appendChild(xb)),xb.sheet&&(xb.sheet.insertRule(`@media ${t} {body{ }}`,0),Tb.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(sr(lp))},t.\u0275prov=lt({factory:function(){return new t(sr(lp))},token:t,providedIn:"root"}),t})();function Ib(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Ob=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new k}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Rb(rp(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=al(Rb(rp(t)).map(t=>this._registerQuery(t).observable));return e=hl(e.pipe(bl(1)),e.pipe($f(1),function(t,e=wp){return n=>n.lift(new Sp(t,e))}(0))),e.pipe(C(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new y(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Sl(e),C(({matches:e})=>({query:t,matches:e})),Zf(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(sr(Pb),sr(vu))},t.\u0275prov=lt({factory:function(){return new t(sr(Pb),sr(vu))},token:t,providedIn:"root"}),t})();function Rb(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Db(t,e){if(1&t){const t=zo();Bo(0,"div",1),Bo(1,"button",2),Ko("click",function(){return Pe(t),Jo().action()}),ss(2),qo(),qo()}if(2&t){const t=Jo();di(2),as(t.data.action)}}function Nb(t,e){}const Lb=new qn("MatSnackBarData");class Mb{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Fb=Math.pow(2,31)-1;class jb{constructor(t,e){this._overlayRef=e,this._afterDismissed=new k,this._afterOpened=new k,this._onAction=new k,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Fb))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Vb=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(jo(jb),jo(Lb))},t.\u0275cmp=Bt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Bo(0,"span"),ss(1),qo(),Mo(2,Db,3,1,"div",0)),2&t&&(di(1),as(e.data.message),di(1),Vo("ngIf",e.hasAction))},directives:[vc,Eb],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const Ub={snackBarState:tg("state",[ig("void, hidden",rg({transform:"scale(0.8)",opacity:0})),ig("visible",rg({transform:"scale(1)",opacity:1})),og("* => visible",eg("150ms cubic-bezier(0, 0, 0.2, 1)")),og("* => void, * => hidden",eg("75ms cubic-bezier(0.4, 0.0, 1, 1)",rg({opacity:0})))])};let Bb=(()=>{class t extends By{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new k,this._onExit=new k,this._onEnter=new k,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(bl(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(jo(vu),jo(Ds),jo(oa),jo(lp),jo(Mb))},t.\u0275cmp=Bt({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&Ka(Hy,7),2&t){let t;Ga(t=$a())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&$o("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&ls("@state",e._animationState)},features:[Eo],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(Bo(0,"div",0),Mo(1,Nb,0,0,"ng-template",1),qo(),Ho(2,"div")),2&t&&(di(2),Lo("aria-live",e._live)("role",e._role))},directives:[Hy],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Ub.snackBarState]}}),t})(),qb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[_b,zy,wc,Cb,qv],qv]}),t})();const Hb=new qn("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Mb}});let zb=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Vb,this.snackBarContainerComponent=Bb,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=ko.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Mb,useValue:e}]}),r=new jy(this.snackBarContainerComponent,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new Mb),this._defaultConfig),e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),o=new jb(i,r);if(t instanceof la){const e=new Vy(t,null,{$implicit:n.data,snackBarRef:o});o.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new jy(t,void 0,e),s=i.attachComponentPortal(r);o.instance=s.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Zf(r.detachments())).subscribe(t=>{const e=r.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&i._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new Zy;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return ko.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:jb,useValue:e},{provide:Lb,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(sr(yb),sr(Up),sr(ko),sr(Ob),sr(t,12),sr(Hb))},t.\u0275prov=lt({factory:function(){return new t(sr(yb),sr(Up),sr(ao),sr(Ob),sr(t,12),sr(Hb))},token:t,providedIn:qb}),t})();function Wb(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=L(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Gb=new qn("NgValidators"),Kb=new qn("NgAsyncValidators");function $b(t){return null!=t}function Xb(t){const e=Wo(t)?L(t):t;return Go(e),e}function Qb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Yb(t,e){return e.map(e=>e(t))}function Jb(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Zb(t){return null!=t?function(t){if(!t)return null;const e=t.filter($b);return 0==e.length?null:function(t){return Qb(Yb(t,e))}}(Jb(t)):null}function t_(t){return null!=t?function(t){if(!t)return null;const e=t.filter($b);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return Wb(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Wb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Wb(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(C(t=>e(...t)))}return Wb(t,null)}(Yb(t,e).map(Xb)).pipe(C(Qb))}}(Jb(t)):null}function e_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let n_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Zb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=t_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t}),t})(),r_=(()=>{class t extends n_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=jn(t)))(n||t)}}(),t.\u0275dir=Kt({type:t,features:[Eo]}),t})(),i_=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(jo(r_,10))},t.\u0275dir=Kt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&es("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[Eo]}),t})();function o_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function s_(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(e_(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(e_(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();o_(e._rawValidators,i),o_(e._rawAsyncValidators,i)}function a_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function u_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const c_="VALID",l_="INVALID",h_="PENDING",d_="DISABLED";function f_(t){return(v_(t)?t.validators:t)||null}function p_(t){return Array.isArray(t)?Zb(t):t||null}function g_(t,e){return(v_(e)?e.asyncValidators:t)||null}function m_(t){return Array.isArray(t)?t_(t):t||null}function v_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class y_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=p_(this._rawValidators),this._composedAsyncValidatorFn=m_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===c_}get invalid(){return this.status===l_}get pending(){return this.status==h_}get disabled(){return this.status===d_}get enabled(){return this.status!==d_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=p_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=m_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=h_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=d_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=c_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==c_&&this.status!==h_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?d_:c_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=h_,this._hasOwnPendingAsyncValidator=!0;const e=Xb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof __?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof w_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Na,this.statusChanges=new Na}_calculateStatus(){return this._allControlsDisabled()?d_:this.errors?l_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(h_)?h_:this._anyControlsHaveStatus(l_)?l_:c_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){v_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class b_ extends y_{constructor(t=null,e,n){super(f_(e),g_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){u_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){u_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class __ extends y_{constructor(t,e,n){super(f_(e),g_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof b_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class w_ extends y_{constructor(t,e,n){super(f_(e),g_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof b_?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const S_={provide:r_,useExisting:rt(()=>A_)},k_=(()=>Promise.resolve(null))();let A_=(()=>{class t extends r_{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Na,this.form=new __({},Zb(t),t_(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){k_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),function(t,e){s_(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&a_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&a_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){k_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),u_(this._directives,t)})}addFormGroup(t){k_.then(()=>{const e=this._findContainer(t.path),n=new __({});(function(t,e){s_(t,e)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){k_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){k_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(jo(Gb,10),jo(Kb,10))},t.\u0275dir=Kt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Ko("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Cs([S_]),Eo]}),t})(),E_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Kt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),C_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})(),T_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[C_]]}),t})(),x_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[T_]}),t})();const P_=function(){return["/"]},I_=function(){return["/portfolio"]},O_=function(){return["/nextstep"]};let R_=(()=>{class t{constructor(t,e,n){this.animationService=t,this.firebaseService=e,this._snackBar=n,this.durationInSeconds=5,this.title="Portfolio",this.defaultNavIntro="istatic",this.defaultNavPortfo="pstatic",this.defaultNavNext="nstatic",this.defaultTitleIntro="istart",this.defaultTitlePortfo="pstart",this.defaultTitleNext="nstart"}ngOnInit(){this.defaultSubNavIntro=this.animationService.defaultNavIntro.subscribe(t=>{this.defaultNavIntro=t}),this.defaultSubNavPortfo=this.animationService.defaultNavPortfo.subscribe(t=>{this.defaultNavPortfo=t}),this.defaultSubNavNext=this.animationService.defaultNavNext.subscribe(t=>{this.defaultNavNext=t}),this.defaultSubTitleIntro=this.animationService.defaultTitleIntro.subscribe(t=>{this.defaultTitleIntro=t}),this.defaultSubTitlePortfo=this.animationService.defaultTitlePortfo.subscribe(t=>{this.defaultTitlePortfo=t}),this.defaultSubTitleNext=this.animationService.defaultTitleNext.subscribe(t=>{this.defaultTitleNext=t})}toIntroState(){this.animationService.toChangeIntro()}toPortfoState(){this.animationService.toChangePortfo()}toNextState(){this.animationService.toChangeNext()}onSendMessage(t,e){let n=t.value,r=e.value,i=this.firebaseService.firestore.genDocId();this.isNotEmpty(n)&&this.isNotEmpty(r)?this.firebaseService.firestore.create({path:["Contact",i],data:{email:n,message:r,timestamp:vy.getFirestoreTimestamp()},onComplete:n=>{this._snackBar.open("Your message has been successfully sent","Close",{duration:1e3*this.durationInSeconds}),t.value="",e.value=""},onFail:t=>{alert(t)}}):this._snackBar.open("Please fill in the two fields above","Close",{duration:1e3*this.durationInSeconds})}isNotEmpty(t){return null!==t&&t.length>0}ngOnDestroy(){this.defaultSubNavIntro.unsubscribe(),this.defaultSubNavPortfo.unsubscribe(),this.defaultSubNavNext.unsubscribe(),this.defaultSubTitleIntro.unsubscribe(),this.defaultSubTitlePortfo.unsubscribe(),this.defaultSubTitleNext.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(jo(yy),jo(wy),jo(zb))},t.\u0275cmp=Bt({type:t,selectors:[["app-root"]],decls:81,vars:12,consts:[[1,"app"],[1,"navbar","navbar-expand-sm","py-4","px-5","mt-5"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-list","text-white"],["fill-rule","evenodd","d","M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-link",3,"routerLink","click"],[1,"nav-ite"],[1,"title","text-center","text-white","mt-5"],[1,"container-fluid","w-100","h-100"],[1,"footer-distributed","p-4","bg-dark"],[1,"text-white","mb-3"],[1,"col-12","d-flex"],[1,"footer-left","col-6","col-xl-4"],[1,"footer-links","mb-4"],["href","#"],[1,"footer-links"],[1,"footer-center","col-6","col-xl-4"],[1,"map","d-flex","align-items-center","mb-4"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-geo-alt-fill","text-white","me-3"],["d","M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"],[1,"d-flex","align-items-center","mb-4"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-telephone-fill","text-white","me-3"],["fill-rule","evenodd","d","M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"],[1,"message","d-flex","align-items-center"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-envelope","text-white","me-3"],["d","M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4Zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1H2Zm13 2.383-4.708 2.825L15 11.105V5.383Zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741ZM1 11.105l4.708-2.897L1 5.383v5.722Z"],["href","mailto:nathanael.rayapin@gmail.com",1,"text-white"],[1,"footer-right","d-none","d-xl-block","col-xl-4"],[1,"form-group","mb-4"],["name","email","type","email","placeholder","Your email...",1,"form-control","p-2"],["emailInput",""],["name","message","placeholder","Your message...","id","","cols","30","rows","5",1,"form-control","p-2"],["messageInput",""],[1,"form-group","text-end"],["type","button",1,"btn","btn-primary","p-2",3,"click"],["src","../assets/introduction/WaveFooter.png","alt",""]],template:function(t,e){if(1&t){const t=zo();Bo(0,"div",0),Bo(1,"nav",1),Bo(2,"div",2),Bo(3,"span",3),ss(4,"Nathana\xebl"),qo(),Bo(5,"button",4),Bo(6,"span",5),tn(),Bo(7,"svg",6),Ho(8,"path",7),qo(),qo(),qo(),en(),Bo(9,"div",8),Bo(10,"ul",9),Bo(11,"li",10),Bo(12,"a",11),Ko("click",function(){return e.toIntroState()}),ss(13,"Introduction"),qo(),qo(),Bo(14,"li",10),Bo(15,"a",11),Ko("click",function(){return e.toPortfoState()}),ss(16,"Portfolio"),qo(),qo(),Bo(17,"li",12),Bo(18,"a",11),Ko("click",function(){return e.toNextState()}),ss(19,"Progress"),qo(),qo(),qo(),qo(),qo(),qo(),Bo(20,"h1",13),ss(21,"Angular"),Ho(22,"br"),ss(23,"Web Developper"),Ho(24,"br"),Bo(25,"span"),ss(26,"- Introduction -"),qo(),Ho(27,"br"),Bo(28,"span"),ss(29,"- Portfolio -"),qo(),Ho(30,"br"),Bo(31,"span"),ss(32,"- Next-Step- "),qo(),qo(),Bo(33,"div",14),Ho(34,"router-outlet"),qo(),Bo(35,"footer",15),Bo(36,"h3",16),ss(37,"Contact Me"),qo(),Ho(38,"hr"),Bo(39,"div",17),Bo(40,"div",18),Bo(41,"p",19),Bo(42,"a",20),ss(43,"Introduction"),qo(),qo(),Bo(44,"p",19),Bo(45,"a",20),ss(46,"Portfolio"),qo(),qo(),Bo(47,"p",21),Bo(48,"a",20),ss(49,"Progress"),qo(),qo(),qo(),Bo(50,"div",22),Bo(51,"div",23),tn(),Bo(52,"svg",24),Ho(53,"path",25),qo(),en(),Bo(54,"p"),Bo(55,"span"),ss(56,"8 rue de Champagne"),qo(),ss(57,"Troyes, FRANCE"),qo(),qo(),Bo(58,"div",26),tn(),Bo(59,"svg",27),Ho(60,"path",28),qo(),en(),Bo(61,"p"),ss(62,"+641 51 27 17"),qo(),qo(),Bo(63,"div",29),tn(),Bo(64,"svg",30),Ho(65,"path",31),qo(),en(),Bo(66,"p"),Bo(67,"a",32),ss(68,"nathanael.rayapin@gmail.com"),qo(),qo(),qo(),qo(),Bo(69,"div",33),Bo(70,"form"),Bo(71,"div",34),Ho(72,"input",35,36),qo(),Bo(74,"div",34),Ho(75,"textarea",37,38),qo(),Bo(77,"div",39),Bo(78,"button",40),Ko("click",function(){Pe(t);const n=Fo(73),r=Fo(76);return e.onSendMessage(n,r)}),ss(79,"Send"),qo(),qo(),qo(),qo(),qo(),Ho(80,"img",41),qo(),qo()}2&t&&(di(12),Vo("routerLink",Ra(9,P_))("@introNavState",e.defaultNavIntro),di(3),Vo("routerLink",Ra(10,I_))("@portfoNavState",e.defaultNavPortfo),di(3),Vo("routerLink",Ra(11,O_))("@nextNavState",e.defaultNavNext),di(7),Vo("@introTitleState",e.defaultTitleIntro),di(3),Vo("@portfoTitleState",e.defaultTitlePortfo),di(3),Vo("@nextTitleState",e.defaultTitleNext))},directives:[Tf,Pf,E_,i_,A_],styles:['@import url("https://fonts.googleapis.com/css2?family=Zilla+Slab+Highlight&display=swap");*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box;margin:0;padding:0}.navbar[_ngcontent-%COMP%]{position:relative;z-index:10;background-color:hsla(0,0%,40%,.616);overflow:hidden}.navbar-toggler[_ngcontent-%COMP%]:focus{box-shadow:none}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.navbar-brand){color:#fff;font-weight:400;cursor:pointer;font-family:Verdana,Geneva,Tahoma,sans-serif}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}span.navbar-brand[_ngcontent-%COMP%]{font-family:Zilla Slab Highlight,cursive;color:#fff;font-size:25px}.title[_ngcontent-%COMP%]{position:relative;font-size:80px;z-index:10}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:50px}@media screen and (max-width: 768px){.title[_ngcontent-%COMP%]{font-size:40px}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}}@media screen and (min-width: 500px) and (max-width: 576px){.footer-distributed[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:12px}}.footer-distributed[_ngcontent-%COMP%]{position:relative}.footer-distributed[_ngcontent-%COMP%]   .bi-envelope[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer-distributed[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;z-index:2}.footer-distributed[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#fff;margin-bottom:1em}.footer-distributed[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;object-fit:cover;z-index:1}.footer-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;transition:all .5s}.footer-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.footer-center[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}@media screen and (min-width: 500px) and (max-width: 576px){.bi-envelope[_ngcontent-%COMP%], .bi-geo-alt-fill[_ngcontent-%COMP%], .bi-telephone-fill[_ngcontent-%COMP%]{width:18px}}.footer-right[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;z-index:10;width:10em;border-radius:25px;font-size:18px}'],data:{animation:[fy]}}),t})(),D_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[qv],qv]}),t})();function N_(t,e){}class L_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const M_={dialogContainer:tg("dialogContainer",[ig("void, exit",rg({opacity:0,transform:"scale(0.7)"})),ig("enter",rg({transform:"none"})),og("* => enter",eg("150ms cubic-bezier(0, 0, 0.2, 1)",rg({transform:"none",opacity:1}))),og("* => void, * => exit",eg("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",rg({opacity:0})))])};let F_=(()=>{class t extends By{constructor(t,e,n,r,i,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._focusMonitor=o,this._animationStateChanged=new Na,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=pp(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=pp())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=pp();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(jo(Ds),jo(Op),jo(oa),jo(Qu,8),jo(L_),jo(Hp))},t.\u0275dir=Kt({type:t,viewQuery:function(t,e){if(1&t&&Ka(Hy,7),2&t){let t;Ga(t=$a())&&(e._portalOutlet=t.first)}},features:[Eo]}),t})(),j_=(()=>{class t extends F_{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=jn(t)))(n||t)}}(),t.\u0275cmp=Bt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&$o("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(cs("id",e._id),Lo("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),ls("@dialogContainer",e._state))},features:[Eo],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&Mo(0,N_,0,0,"ng-template",0)},directives:[Hy],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[M_.dialogContainer]}}),t})(),V_=0;class U_{constructor(t,e,n="mat-dialog-"+V_++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,e._id=n,e._animationStateChanged.pipe(Cl(t=>"opened"===t.state),bl(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Cl(t=>"closed"===t.state),bl(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Cl(t=>27===t.keyCode&&!this.disableClose&&!function(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t))).subscribe(t=>{t.preventDefault(),B_(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():B_(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Cl(t=>"closing"===t.state),bl(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function B_(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const q_=new qn("MatDialogData"),H_=new qn("mat-dialog-default-options"),z_=new qn("mat-dialog-scroll-strategy"),W_={provide:z_,deps:[yb],useFactory:function(t){return()=>t.scrollStrategies.block()}};let G_=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=pl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Sl(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new L_)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Zy({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=ko.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:L_,useValue:e}]}),r=new jy(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new this._dialogRefConstructor(n,e,r.id);if(t instanceof la)e.attachTemplatePortal(new Vy(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),o=e.attachComponentPortal(new jy(t,r.viewContainerRef,n));i.componentInstance=o.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||r&&r.get(Xp,null,bt.Optional)||i.push({provide:Xp,useValue:{value:t.direction,change:el()}}),ko.create({parent:r||this._injector,providers:i})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(jo(yb),jo(ko),jo(void 0),jo(void 0),jo(ob),jo(void 0),jo(zn),jo(zn),jo(qn))},t.\u0275dir=Kt({type:t}),t})(),K_=(()=>{class t extends G_{constructor(t,e,n,r,i,o,s){super(t,e,r,o,s,i,U_,j_,q_)}}return t.\u0275fac=function(e){return new(e||t)(sr(yb),sr(ko),sr(hc,8),sr(H_,8),sr(z_),sr(t,12),sr(ob))},t.\u0275prov=lt({token:t,factory:t.\u0275fac}),t})(),$_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({providers:[K_,W_],imports:[[_b,zy,qv],qv]}),t})(),X_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[wc,qv,Cp],qv]}),t})(),Q_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({imports:[[Gv,qv],Gv,qv]}),t})();const Y_={apiKey:"AIzaSyADkwn72T1BHDivV59sk1Y5OlV34XzGKAg",authDomain:"portfoliocontact-5aed8.firebaseapp.com",projectId:"portfoliocontact-5aed8",storageBucket:"portfoliocontact-5aed8.appspot.com",messagingSenderId:"865854704150",appId:"1:865854704150:web:d0c037246b2eed78598337"};var J_=n(465);n(917),"undefined"==typeof window||(J_.verbosity=J_.VerbosityLevel.INFOS);let Z_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t}),t.\u0275inj=ht({}),t})(),tw=(()=>{class t{constructor(){vy.init(Y_)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=Wt({type:t,bootstrap:[R_]}),t.\u0275inj=ht({providers:[],imports:[[tl,gy,D_,$_,X_,jv,Q_,qb,x_,ly,Z_]]}),t})();(function(){if(Iu)throw new Error("Cannot enable prod mode after platform setup.");Pu=!1})(),Jc().bootstrapModule(tw).catch(t=>console.error(t))},762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}},601:()=>{},767:()=>{},251:()=>{},677:()=>{},543:()=>{},324:()=>{}},t=>{"use strict";t(t.s=12)}]);